<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js light">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>golang</title>
        <meta name="robots" content="noindex" />


        <!-- Custom HTML head -->
        
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->

    </head>
    <body>
    <div id="body-container">
        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var html = document.querySelector('html');
            var sidebar = null;
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded "><a href="go/go.html"><strong aria-hidden="true">1.</strong> golang开发环境安装</a></li><li><ol class="section"><li class="chapter-item expanded "><a href="go/go_package.html"><strong aria-hidden="true">1.1.</strong> go package</a></li><li class="chapter-item expanded "><a href="go/go_vscode.html"><strong aria-hidden="true">1.2.</strong> go vscode</a></li><li class="chapter-item expanded "><a href="go/go_vim.html"><strong aria-hidden="true">1.3.</strong> go vim</a></li></ol></li><li class="chapter-item expanded "><a href="go/go_course1.html"><strong aria-hidden="true">2.</strong> go视频教程学习笔记</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">golang</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="go"><a class="header" href="#go">go</a></h1>
<h2 id="下载安装包"><a class="header" href="#下载安装包">下载安装包</a></h2>
<pre><code>https://golang.google.cn/dl/
</code></pre>
<h2 id="环境搭建"><a class="header" href="#环境搭建">环境搭建</a></h2>
<ul>
<li>windows环境搭建</li>
</ul>
<pre><code>https://blog.csdn.net/youshijian99/article/details/81782875
</code></pre>
<h2 id="交叉编译"><a class="header" href="#交叉编译">交叉编译</a></h2>
<pre><code>参考1:https://www.cnblogs.com/zsy/p/12008141.html
参考2:https://www.cnblogs.com/shiluoliming/p/9648348.html
</code></pre>
<h2 id="常见问题"><a class="header" href="#常见问题">常见问题</a></h2>
<ul>
<li>go.mod file not found</li>
</ul>
<pre><code>go env -w GO111MODULE=auto
参考:https://www.jianshu.com/p/7614b7a421a4
</code></pre>
<ul>
<li>解决goland错误：package ***is not in GOROOT</li>
</ul>
<pre><code>解决步骤：
第一步，在项目的当前目录里，执行命令：go mod init ，会在当前项目目录下自动创建go.mod文件。
第二步，在命令行下，进入当前项目目录，执行命令：go run main.exe，此时会自动下载和关联该项目用到的包。
参考:https://www.cnblogs.com/bluesky0122/p/14208780.html
</code></pre>
<ul>
<li>go get 下载慢</li>
</ul>
<pre><code>set GOPROXY=https://goproxy.cn
set GO111MODULE=on
参考:https://www.cnblogs.com/xuweiqiang/p/12024178.html
</code></pre>
<h2 id="golang游戏框架"><a class="header" href="#golang游戏框架">golang游戏框架</a></h2>
<ul>
<li>Pitaya https://cloud.tencent.com/developer/article/1704645</li>
<li>nano: https://github.com/lonng/nano</li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h2 id="install-base-package"><a class="header" href="#install-base-package">install base package</a></h2>
<h3 id="ms-sqlserver"><a class="header" href="#ms-sqlserver">ms sqlserver</a></h3>
<ul>
<li>github:https://github.com/denisenkom/go-mssqldb</li>
<li>help demo1:https://www.cnblogs.com/songxingzhu/p/5849148.html</li>
<li>help demo2: https://blog.csdn.net/weixin_42780662/article/details/84551572?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task</li>
</ul>
<h2 id="package-cannot-download"><a class="header" href="#package-cannot-download">package cannot download</a></h2>
<pre><code>http层面增加代理
添加如下环境变量，来解决https fetch failed问题
$ export http_proxy=socks5://127.0.0.1:1080		// 梯子的本地端口
$ export https_proxy=$http_proxy
go get层面增加代理
go 1.11版本新增了 GOPROXY 环境变量，go get会根据这个环境变量来决定去哪里取引入库的代码

$ export GOPROXY=https://goproxy.io
其中，https://goproxy.io 是一个goproxy.io这个开源项目提供的公开代理服务。
</code></pre>
<ul>
<li>url:https://blog.csdn.net/snowin1994/article/details/88358836?depth_1-utm_source=distribute.pc_relevant.none-task&amp;utm_source=distribute.pc_relevant.none-task</li>
</ul>
<h2 id="go-package"><a class="header" href="#go-package">go package</a></h2>
<ol>
<li>go frame go基础开发框架:https://gitee.com/johng/gf/tree/master</li>
<li>goproxy 代理:https://gitee.com/snail/proxy</li>
<li>hfish 蜜罐:https://gitee.com/lauix/HFish</li>
<li>gopub 分布式运维:https://gitee.com/dev-ops/gopub</li>
<li>go-fastdfs 分布式下载:https://gitee.com/sjqzhang/go-fastdfs</li>
<li>gogs git托管平台:https://gitee.com/Unknown/gogs</li>
<li>httprouter http 路由：https://github.com/julienschmidt/httprouter</li>
</ol>
<div style="break-before: page; page-break-before: always;"></div><h2 id="go-vscode-setting"><a class="header" href="#go-vscode-setting">go vscode setting</a></h2>
<h3 id="参考url"><a class="header" href="#参考url">参考url:</a></h3>
<pre><code>https://www.cnblogs.com/yangxiaoyi/p/9692369.html
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="vim配置go语言开发环境"><a class="header" href="#vim配置go语言开发环境">vim配置go语言开发环境</a></h1>
<h2 id="安装插件"><a class="header" href="#安装插件">安装插件</a></h2>
<pre><code>Plug 'fatih/vim-go'
Plug 'buoto/gotests-vim'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="8小时专职golang工程师学习笔记"><a class="header" href="#8小时专职golang工程师学习笔记">8小时专职Golang工程师学习笔记</a></h1>
<p>这个课程是2021年的课程，有些知识点不一定符合最新的Golang。</p>
<ul>
<li>课程地址: https://www.bilibili.com/video/BV1gf4y1r79E?p=3&amp;vd_source=5cbf24b674b5b4183e6f626cd037b179</li>
</ul>
<h2 id="p1-课程须知与课程提纲"><a class="header" href="#p1-课程须知与课程提纲">P1 课程须知与课程提纲</a></h2>
<h2 id="p2-golang开发环境重点和ide选型推荐"><a class="header" href="#p2-golang开发环境重点和ide选型推荐">P2 Golang开发环境重点和IDE选型推荐</a></h2>
<h2 id="p3-当下的golang分析"><a class="header" href="#p3-当下的golang分析">P3 当下的Golang分析</a></h2>
<h3 id="golang的优势"><a class="header" href="#golang的优势">Golang的优势</a></h3>
<h4 id="语言层面的并发使用go关键字即可"><a class="header" href="#语言层面的并发使用go关键字即可">语言层面的并发:使用<code>go</code>关键字即可</a></h4>
<pre><code class="language-go">package main
import (
        &quot;fmt&quot;
        &quot;time&quot;
       )

func goFunc(i int) {
    fmt.Println(&quot;goroutine&quot;,i, &quot; ...&quot;)
}

func main(){
    for i := 0; i &lt; 10000; i++ {
        go goFunc(i) //开启一个并发协程
    }
    time.Sleep(time.Second)
}
</code></pre>
<h4 id="充分的利用多核"><a class="header" href="#充分的利用多核">充分的利用多核</a></h4>
<h4 id="强大的标准库"><a class="header" href="#强大的标准库">强大的标准库</a></h4>
<ul>
<li>runtime系统调度机制</li>
<li>高效的GC垃圾回收</li>
<li>丰富的标准库</li>
</ul>
<h4 id="简单易学"><a class="header" href="#简单易学">简单易学</a></h4>
<ul>
<li>25个关键字</li>
<li>C语言简洁基因，内嵌C语法支持</li>
<li>面向对象特征（继承、多态、封装）</li>
<li>跨平台</li>
<li>大厂领军
<ul>
<li>google</li>
<li>facebook</li>
<li>tencent</li>
<li>baidu</li>
<li>京东</li>
<li>小米</li>
<li>七牛</li>
<li>滴滴</li>
<li>阿里巴巴</li>
<li>字节跳动</li>
<li>bilibili</li>
<li>sina</li>
<li>美团</li>
</ul>
</li>
</ul>
<h3 id="特性展现"><a class="header" href="#特性展现">特性展现</a></h3>
<h4 id="fibonacci斐波那契数列算法"><a class="header" href="#fibonacci斐波那契数列算法">fibonacci斐波那契数列算法</a></h4>
<pre><code>go version &amp;&amp; time go build fibonacci.go &amp;&amp; time ./fibonacci
</code></pre>
<h2 id="p4-从一个main函数初见golang语法点"><a class="header" href="#p4-从一个main函数初见golang语法点">p4 从一个main函数初见Golang语法点</a></h2>
<pre><code class="language-go">package main
import &quot;fmt&quot;

func main {
    fmt.Println(&quot;hello Golang!&quot;)
}
</code></pre>
<h3 id="知识点"><a class="header" href="#知识点">知识点</a></h3>
<ul>
<li>左括号要在行尾部</li>
<li>行末可以加分号，建议不加</li>
<li>导入包的2中写法</li>
</ul>
<pre><code class="language-go">import &quot;fmt&quot;
import &quot;time&quot;
// 或
import (
    &quot;fmt&quot;
    &quot;time&quot;
)
</code></pre>
<h2 id="p5-常见的4种声明方式与多变量声明"><a class="header" href="#p5-常见的4种声明方式与多变量声明">P5 常见的4种声明方式与多变量声明</a></h2>
<h3 id="方法1声明一个变量默认值是0"><a class="header" href="#方法1声明一个变量默认值是0">方法1：声明一个变量，默认值是0</a></h3>
<pre><code class="language-go">var a int
</code></pre>
<h3 id="方法2声明一个变量初始化一个值"><a class="header" href="#方法2声明一个变量初始化一个值">方法2：声明一个变量，初始化一个值</a></h3>
<pre><code class="language-go">var b int = 100
var bb string = &quot;test&quot;
</code></pre>
<h3 id="方法3在初始化的时候可以省去数据类型通过值自动匹配当前变量的数据类型"><a class="header" href="#方法3在初始化的时候可以省去数据类型通过值自动匹配当前变量的数据类型">方法3：在初始化的时候可以省去数据类型，通过值自动匹配当前变量的数据类型。</a></h3>
<pre><code class="language-go">var c = 200
var cc = &quot;test cc&quot;
</code></pre>
<h3 id="方法4-省去var关键字直接自动匹配常用方法"><a class="header" href="#方法4-省去var关键字直接自动匹配常用方法">方法4： 省去var关键字，直接自动匹配(常用方法）</a></h3>
<ul>
<li>这种方法只能使用在函数体内。</li>
</ul>
<pre><code class="language-go">d := 300
dd := &quot;test dd&quot;
</code></pre>
<h3 id="声明多个变量"><a class="header" href="#声明多个变量">声明多个变量</a></h3>
<pre><code class="language-go">var a,b,c int = 1,2,3
var a,bb,c = 1,&quot;test bb&quot;,3
</code></pre>
<h3 id="多行的多变量声明"><a class="header" href="#多行的多变量声明">多行的多变量声明</a></h3>
<pre><code class="language-go">var (
    ee int = 100
    ff bool = true
)
</code></pre>
<h2 id="p6-const与itoa知识点注意事项"><a class="header" href="#p6-const与itoa知识点注意事项">P6 const与itoa知识点注意事项</a></h2>
<ul>
<li>常量是不运行修改的，编译无法通过。</li>
<li>可以在const()添加一个关键字iota, 每行的iota都会累加1,第一行的iota默认值为0</li>
</ul>
<pre><code class="language-go">const (
    BEIJING = iota
    SHANGHAI
    GUANGZHOU
)
</code></pre>
<h2 id="p7-golang中的多返回值的3种写法"><a class="header" href="#p7-golang中的多返回值的3种写法">P7 Golang中的多返回值的3种写法</a></h2>
<h3 id="第1种方式"><a class="header" href="#第1种方式">第1种方式</a></h3>
<pre><code class="language-go">func add(a int,b int)(int,int,int) {
    c: = a + b
    return c,a,b
}
</code></pre>
<h3 id="第2种方式"><a class="header" href="#第2种方式">第2种方式</a></h3>
<ul>
<li>c1,c2,c3默认值为0</li>
</ul>
<pre><code class="language-go">func add(a int,b int)(int c1,int c2,int c3) {
    c1 = a + b
    c2 = a + b
    c3 = a + b
    return
}
</code></pre>
<h3 id="第3种方式"><a class="header" href="#第3种方式">第3种方式</a></h3>
<pre><code class="language-go">func add(a int,b int)(c1,c2,c3 int) {
    c1 = a + b
    c2 = a + b
    c3 = a + b
    return
}
</code></pre>
<h2 id="p8-import导包路径问题与init方法调用流程"><a class="header" href="#p8-import导包路径问题与init方法调用流程">P8 import导包路径问题与init方法调用流程</a></h2>
<ul>
<li>import时会调用包内的init()</li>
<li>import时需要导入GOPATH下当前包的路径</li>
<li>import匿名导入不调用的包,只调用包里的init方法</li>
</ul>
<h2 id="p9-import匿名及别名导包方式"><a class="header" href="#p9-import匿名及别名导包方式">P9 import匿名及别名导包方式</a></h2>
<pre><code class="language-go">import (
    _ &quot;mylib1&quot;
)
</code></pre>
<ul>
<li>import 别名导入包</li>
</ul>
<pre><code class="language-go">import (
    mylib1 &quot;lib1&quot;
)
</code></pre>
<ul>
<li>import 导入包使用.(不推荐，容易引起歧义)</li>
</ul>
<pre><code class="language-go">import (
    _ &quot;mylib1&quot;
)
</code></pre>
<h2 id="p10-golang中的指针速通"><a class="header" href="#p10-golang中的指针速通">P10 Golang中的指针速通</a></h2>
<ul>
<li>Golang中的指针一般是一级或二级的很少有三级或四级。</li>
</ul>
<pre><code class="language-go">func changeValue(p *int) {
    *p = 10
}
</code></pre>
<h2 id="p11-defer语句的调用顺序"><a class="header" href="#p11-defer语句的调用顺序">P11 defer语句的调用顺序</a></h2>
<ul>
<li>defer是函数生命周期结束后才调用。</li>
<li>先写的defer先入栈，先进后出。</li>
</ul>
<h2 id="p12-golang中的数组与动态数组区别"><a class="header" href="#p12-golang中的数组与动态数组区别">P12 Golang中的数组与动态数组区别</a></h2>
<ul>
<li>数组传递是进行值的copy传递</li>
<li>动态数组，切片,引用传递</li>
</ul>
<h2 id="p13-slice切片的4种声明定义方式"><a class="header" href="#p13-slice切片的4种声明定义方式">P13 slice切片的4种声明定义方式</a></h2>
<h3 id="方式1"><a class="header" href="#方式1">方式1</a></h3>
<pre><code class="language-go">slice1 := []int{1,2,3,4}
</code></pre>
<h3 id="方式2"><a class="header" href="#方式2">方式2</a></h3>
<pre><code class="language-go">// 声明但是没有分配空间
var slice1 := []int
// 开辟3个空间，默认值为0
slice1 = make([]int,3)
</code></pre>
<h3 id="方式3"><a class="header" href="#方式3">方式3</a></h3>
<pre><code class="language-go">var slice1 []int = make([]int,3)
</code></pre>
<h3 id="方式4"><a class="header" href="#方式4">方式4</a></h3>
<pre><code class="language-go">slice1 := make([]int,3)
</code></pre>
<h3 id="判断一个slice是否为0"><a class="header" href="#判断一个slice是否为0">判断一个slice是否为0</a></h3>
<pre><code class="language-go">if slice1 == nil {
    fmt.println(&quot;slice1 is nil&quot;)
}
</code></pre>
<h2 id="p14-slice的追加和截取"><a class="header" href="#p14-slice的追加和截取">p14-slice的追加和截取</a></h2>
<ul>
<li>len:长度</li>
<li>cap:容量</li>
</ul>
<pre><code class="language-go">// len=3,cap=5
var numbers = make([[int,3,5)
// len =4,cap=5
numbers = append(numbers,1)
// len =5,cap=5
numbers = append(numbers,2)
// cap满的时候再append会追加一个之前的cap大小的容量
//截取是引用关系
s2 := make([]int,3)
// 将numbers中的值copy到s2中
copy(s2,numbers)
</code></pre>
<h2 id="p15-map的三种声明方式"><a class="header" href="#p15-map的三种声明方式">p15-map的三种声明方式。</a></h2>
<h3 id="方式1-1"><a class="header" href="#方式1-1">方式1</a></h3>
<pre><code class="language-go">var map1 map[string]string
if map1 == nil {
    fmt.Println(&quot;map1 is nil&quot;)
}
map1 = make(map[string]string,10)
map1[&quot;one&quot;] = &quot;go&quot;
map1[&quot;two&quot;] = &quot;rust&quot;
map1[&quot;threee&quot;] = &quot;c&quot;
</code></pre>
<h3 id="方式2-1"><a class="header" href="#方式2-1">方式2</a></h3>
<pre><code class="language-go">map2 := make(map[string]string)
map2[&quot;one&quot;] = &quot;go&quot;
map2[&quot;two&quot;] = &quot;rust&quot;
map2[&quot;threee&quot;] = &quot;c&quot;
</code></pre>
<h3 id="方式3-1"><a class="header" href="#方式3-1">方式3</a></h3>
<pre><code class="language-go">map3 := map[string]string {
    &quot;one&quot; : &quot;go&quot;,
    &quot;two&quot; : &quot;rust&quot;,
    &quot;threee&quot; : &quot;c&quot;,
}
</code></pre>
<h2 id="p16-map的使用"><a class="header" href="#p16-map的使用">p16-map的使用</a></h2>
<h3 id="添加"><a class="header" href="#添加">添加</a></h3>
<pre><code class="language-go">map1[&quot;four&quot;] = &quot;c++&quot;
</code></pre>
<h3 id="删除"><a class="header" href="#删除">删除</a></h3>
<pre><code class="language-go">delete(map1,&quot;one&quot;)
</code></pre>
<h3 id="修改"><a class="header" href="#修改">修改</a></h3>
<pre><code class="language-go">map1[&quot;four&quot;] = &quot;cpp&quot;
</code></pre>
<h3 id="遍历"><a class="header" href="#遍历">遍历</a></h3>
<pre><code class="language-go">func printMap(myMap map[string]string){
    for k,v := range myMap {
        fmt.Println(&quot;key:&quot;,k,&quot;v:&quot;,v)
    }
}
</code></pre>
<h2 id="p17-结构体"><a class="header" href="#p17-结构体">p17-结构体</a></h2>
<h3 id="type定义结构体"><a class="header" href="#type定义结构体">type定义结构体</a></h3>
<pre><code class="language-go">type Book struct {
    name string
    auth string
}
</code></pre>
<h2 id="p18-golang中面向对象类的表示与封装"><a class="header" href="#p18-golang中面向对象类的表示与封装">p18-Golang中面向对象类的表示与封装</a></h2>
<ul>
<li>如果类的属性首字母大写，表示该属性对外能够访问的，否则的话只能够内部访问。</li>
</ul>
<h2 id="p19-golang中面向对象的继承"><a class="header" href="#p19-golang中面向对象的继承">p19-Golang中面向对象的继承</a></h2>
<h2 id="p20-golang中面向对象的多态"><a class="header" href="#p20-golang中面向对象的多态">p20-Golang中面向对象的多态</a></h2>
<ul>
<li>interface</li>
</ul>
<h3 id="基本要素"><a class="header" href="#基本要素">基本要素</a></h3>
<ul>
<li>有一个父类（有接口）</li>
<li>子类实现了父类的所有接口</li>
<li>父类型的变量指向子类的具体数据变量</li>
</ul>
<h2 id="p21-interface空接口万能类型与类型断言机制"><a class="header" href="#p21-interface空接口万能类型与类型断言机制">p21-interface空接口万能类型与类型断言机制</a></h2>
<h3 id="通用万能类型interface-空接口"><a class="header" href="#通用万能类型interface-空接口">通用万能类型:interface{} 空接口</a></h3>
<h3 id="intstringfloat32float64struct都实现了interface"><a class="header" href="#intstringfloat32float64struct都实现了interface">int、string、float32、float64、struct...都实现了interface</a></h3>
<h3 id="类型断言"><a class="header" href="#类型断言">类型断言</a></h3>
<h2 id="p22-变量的内置pair结构详细说明"><a class="header" href="#p22-变量的内置pair结构详细说明">p22-变量的内置pair结构详细说明</a></h2>
<ul>
<li>变量包含type和value两部分</li>
</ul>
<h2 id="p23-golang反射reflect机制用法"><a class="header" href="#p23-golang反射reflect机制用法">p23-golang反射reflect机制用法</a></h2>
<h3 id="根据变量能够知道它的类型"><a class="header" href="#根据变量能够知道它的类型">根据变量能够知道它的类型</a></h3>
<ul>
<li>ValueOf</li>
<li>TypeOf</li>
</ul>
<h2 id="p24-golang反射解析结构体标签tag"><a class="header" href="#p24-golang反射解析结构体标签tag">p24-golang反射解析结构体标签Tag</a></h2>
<h2 id="p25-结构体标签在json中的应用"><a class="header" href="#p25-结构体标签在json中的应用">p25-结构体标签在json中的应用</a></h2>
<pre><code>json库: encoding/json
jsonStr,err := json.Marshal(movie)
</code></pre>
<h2 id="p26-goroutine基本模型和调度策略"><a class="header" href="#p26-goroutine基本模型和调度策略">p26-goroutine基本模型和调度策略</a></h2>
<h3 id="单进程时代的2个问题"><a class="header" href="#单进程时代的2个问题">单进程时代的2个问题</a></h3>
<ul>
<li>时间片</li>
<li>cpu浪费</li>
</ul>
<h3 id="多线程多进程操作系统"><a class="header" href="#多线程多进程操作系统">多线程/多进程操作系统</a></h3>
<ul>
<li>进程/线程的数量越多，切换成本就越大，也就越浪费</li>
<li>开发设计复杂</li>
<li>进程占用虚拟内存4GB左右(32bitOS)</li>
<li>线程占用内存4MB左右</li>
<li>一个线程：用户空间和内核空间</li>
</ul>
<h3 id="goroutine"><a class="header" href="#goroutine">goroutine</a></h3>
<ul>
<li>解决线程切换带来的cpu消耗</li>
<li>协程调度器</li>
<li>N线程--&gt;M协程</li>
<li>co-rountine--&gt;goroutine</li>
<li>GMP:goroutine,processor处理器,thread线程</li>
</ul>
<h3 id="goroutine调度器的设计策略"><a class="header" href="#goroutine调度器的设计策略">goroutine调度器的设计策略</a></h3>
<ul>
<li>复用线程</li>
<li>利用并行</li>
<li>抢占</li>
<li>全局G队列</li>
</ul>
<h2 id="p27-创建goroutine"><a class="header" href="#p27-创建goroutine">p27-创建goroutine</a></h2>
<h3 id="创建"><a class="header" href="#创建">创建</a></h3>
<pre><code class="language-go">go newTask()
</code></pre>
<h3 id="退出goroutine"><a class="header" href="#退出goroutine">退出goroutine</a></h3>
<ul>
<li>退出 goroutine</li>
</ul>
<pre><code class="language-go">runtime.Goexit()
</code></pre>
<h2 id="p28-channel的基本定义与使用"><a class="header" href="#p28-channel的基本定义与使用">p28-channel的基本定义与使用</a></h2>
<ul>
<li>channel起到了goroutine之间的同步的作用。</li>
</ul>
<h2 id="p29-channel有缓冲无缓冲同步问题"><a class="header" href="#p29-channel有缓冲无缓冲同步问题">p29-channel有缓冲无缓冲同步问题</a></h2>
<ul>
<li>创建有缓冲的channel,当channel已满，再写入数据会阻塞，当channel已空，再取数据会阻塞。</li>
</ul>
<pre><code class="language-go">c:= make(chan,int,3)
</code></pre>
<h2 id="p30-channel的关闭特点"><a class="header" href="#p30-channel的关闭特点">p30-channel的关闭特点</a></h2>
<ul>
<li>关闭channel</li>
</ul>
<pre><code class="language-go">close(c)
</code></pre>
<ul>
<li>对于nil channel,无论收发都会被阻塞</li>
<li>关闭channel后，可以继续从channel接受数据</li>
<li>关闭channel后，无法向channel再发送数据(引发panic错误后导致接收立即返回0值）</li>
</ul>
<h2 id="p31-channel与range"><a class="header" href="#p31-channel与range">p31-channel与range</a></h2>
<pre><code class="language-go">c := make(chan int)
for data := range c {
    fmt.Println(data)
}
</code></pre>
<h2 id="p32-channel与select"><a class="header" href="#p32-channel与select">p32-channel与select</a></h2>
<h3 id="select具备多路channel的状态监控的功能"><a class="header" href="#select具备多路channel的状态监控的功能">select具备多路channel的状态监控的功能。</a></h3>
<h2 id="p33-gopath工作模式的弊端"><a class="header" href="#p33-gopath工作模式的弊端">p33-GOPATH工作模式的弊端</a></h2>
<h3 id="gopath的弊端"><a class="header" href="#gopath的弊端">GOPATH的弊端</a></h3>
<ul>
<li>没有版本控制的概念</li>
<li>无法同步一致第三方版本号</li>
<li>无法指定当前项目引用的第三方版本号</li>
</ul>
<h3 id="go-modules"><a class="header" href="#go-modules">go modules</a></h3>
<ul>
<li>解决了go语言的依赖管理问题</li>
</ul>
<h2 id="p34-gomodules基础环境说明"><a class="header" href="#p34-gomodules基础环境说明">p34-GoModules基础环境说明</a></h2>
<pre><code class="language-go">go mod help
go mod init
</code></pre>
<ul>
<li>设置GO111MODULE的值,建议go1.11之后的版本都设置为on</li>
</ul>
<pre><code class="language-bash">go env -w GO111MODULE=on
</code></pre>
<ul>
<li>设置GOPROXY,建议国内七牛云，阿里云</li>
</ul>
<pre><code class="language-bash">go env -w GOPROXY=https://goproxy.cn,direct
</code></pre>
<ul>
<li>GOPRIVATE</li>
</ul>
<h2 id="p35-gomodules初始化项目"><a class="header" href="#p35-gomodules初始化项目">p35-GoModules初始化项目</a></h2>
<pre><code class="language-bash">bo mod init demo1
</code></pre>
<h3 id="gosum文件记录依赖的模块版本保证今后项目依赖的版本不会被篡改"><a class="header" href="#gosum文件记录依赖的模块版本保证今后项目依赖的版本不会被篡改">go.sum文件记录依赖的模块版本,保证今后项目依赖的版本不会被篡改。</a></h3>
<h2 id="p36-改变模块依赖关系"><a class="header" href="#p36-改变模块依赖关系">p36-改变模块依赖关系</a></h2>
<ul>
<li>replace用法</li>
</ul>
<pre><code class="language-go">go mod edit -replace
</code></pre>
<h2 id="p37-及时通信系统-介绍"><a class="header" href="#p37-及时通信系统-介绍">p37-及时通信系统-介绍</a></h2>
<ul>
<li>OnlineMap:user.Name uesr</li>
<li>channel</li>
<li>handler go:read</li>
<li>user:wirte --&gt;client</li>
</ul>
<h2 id="p38-及时通信系统--v01基础server构建"><a class="header" href="#p38-及时通信系统--v01基础server构建">p38-及时通信系统- v0.1基础server构建</a></h2>
<h2 id="p39-及时通信系统--v02用户上线及广播功能"><a class="header" href="#p39-及时通信系统--v02用户上线及广播功能">p39-及时通信系统- v0.2用户上线及广播功能</a></h2>
<h2 id="p40-及时通信系统--v03用户消息广播"><a class="header" href="#p40-及时通信系统--v03用户消息广播">p40-及时通信系统- v0.3用户消息广播</a></h2>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
