# arp协议


<!--more-->
# arp协议
## arp协议的概念
ARP（地址解析协议）是一种用于在局域网中将IP地址解析为对应的物理MAC地址的协议。在计算机网络中，每个设备（如计算机、路由器等）都有一个唯一的MAC地址和一个IP地址。IP地址用于在网络层进行通信，而MAC地址则用于在数据链路层进行通信。
- arp协议将IP地址--->MAC地址。
- IP地址用于网络层。
- MAC地址用于数据链路层。

## arp协议的作用
- ARP协议的作用是通过发送特定的ARP请求广播消息，来查询目标设备的MAC地址。
- 当一个设备需要与局域网内的另一个设备通信时，
  - 它首先会检查自己的ARP缓存表，
  - 如果找不到对应的MAC地址， 则会发送一个ARP请求广播消息，询问该IP地址对应的设备的MAC地址。
  - 接收到该广播消息的设备会回复一个ARP响应消息，其中包含目标设备的MAC地址。
  - 发送方设备接收到响应消息后，将目标设备的MAC地址与IP地址进行映射，并将该映射关系添加到自己的ARP缓存表中，以便下次快速查询。


## 在 Ubuntu 中，你可以使用以下命令来查看和管理 ARP 协议：
- 查看当前的 ARP 表：
```bash
arp -n
```
这个命令将显示当前计算机上的 ARP 表，其中包含已解析的 IP 地址和对应的 MAC 地址。

- 清除或删除 ARP 表中的条目：
```bash
sudo arp -d <ip_address>
```
使用此命令来删除指定 IP 地址的 ARP 表条目。你需要使用 sudo 提升权限来执行此操作。

- 添加静态 ARP 条目：
```bash
sudo arp -s <ip_address> <mac_address>
```
使用此命令可以手动添加静态 ARP 条目，将指定的 IP 地址与相应的 MAC 地址关联起来。同样，你需要使用 sudo 提升权限。

- 查看内核 ARP 缓存：
```bash
cat /proc/net/arp
```
这个命令将显示内核维护的 ARP 缓存，包含了当前解析的 IP 地址和对应的 MAC 地址。


---

> 作者:   
> URL: https://cfanzp.com/arp/  

