[{"categories":["embedded"],"contents":"嵌入式开发","permalink":"https://cfanzp.com/embedded-dev/","tags":["embedded"],"title":"嵌入式开发"},{"categories":["device","硬件","experiment"],"contents":"使用VC890C万用表测量直流电压实验 实验目的 验证万用表测量直流电压的功能 实验环境 VC890C万用表 家里的废旧干电池若干，新电池若干。 实验流程 将万用表的旋钮指向直流电压2V或20V挡位 将红表笔插入VΩ孔。 将黑表笔插入COM孔。 将红表笔接触干电池正极,黑表笔接触干电池的负极。 观察万用表上的显示。 实验结果 许多旧的干电池电压在1.28V左右。 许多新的干电池电压在1.5V左右。 ","permalink":"https://cfanzp.com/victor-vc890c-voltage/","tags":["万用表"],"title":"使用VC890C万用表测量直流电压实验"},{"categories":["device","硬件"],"contents":"casio 3198手表如何调时间 今天找东西，把家里放了十多年的手表翻出来了，发现还是好的，时间慢了15分钟。 如何调时间 按键 ADJUST(左上) MODE(左下) LIGHT(右上) SEARCH(右下) 调整时间 长安ADJUST键进入调整模式 按SEARCH调整数值 按ADJUST进入下一项配置 按MODE退出配置 ","permalink":"https://cfanzp.com/casio-3198-ae-1000/","tags":["手表"],"title":"casio 3198手表如何调时间"},{"categories":["net"],"contents":"iptables的用法 1. 什么是iptables? iptables实际上是一个netfilter的管理工具。netfilter是linux内核中实现包过滤的内核模块。 2. iptables的四表五链 2.1. 表的处理优先级 1 2.2. 四表 iptable_filter: filter 表用来对数据包进行过滤，要求决定如何处理一个数据包。 包含链：input、forward、output 1 iptable_nat：nat表主要用来修改数据包的IP地址、端口号信息。 包含链：prerouting、postrouting、output 1 iptable_mangle: mangle表用来修改数据包的服务类型，生存周期，为数据包设置标记，实现流量整形，策略路由。 包含链：prerouting、postrouting、input、forward、output 1 iptable_raw：raw主要用来决定是否对数据包进行状态跟踪。 包含链：prerouting、output 1 2.3. 五链 PREROUTING INPUT FORWARD OUTPUT POSTROUTING 1 2 3 4 5 6 7 input 链：当收到访问防火墙本机地址的数据包时，将应用此链中的规则； output 链：当防火墙本机向外发送数据包时，将应用此链中的规则； forward 链：当收到需要通过防火中转发给其他地址的数据包时， 将应用此链中的规则， 注意如果需要实现forward转发需要开启Linux内核中的ip_forward功能； prerouting 链：在对数据包做路由选择之前，将应用此链中的规则； postrouting 链：在对数据包做路由选择之后，将应用此链中的规则； 3. iptables的命令用法 1 2 3 4 5 6 7 8 9 10 11 12 iptables 命令的常用管理选项 -A:在指定链的末尾添加一条新的规则 -D:删除指定链中的某一条规则，可删除指定序号或具体内容 -I:在指定链中插入一条新规则，未指定序号时默认作为第一条规则 -R:修改、替换指定链中的某一条规则，可指定规则序号或具体内容 -L:列出指定链中所有的规则，未指定链名，则列出表中的所有链 -F:清空指定链中所有的规则，未指定链名，则清空表中的所有链 -P:设置指定链的默认策略 -n:使用数字形式显示输出结果 -v:查看规则列表时显示详细的信息 -h:查看命令帮助信息 --line-numbers:查看规则列表时，同时显示规则在链中的顺序号 4. 参考 https://zhuanlan.zhihu.com/p/347754874 ","permalink":"https://cfanzp.com/iptables/","tags":["iptables"],"title":"iptables的用法"},{"categories":["net"],"contents":"iptables SNAT的用法 什么是SNAT? SNAT,源网络地址转换，Source Network Address Translation。 iptables设置SNAT 下面的例子将从192.168.1.0/24网段的请求的源地址转换为10.168.26.155 1 iptables -t nat -A POSTROUTING -o eth0 -s 192.168.1.0/24 -j SNAT --to-source 10.168.26.155 MASQUERADE MASQUERADE 是SNAT的一个特例,不用设置\u0026ndash;to-source 1 2 3 4 5 iptables -t nat -A POSTROUTING -o eth0 -s 192.168.1.0/24 -j MASQUERADE #对比MASQUERADE iptables -t nat -A POSTROUTING -o eth0 -s 192.168.1.0/24 -j SNAT --to-source 10.168.26.155 #对比DNAT iptables -t nat -A PREROUTING -i eth0 - p tcp -dport 1194 -j DNAT --to-destination 192.168.1.5 参考 https://cloud.tencent.com/developer/article/2289797 ","permalink":"https://cfanzp.com/iptables-snat/","tags":["iptables"],"title":"iptables SNAT的用法"},{"categories":["net"],"contents":"openvpn的使用入门 1. 简介 最近了解了一下隧道技术，openvpn就是使用了隧道技术。这里简单记录一下openvpn的一些基础使用方法。 2. ubuntu20.04安装openvpn a. 安装openvpn及依赖 1 2 3 4 5 6 sudo apt-get -y install openvpn libssl-dev openssl # 查看版本 openvpn --version # 查看安装产生的文件 dpkg --list openvpn dpkg -L openvpn | more b. 安装easy-rsa 1 apt -y install easy-rsa c. 制作证书 制作ca证书 1 2 3 4 5 6 7 8 9 10 11 12 cp -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa/ cp vars.example vars vim vars #修改COUNTRY,PROVINCE,CITY,ORG,EMAIL,OU等信息 #添加 export KEY_NAME=\u0026#34;vpnaaa\u0026#34; #查看安装文档 cat /usr/share/doc/easy-rsa/README.Debian ./easyrsa init-pki ls ./easyrsa build-ca nopass ls 制作server端证书 1 2 3 4 ./easyrsa build-server-full vpnaaa nopass #查看生成的server端证书 ls pki/issued/ ls pki/private/ 制作client端证书 1 2 3 4 ./easyrsa build-client-full bbb nopass #查看生成的server端证书 ls pki/issued/ ls pki/private/ 为服务器生成加密交换时的Diffie-Hellman文件 1 ./easyrsa gen-dh d. 修改服务端配置文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 cd /etc/openvpn/ cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf /etc/openvpn/ #vim /etc/openvpn/server.conf #配置port port 1194 #tcp proto tcp ;proto udp #修改密钥，key文件 ca /etc/openvpn/ca.crt cert /etc/openvpn/vpnaaa.crt key /etc/openvpn/vpnaaa.key #打开log配置 #关闭explicit-exit-notify ;explicit-exit-notify 1 e. copy 证书文件到配置目录 1 2 3 4 5 cp easy-rsa/pki/ca.crt /etc/openvpn/ cp easy-rsa/pki/issued/vpnaaa.crt /etc/openvpn/ cp easy-rsa/pki/private/vpnaaa.key /etc/openvpn/ cp easy-rsa/pki/db.pem /etc/openvpn/ cp easy-rsa/pki/db.pem /etc/openvpn/db2048.pem 3. openvpn服务端启动 1 nohup /usr/sbin/openvpn --config /etc/openvpn/server.conf \u0026amp; 4. 客户端安装 a. openvpn客户端下载 openvpn下载,注意下载的客户端版本要与服务端版本一致。 1 https://build.openvpn.net/downloads/releases/openvpn-install-2.4.12-I601-Win10.exe b. 客户端配置文件aaa.ovpn 1 2 3 4 5 6 7 8 9 10 11 12 13 14 client dev tun proto tcp remote 100.128.27.230 1194 resolv-retry infinite nobind persist-key persist-tun ca ca.crt cert bbb.crt key bbb.key comp-lzo verb 3 redirect-gateway def1 c. 客户端文件 1 2 3 4 bbb.crt bbb.key bbb.ovpn ca.crt 5. 查看日志 1 tail -f /var/log/openvpn/openvpn.log 6. 参考 openvpn安装：https://blog.csdn.net/wfjdemmye/article/details/131486127 ","permalink":"https://cfanzp.com/openvpn/","tags":["openvpn"],"title":"openvpn的使用入门"},{"categories":["nginx","net"],"contents":"nginx集成ModSecurity(未完) 准备工作 下载nginx:1.24.0 下载nginx-ModSecurity:v1.0.5 下载ModSecurity:v3 1 2 3 4 5 6 7 git clone https://github.com/SpiderLabs/ModSecurity cd ModSecurity # 下载 libInjection git submodule init git submodule update ./build.sh ./configure \u0026amp;\u0026amp; make \u0026amp;\u0026amp; make install coreruleset v3.3.2 ubuntu20.04下安装 centos7下安装 FAQ 遇到curl链接错误 有多个curl版本，只保留一个。 参考 https://zhuanlan.zhihu.com/p/415862524 ","permalink":"https://cfanzp.com/nginx-modsecurity/","tags":["modsecurity","nginx"],"title":"nginx集成ModSecurity(未完)"},{"categories":["linux","net"],"contents":"linux network namespace用法 linux namespace简介 Linux namespace提供了一种内核级别的隔离系统资源的方法。通过将系统的全局资源放到不同的namespace中，来实现资源隔离的目的。 目前linux提供了六类资源隔离机制分别是: Mount 隔离文件系统挂载点 UTS 隔离主机名和域名信息 IPC 隔离进程间通信 PID 隔离进程ID Network 隔离网络资源 User 隔离用户和用户组的ID linux network namespace用法 常用命令 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 #添加新的namespace ns_100 ip netns add ns_100 #查看当前的namespace ip netns list #添加虚拟网卡对 ip link add veth0 type veth peer name veth1 #查看namespace中的进程id ip netns pids ns_100 #查看namespace中的进程详情 ip netns pids ns_100 | xargs ps #退出名字空间 exit #删除名字空间 ip netns delete ns_100 #名字空间中启用本地lo回环网卡 ip netns exec ns_100 ip link set dev lo up demo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 root@VM-8-10-ubuntu:/opt/linux_note# ip netns list root@VM-8-10-ubuntu:/opt/linux_note# ip netns add ns_100 root@VM-8-10-ubuntu:/opt/linux_note# ip netns list ns_100 root@VM-8-10-ubuntu:/opt/linux_note# ip link add veth0 type veth peer name veth1 root@VM-8-10-ubuntu:/opt/linux_note# ip link list 1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 2: eth0: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000 link/ether 52:54:00:eb:30:e7 brd ff:ff:ff:ff:ff:ff 3: docker0: \u0026lt;NO-CARRIER,BROADCAST,MULTICAST,UP\u0026gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default link/ether 02:42:d6:51:ba:52 brd ff:ff:ff:ff:ff:ff 4: veth1@veth0: \u0026lt;BROADCAST,MULTICAST,M-DOWN\u0026gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether a6:20:b1:58:9e:5a brd ff:ff:ff:ff:ff:ff 5: veth0@veth1: \u0026lt;BROADCAST,MULTICAST,M-DOWN\u0026gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether f6:30:bc:89:e2:8c brd ff:ff:ff:ff:ff:ff 修改veth1配置后 1 2 3 4 5 6 7 8 9 10 root@VM-8-10-ubuntu:/opt/linux_note# ip link set veth1 netns ns_100 root@VM-8-10-ubuntu:/opt/linux_note# ip link list 1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 2: eth0: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc mq state UP mode DEFAULT group default qlen 1000 link/ether 52:54:00:eb:30:e7 brd ff:ff:ff:ff:ff:ff 3: docker0: \u0026lt;NO-CARRIER,BROADCAST,MULTICAST,UP\u0026gt; mtu 1500 qdisc noqueue state DOWN mode DEFAULT group default link/ether 02:42:d6:51:ba:52 brd ff:ff:ff:ff:ff:ff 5: veth0@if4: \u0026lt;BROADCAST,MULTICAST\u0026gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether f6:30:bc:89:e2:8c brd ff:ff:ff:ff:ff:ff link-netns ns_100 查看ns_100内部配置 1 2 3 4 5 root@VM-8-10-ubuntu:/opt/linux_note# ip netns exec ns_100 ip link list 1: lo: \u0026lt;LOOPBACK\u0026gt; mtu 65536 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 4: veth1@if5: \u0026lt;BROADCAST,MULTICAST\u0026gt; mtu 1500 qdisc noop state DOWN mode DEFAULT group default qlen 1000 link/ether a6:20:b1:58:9e:5a brd ff:ff:ff:ff:ff:ff link-netnsid 0 配置network namespace接口 设置接口veth1的ip 1 ip netns exec ns_100 ip addr add 10.0.1.1/16 dev veth1 启用veth1 1 ip netns exec ns_100 ip link set dev veth1 up 查看结果 1 2 3 4 5 6 7 8 9 10 11 12 13 root@VM-8-10-ubuntu:/opt/linux_note# ip netns exec ns_100 ip addr add 10.0.1.1/16 dev veth1 root@VM-8-10-ubuntu:/opt/linux_note# ip netns exec ns_100 ip link set dev veth1 up root@VM-8-10-ubuntu:/opt/linux_note# ip netns exec ns_100 ip addr list 1: lo: \u0026lt;LOOPBACK\u0026gt; mtu 65536 qdisc noop state DOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 4: veth1@if5: \u0026lt;NO-CARRIER,BROADCAST,MULTICAST,UP\u0026gt; mtu 1500 qdisc noqueue state LOWERLAYERDOWN group default qlen 1000 link/ether a6:20:b1:58:9e:5a brd ff:ff:ff:ff:ff:ff link-netnsid 0 inet 10.0.1.1/16 scope global veth1 valid_lft forever preferred_lft forever root@VM-8-10-ubuntu:/opt/linux_note# ip route list default via 10.0.8.1 dev eth0 proto dhcp src 10.0.8.10 metric 100 10.0.8.0/22 dev eth0 proto kernel scope link src 10.0.8.10 172.17.0.0/16 dev docker0 proto kernel scope link src 172.17.0.1 linkdown veth0设置ip 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 root@VM-8-10-ubuntu:/opt/linux_note# ip addr add 10.0.1.2/16 dev veth0 root@VM-8-10-ubuntu:/opt/linux_note# ip addr list 1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc mq state UP group default qlen 1000 link/ether 52:54:00:eb:30:e7 brd ff:ff:ff:ff:ff:ff inet 10.0.8.10/22 brd 10.0.11.255 scope global eth0 valid_lft forever preferred_lft forever inet6 fe80::5054:ff:feeb:30e7/64 scope link valid_lft forever preferred_lft forever 3: docker0: \u0026lt;NO-CARRIER,BROADCAST,MULTICAST,UP\u0026gt; mtu 1500 qdisc noqueue state DOWN group default link/ether 02:42:d6:51:ba:52 brd ff:ff:ff:ff:ff:ff inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0 valid_lft forever preferred_lft forever 5: veth0@if4: \u0026lt;BROADCAST,MULTICAST\u0026gt; mtu 1500 qdisc noop state DOWN group default qlen 1000 link/ether f6:30:bc:89:e2:8c brd ff:ff:ff:ff:ff:ff link-netns ns_100 inet 10.0.1.2/16 scope global veth0 valid_lft forever preferred_lft forever root@VM-8-10-ubuntu:/opt/linux_note# ip route list default via 10.0.8.1 dev eth0 proto dhcp src 10.0.8.10 metric 100 10.0.8.0/22 dev eth0 proto kernel scope link src 10.0.8.10 172.17.0.0/16 dev docker0 proto kernel scope link src 172.17.0.1 linkdown 启动veth0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 root@VM-8-10-ubuntu:/opt/linux_note# ip link set dev veth0 up root@VM-8-10-ubuntu:/opt/linux_note# ip addr list 1: lo: \u0026lt;LOOPBACK,UP,LOWER_UP\u0026gt; mtu 65536 qdisc noqueue state UNKNOWN group default qlen 1000 link/loopback 00:00:00:00:00:00 brd 00:00:00:00:00:00 inet 127.0.0.1/8 scope host lo valid_lft forever preferred_lft forever inet6 ::1/128 scope host valid_lft forever preferred_lft forever 2: eth0: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc mq state UP group default qlen 1000 link/ether 52:54:00:eb:30:e7 brd ff:ff:ff:ff:ff:ff inet 10.0.8.10/22 brd 10.0.11.255 scope global eth0 valid_lft forever preferred_lft forever inet6 fe80::5054:ff:feeb:30e7/64 scope link valid_lft forever preferred_lft forever 3: docker0: \u0026lt;NO-CARRIER,BROADCAST,MULTICAST,UP\u0026gt; mtu 1500 qdisc noqueue state DOWN group default link/ether 02:42:d6:51:ba:52 brd ff:ff:ff:ff:ff:ff inet 172.17.0.1/16 brd 172.17.255.255 scope global docker0 valid_lft forever preferred_lft forever 5: veth0@if4: \u0026lt;BROADCAST,MULTICAST,UP,LOWER_UP\u0026gt; mtu 1500 qdisc noqueue state UP group default qlen 1000 link/ether f6:30:bc:89:e2:8c brd ff:ff:ff:ff:ff:ff link-netns ns_100 inet 10.0.1.2/16 scope global veth0 valid_lft forever preferred_lft forever inet6 fe80::f430:bcff:fe89:e28c/64 scope link valid_lft forever preferred_lft forever veth0与veth1互ping 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 root@VM-8-10-ubuntu:/opt/linux_note# ping 10.0.1.1 PING 10.0.1.1 (10.0.1.1) 56(84) bytes of data. 64 bytes from 10.0.1.1: icmp_seq=1 ttl=64 time=0.054 ms 64 bytes from 10.0.1.1: icmp_seq=2 ttl=64 time=0.041 ms 64 bytes from 10.0.1.1: icmp_seq=3 ttl=64 time=0.040 ms ^C --- 10.0.1.1 ping statistics --- 3 packets transmitted, 3 received, 0% packet loss, time 2039ms rtt min/avg/max/mdev = 0.040/0.045/0.054/0.006 ms root@VM-8-10-ubuntu:/opt/linux_note# ip netns exec ns_100 ping 10.0.1.2 PING 10.0.1.2 (10.0.1.2) 56(84) bytes of data. 64 bytes from 10.0.1.2: icmp_seq=1 ttl=64 time=0.039 ms 64 bytes from 10.0.1.2: icmp_seq=2 ttl=64 time=0.043 ms ^C --- 10.0.1.2 ping statistics --- 2 packets transmitted, 2 received, 0% packet loss, time 1007ms rtt min/avg/max/mdev = 0.039/0.041/0.043/0.002 ms ","permalink":"https://cfanzp.com/linux-netns/","tags":["namespace"],"title":"linux network namespace用法"},{"categories":["net"],"contents":"tcpdump的基础用法 tcpdump简介 tcpdump是一个抓包的命令工具，个人感觉还是十分好用的，能够分析目前的数据包情况。 tcpdump用法举例 将抓包结果保存到demo.cap 1 tcpdump -i any -w ~/demo.cap 选择网卡抓包 抓所有网卡的包 1 tcpdump -i any -w ~/demo.cap 抓lo网卡的包 1 tcpdump -i lo -w ~/demo.cap 抓lo网卡的端口为8080的包 1 tcpdump -i lo port 8080 -w ~/demo.cap 抓lo网卡的源端口为8080目的端口为8081的包 1 tcpdump -i lo src port 8080 and dst port 8081 -w ~/demo.cap 抓10个包后退出 1 tcpdump -c 10 -q 抓ip为192.168.1.33的包 1 tcpdump host 192.168.1.33 抓源ip为192.168.1.33的包 1 tcpdump src host 192.168.1.33 抓目的ip为192.168.1.33的包 1 tcpdump dst host 192.168.1.33 抓tcp的包 1 tcpdump tcp dst host 192.168.1.33 抓udp的包 1 tcpdump udp dst host 192.168.1.33 抓除了192.168.1.33以外的包 1 tcpdump tcp and ! 192.168.1.33 组合抓包 1 2 3 4 5 6 7 8 9 10 11 12 13 tcpdump tcp -i ens18 -v -nn -t -A -s 0 -c 50 and dst port ! 22 and src net 192.168.1.0/24 -w ./cby.cap (1)tcp: ip icmp arp rarp 和 tcp、udp、icmp这些选项等都要放到第一个参数的位置，用来过滤数据报的类型 (2)-i eth1 : 只抓经过接口eth1的包 (3)-t : 不显示时间戳 (4)-s 0 : 抓取数据包时默认抓取长度为68字节。加上-S 0 后可以抓到完整的数据包 (5)-c 50 : 只抓取50个数据包 (6)dst port ! 22 : 不抓取目标端口是22的数据包 (7)src net 192.168.1.0/24 : 数据包的源网络地址为192.168.1.0/24 (8)-w ./cby.cap : 保存成cap文件，方便用ethereal(即wireshark)分析 (9)-v 使用 -v，-vv 和 -vvv 来显示更多的详细信息，通常会显示更多与特定协议相关的信息。 (10)-nn 单个 n 表示不解析域名，直接显示 IP；两个 n 表示不解析域名和端口。 (11)-A 表示使用 ASCII 字符串打印报文的全部数据 参考 https://cloud.tencent.com/developer/article/1934416 ","permalink":"https://cfanzp.com/tcpdump/","tags":["tcpdump"],"title":"tcpdump的基础用法"},{"categories":["net"],"contents":"nginx正向代理透传IP实验 实验目的 验证nginx正向代理能够透传IP 实验准备 nginx: 1.24.0 官网下载 nginx正向代理插件ngx_http_proxy_connect_module: https://github.com/chobits/ngx_http_proxy_connect_module 实验场景 nginx 通过代理插件进行正向代理，通过proxy_connect_bind实现代理ip透传。 实验流程 https流量通过A转发到B。 A：负责对https代理进行解密。揭秘后通过http隧道将https流量转发到B服务上。 B：负责对https流量进行解密，并进行流量的安全检查，后续再转发给目标服务器C。 1 安装nginx,并配置正向代理 配置nginx正向代理。 数据包打标记忆 1 2 3 #将源地址为192.168.1.33源端口为8081的数据包做标记 iptables -t mangle -A PREROUTING -p tcp --src 192.168.1.33 --sport 8081 \\ -j MARK --set-xmark 0x1/0xffffffff 1 2 3 4 5 # 新增路由表，表id为100，将所有ip数据路由到32机器 # NOTE: 以下两条ip命令设置的route和rule都需要保存到/etc/rc.local中，以便在开机时启动 ip route add local 0.0.0.0/0 dev lo table 100 # 2.3 为标记为1的ip数据使用路由表100 ip rule add fwmark 1 lookup 100 安装nginx,并配置正向代理 配置nginx正向代理。 数据包打标记忆 1 2 3 #将源地址为192.168.1.33源端口为8081的数据包做标记 iptables -t mangle -A PREROUTING -p tcp --src 192.168.1.33 --sport 8081 \\ -j MARK --set-xmark 0x1/0xffffffff 1 2 3 4 5 # 新增路由表，表id为100，将所有ip数据路由到32机器 # NOTE: 以下两条ip命令设置的route和rule都需要保存到/etc/rc.local中，以便在开机时启动 ip route add local 0.0.0.0/0 dev lo table 100 # 2.3 为标记为1的ip数据使用路由表100 ip rule add fwmark 1 lookup 100 实验结果 实验最后是成功了。这个实验反复做了很多遍。之前一直不成功。 之前不成功的时候，在nginx转发数据时，监听ip地址我用的一直是127.0.0.1，实验一直不通。后面换成内网ip就成功了。 ","permalink":"https://cfanzp.com/nginx-forward-proxy/","tags":["nginx"],"title":"nginx正向代理"},{"categories":["summary"],"contents":"2023年总结 2023年做了哪些事？ 技术学习 学习wfrest的基础用法 学习c++ nlohmann/json库 学习ACRA框架 学习mysqlPP库 学习redis++库 学习基本的网络知识 主力编辑器由vim迁移到nvim,插件由vim-plug迁移到lazy.nvim 学习了一些网络的基础知识，但是学得都很粗浅。 2023年重要的事情 换了一份工作,接触了一个之前没有接触过的行业，一切归零，从头再来。 经历了一次装修，因为所有流程都是找人做的，没有找装修公司，过程深有体会,也了解了很多装修的坑。 对2023年的思考 2023年发生了很多事，感觉是忙碌，不安的一年,没有之前那么的舒适，不论事工作还是生活上总会有这样或者那样的问题需要去处理解决。 2024年几个小目标 养成多做笔记的习惯。 做技术实验，博客对自己的技术实验进行总结分享给大家。 阅读复习计算机网络这本书。 学习squid源码。 学习e2guardian源码。 学习nginx源码。 学习单片机。 2024年展望 2024年希望家人朋友一切好。 2024年希望自己能够继续加油，day day up，保持一个良好的心态,做更好的自己。 2024年对自己的要求 锻炼文笔：好好写一些有深度的技术文档,年终总结的时候，发现自己平时的文档都写得太粗浅了拿不出手，太尴尬了。 工作上做好项目管理，合理安排时间。 生活上，多花一些时间陪伴家人。 ","permalink":"https://cfanzp.com/summary-2023/","tags":["summary"],"title":"2023年总结"},{"categories":["net","TODO"],"contents":"TODO\u0026ndash;Squid代理Websocket的问题 背景 最近研究一款安全产品时，需要使用Squid代理Http/Https流量。对于Https协议，我采用了自签名证书，客户端安装CA证书的方式来测试识别解密后的http请求。其中出现了一个问题：在客户端请求中ws/wss流量无法通过squid,squid配置为代理模式和透明模式结果都一样。如果不对https进行解密，那么ws/wss流量可以正常通过。 基础概念 什么时websocket协议? websocket是一个双工协议，是http的升级协议，支持服务端与客户端双向通信。 问题 为什么解密后wss协议数据包就无法通过squid呢？ 由于接触squid时间还不是很长，暂时不能下结论。这里先记录一下。 如何解决？ 思路：研究squid源码，看如何区分websocket流量和http流量，如果是websocket流量直接进行转发(项目需求不关系websocket流量)。 如何分离http协议中的websocket数据包？ 这里提供了一个思路：https://www.cnblogs.com/shanheyongmu/p/16580344.html 总结 目前还没有好的解决方案，这里先记录一下。 ","permalink":"https://cfanzp.com/squid-websocket/","tags":["websocket","squid"],"title":"Squid代理Websocket的问题"},{"categories":null,"contents":"Vim 使用Vim有很长时间了，Vim目前是我的首选编辑器。虽然用了很久Vim,但是对Vim的了解还很粗浅。Vim也在不断的进化，也出现了很多分支。因为自己对lua有一定地了解。现在把Vim也切换到NeoVim了。 nvim配置 https://gitee.com/cfanzp/nvim-config.git 代码跳转 c++使用bear生成compile_commands.json,解决clangd代码跳转找不到头文件的问题。 在项目根目录如果有makefile文件运行bear make就会生成对应的compile_commands.json文件。 1 2 apt install bear bear make 显示 字体 下载太大太慢了,建议使用国内镜像 https://github.com/ryanoasis/nerd-fonts.git https://gitee.com/keyboardkiller/nerd-fonts https://gitee.com/keyboardkiller/nerd-fonts.git hasklig 1 2 3 wget https://github.com/ryanoasis/nerd-fonts/releases/download/v3.0.2/Hasklig.zip unzip Hasklig.zip -d /usr/local/share/fonts/ fc-cache -fv mac 1 2 brew tap homebrew/cask-fonts brew install --cask font-ubuntu-nerd-font ubuntu 1 https://blog.csdn.net/auteman_dan/article/details/128872671 neovim lazy.nvim管理配置常用插件 neovim 插件 code_runner.vim - https://github.com/CRAG666/code_runner.nvim vista:liuchengxu/vista.vim https://github.com/liuchengxu/vista.vim vim 之前常用插件 TODO 尝试配置改为使用lazy.nvim,看是否好用。 总结自己的neovim配置和使用心得。 Vim学习笔记 vim实用技巧学习笔记 vim使用笔记 nvim安装与使用 Vim资源 Vim插件 NeoVim插件 lazy.nvim 值得一看的文章 2023年Vim的C++配置 ","permalink":"https://cfanzp.com/vim/","tags":null,"title":"Vim"},{"categories":["vim"],"contents":"适合vim用户的一款终端文件管理器：Vifm 介绍 之前自己一直用的终端文件管理工具是ranger,今天偶然发现了另外一款终端文件管理工具非常使用vim用户，使用c语言开发，而ranger是使用python开发，ranger有时候会遇到安装不成功的情况。还没有深入体验，暂时不做过多介绍，这里先记录一下。 ubuntu20.04安装方法 1 2 3 apt install vifm #mac brew install vifm 下载地址 https://vifm.info/downloads.shtml 用法及快捷键绑定 https://vifm.info/cheatsheets.shtml 参考 https://linux.cn/article-14001-1.html FAQ mac打开文件报错 1 2 3 4 5 mkdir .vifm cd .vifm touch vifmrc nvim vifmrc filetype *.vim,*.vimrc,*.gvimrc !nvim % ","permalink":"https://cfanzp.com/vifm/","tags":["vifm","vim"],"title":"适合vim用户的一款终端文件管理器：Vifm"},{"categories":["vim"],"contents":"Vim远程复制插件:Vim-oscyank vim-plug安装 1 Plug \u0026#39;ojroques/vim-oscyank\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;main\u0026#39;} 下载地址 https://github.com/ojroques/vim-oscyank 参考 https://martins3.github.io/My-Linux-Config/docs/nvim.html ","permalink":"https://cfanzp.com/vim-oscyank/","tags":["vim","nvim"],"title":"Vim远程复制插件:Vim-oscyank"},{"categories":["net"],"contents":"squid 概况 squid目前最新版本已经是6.6了。最近因为项目需要了解了一下。这里先记录一下。后续会更深入地学习一下源代码。 squid可以做什么？ squid可以做代理，透明代理,可以处理http/https流量，可以添加缓存。还可以使用icap协议和其它服务合作，实现url过滤，内容过滤，病毒查杀等功能。 源码地址 https://github.com/squid-cache/squid 下载 1 wget https://github.com/squid-cache/squid/archive/refs/tags/SQUID_6_6.tar.gz ","permalink":"https://cfanzp.com/squid/","tags":["net","squid"],"title":"squid"},{"categories":["net"],"contents":"wireshark的用法 混杂模式 包过滤 查看源地址为192.168.0.2的包 1 ip.src_host == 192.168.0.2 查看源地址为192.168.0.2,目的地址为192.168.0.3的包 1 ip.src_host == 192.168.0.2 and ip.src_host == 192.168.0.3 查看源地址或目的地址为192.168.0.2的包 1 ip.addr == 192.168.0.2 抓包 udp arp icmp 1 ping www.baidu.com tcp 1 2 三次握手 四次挥手 ","permalink":"https://cfanzp.com/wireshark/","tags":["net","wireshark"],"title":"wireshark的用法"},{"categories":["net"],"contents":"e2guardian 概念 e2guardian是一个开源的url过滤和url内容过滤的软件。最近编译安装测试了一下，还是很实用的。 e2guardian下载 https://github.com/e2guardian/e2guardian 1 wget https://github.com/e2guardian/e2guardian/archive/refs/tags/v5.5.4r.tar.gz 源码安装 参考: https://github.com/e2guardian/e2guardian/wiki/Installation-From-Source 1 2 3 apt-get build-dep e2guardian ./autogen.sh ./configure \u0026#39;--prefix=/usr\u0026#39; \u0026#39;--enable-clamd=yes\u0026#39; \u0026#39;--with-proxyuser=e2guardian\u0026#39; \u0026#39;--with-proxygroup=e2guardian\u0026#39; \u0026#39;--sysconfdir=/etc\u0026#39; \u0026#39;--localstatedir=/var\u0026#39; \u0026#39;--enable-icap=yes\u0026#39; \u0026#39;--enable-commandline=yes\u0026#39; \u0026#39;--enable-email=yes\u0026#39; \u0026#39;--enable-ntlm=yes\u0026#39; \u0026#39;--mandir=${prefix}/share/man\u0026#39; \u0026#39;--infodir=${prefix}/share/info\u0026#39; \u0026#39;--enable-pcre=yes\u0026#39; \u0026#39;--enable-sslmitm=yes\u0026#39; \u0026#39;CPPFLAGS=-mno-sse2 -g -O2\u0026#39; squid与e2guardian配合使用 e2guardian可作为icap server与squid配合使用。 参考 e2guardian wiki ","permalink":"https://cfanzp.com/e2guardian/","tags":["net"],"title":"e2guardian"},{"categories":["mysql","golang","net"],"contents":"mysql数据包分析 最近再研究数据库数据安全时需要分析mysql数据库的认证流程，获取到认证信息中的用户名来作为用户的唯一标识。 认证数据包 Auth packet 1 2 3 4 5 6 //4 + 4 + 1 + 23 func (packet *Packet) GetDBUser() string { offset := 4 + 4 + 1 + 23 data := packet.data[offset:] return string(data[0:bytes.IndexByte(data, 0)]) } 参考 https://www.jianshu.com/p/76a078e308f8 ","permalink":"https://cfanzp.com/mysql-packet/","tags":["mysql"],"title":"mysql数据包分析"},{"categories":["vim","golang"],"contents":"Vim配置vim-go插件 Vim安装了vim-go插件后语法高亮默认不会高亮函数，可以添加一些配置 配置文件中加入vim-go插件并安装 1 Plug \u0026#39;fatih/vim-go\u0026#39; 配置文件中加入vim-go相关配置 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 \u0026#34; 自动补全 let g:go_auto_sameids = 1 let g:go_auto_type_info = 1 let g:go_auto_unimported = 1 \u0026#34; 代码格式化 autocmd BufWritePre *.go :silent! call go#fmt#Fmt() \u0026#34; 调试支持 let g:go_gdb_enabled = 1 let g:go_debug_breakpoint_style = \u0026#39;condition\u0026#39; let g:go_debug_adapter = \u0026#39;dlv\u0026#39; \u0026#34;golang高亮 let g:go_highlight_types = 1 let g:go_highlight_fields = 1 let g:go_highlight_functions = 1 let g:go_highlight_function_calls = 1 let g:go_highlight_operators = 1 let g:go_highlight_extra_types = 1 ","permalink":"https://cfanzp.com/vim-go/","tags":["vim","golang"],"title":"Vim配置vim-go"},{"categories":["golang"],"contents":"Golang GoFrame框架 最近又一个项目后面需要做Web后台，之前有一个项目的Web后台是使用C++写的，这次的项目用的是Golang来做，后台web相关的api就准备用golang来写。 golang的web框架 golang的web框架也有不少选择,下面是其中的一些: Gin GoFrame:https://github.com/gogf/gf Hertz:https://github.com/cloudwego/hertz https://github.com/gin-gonic/gin 例子 这里我测试了一下focus-single这个例子感觉还不错。 https://goframe.org/pages/viewpage.action?pageId=57183756 https://github.com/gogf/focus-single 总结 现在还没有深入使用GoFrame,这里先记录一下\u0026hellip; ","permalink":"https://cfanzp.com/gf/","tags":["golang","web"],"title":"Golang GoFrame框架"},{"categories":["硬件"],"contents":"S905l3a安装armbian 上周末把家里二手的电视盒子刷成了armbian,再安装上docker,docker上可以安装轻量级的nas和很多工具比如Home Assistant。 安装遇到问题 更新系统后无法进入系统了 这个问题很搞人，解决方案就是别更新armbian就可以了。 设置网络 用nmtui 安装portainer 1 2 3 4 5 6 7 8 9 root@armbian:~# cat install_portainer.sh #这个可不执行，搜索portainer镜像，我选portainer-ce docker search portainer #拉取portainer镜像 docker pull portainer/portainer-ce #创建一个名称为portainerTV端口为9000的容器，并运行。 docker run -d -p 9000:9000 --restart=always \\ -v /var/run/docker.sock:/var/run/docker.sock \\ --name portainerTV portainer/portainer-ce 参考 https://www.right.com.cn/forum/thread-8246642-1-1.html ","permalink":"https://cfanzp.com/s905l3a_armbian/","tags":["电视盒子"],"title":"S905l3a YST 安装armbian"},{"categories":["net"],"contents":"零信任网络访问\u0026ndash;ZTNA 概念 零信任网络访问（Zero Trust Network Access，ZTNA）是一种安全模型和策略，旨在提供更严格、更精细的访问控制，以保护企业网络和资源免受未经授权的访问和攻击。 传统的网络安全模型通常基于边界防御，即在企业网络的边界上建立防火墙和访问控制策略，以限制外部用户对内部资源的访问。然而，随着移动办公、云计算和外部合作伙伴等趋势的兴起，企业网络变得更加复杂，边界变得模糊，传统的边界防御模型已经无法满足安全需求。 零信任网络访问模型采用了一种\u0026quot;never trust, always verify\u0026quot;（永不信任，始终验证）的原则。它将安全重心从网络边界转移到每个用户和设备级别，要求在用户访问企业资源之前进行身份验证、设备健康检查和访问权限控制。具体来说，ZTNA模型包括以下几个关键要素： 多因素身份验证：用户在访问企业资源之前需要进行强制的多因素身ä»½验证，以确保其身份的真实性。 设备健康检查：用户的设备需要通过安全性评估和健康检查，以确保其满足特定的安全标准和策略。 微分化访问权限：基于用户的身份、角色和上下文，为每个用户提供最小权限原则，只授予他们访问所需资源的权限。 实时访问监控和日志记录：对用户的访问行为进行实时监控和记录，以便及时检测异常活动，并进行适当的响应和取证。 作用 通过采用零信任网络访问模型，企业可以提高对网络资源的安全性和可见性，减少潜在的攻击面，并更好地保护敏感数据免受未经授权的访问。 这种安全模型适应了现代网络环境的变化和挑战，被广泛视为一种有效的安全实践。 ","permalink":"https://cfanzp.com/ztna/","tags":["ZTNA"],"title":"零信任网络访问--ZTNA"},{"categories":["net"],"contents":"软件定义广域网\u0026ndash;SDWAN 含义 SD-WAN是软件定义广域网（Software-Defined Wide Area Network）的缩写。 它是一种网络架构和技术，用于优化和管理企业的广域网连接。 传统的广域网架构通常使用专线和多协议标签交换（MPLS）等传统技术，但在现代企业中，面临着应用程序多样性、云计算和分布式办公等挑战。 SD-WAN旨在应对这些挑战，并提供更灵活、可靠和经济高效的广域网解决方案。 SD-WAN的关键特点和功能包括： 集中化管理：通过集中的控制器，管理员可以对整个广域网进行集中管理和配置，从而简化了网络管理任务。 动态路径选择：SD-WAN可以根据网络流量、延迟、带宽和应用程序要求等因素，智能地选择最佳的网络路径，以确保数据传输的性能和质量。 应用程序优化：SD-WAN可以识别和分类不同的应用程序流量，并对其进行优化，以提供更好的用户体验和应用程序性能。 安全性增强：SD-WAN可以提供安全加密隧道和防火墙功能，以保护数据在广域网中的传输安全。 云集成：SD-WAN可以与云服务提供商集成，并优化对云应用程序和云服务的访问，提供更好的性能和可靠性。 通过使用SD-WAN，企业可以降低广域网的复杂性和成本，提高网络的可用性和性能，并更好地适应不断变化的业务需求。它是一种灵活、可扩展和创新的网络解决方案，逐渐被企业广泛采用。 ","permalink":"https://cfanzp.com/sdwan/","tags":["SDWAN"],"title":"软件定义广域网--SDWAN"},{"categories":["net"],"contents":"数据泄露防护\u0026ndash;DLP 含义 DLP代表数据丧失预防（Data Loss Prevention），也被称为数据泄露防护、数据泄漏预防等。 DLP是一种技术和策略的组合，旨在防止敏感数据在未经授权的情况下被意外泄露、遗失或盗取。 目标 DLP的目标是保护敏感数据，包括个人身份信息、财务数据、知识产权和其他机密信息，以防止其被恶意使用或不当处理。 它可以应用于各种数据形式，如文本文档、电子邮件、数据库记录、图像和音频等。 DLP技术通常包括以下方面： 内容检测与监测：使用各种方法和算法对数据进行扫描和分析，以识别敏感信息，例如社会安全号码、信用卡号码、银行账户信息等。这可以通过关键字匹配、正则表达式、机器学习和模式识别等技术来实现。 访问控制与策略管理：通过设定访问策略和权限控制，限制对敏感数据的访问，并确保只有经过授权的用户和应用程序可以处理该数据。 加密与数据保护：使用加密技术对敏感数据进行保护，以确保即使在数据泄露的情况下，也无法被未经授权的人员访问。 活动监测与审计：持续监测和记录数据处理活动，以便及时发现异常行为和追踪数据泄露事件的来源。 作用 实施DLP策略可以帮助组织保护其敏感数据，提高数据安全性和合规性。 它可以防止内部人员的意外错误、恶意行为和外部威胁导致的数据泄露。 此外，一些组织还使用DLP来满足法规和合规要求，如GDPR（通用数据保护条例）和HIPAA（美国医疗保险可移植性和责任法案）等。 需要注意的是，DLP技术和策略仅仅是数据安全保护的一部分，组织还应采取其他安全措施，如访问控制、身份验证、网络防火墙和安全培训等，以构建一个全面的数据保护体系。 ","permalink":"https://cfanzp.com/dlp/","tags":["dlp"],"title":"数据泄露防护--DLP"},{"categories":["net"],"contents":"安全访问服务边缘\u0026ndash;SASE 基础概念 SASE是Secure Access Service Edge的缩写，即安全访问服务边缘。它是一种新兴的网络架构，将网络安全与广域网（WAN）边缘服务集成在一起，以提供更安全、更快速和更可靠的网络连接。 SASE的设计理念是将网络安全功能（如防火墙、安全网关、入侵检测和预防等）与广域网连接功能（如SD-WAN、加速器、应用程序路由和负载均衡等）集成在一起，形成一个综合的网络边缘服务平台。 这种集成可以通过云服务提供商或网络服务提供商（NSP）来实现，用户可以通过云服务访问SASE平台。 优势 SASE可以带来以下优势： 更好的安全性：SASE将网络安全功能集中在边缘，可以为用户提供更全面、更实时的安全保护，包括数据加密、流量检测、恶意软件防御和访问控制等。 更高的可靠性：SASE可以通过多个数据中心和全球范围的边缘节点来提供服务，可以实现更高的容错性和可靠性，同时也能够提供更低的时延和更快的网络连接速度。 更高的灵活性：SASE可以根据不同用户的需求定制网络功能和安全策略，可以实现更灵活的网络架构和更快速的服务交付。 更低的成本：SASE使用云服务模式，可以在无需额外投资于基础设施和设备的情况下提供服务，从而降低了总体成本。 由于SASE平台的集成和部署需要大量的技术和资源，因此很多企业选择将SASE服务外包给云服务提供商或网络服务提供商。这种模式可以使企业专注于自己的业务，同时也可以获得更好的网络安全和更高的网络性能。 ","permalink":"https://cfanzp.com/sase/","tags":["SASE"],"title":"安全访问服务边缘--SASE"},{"categories":["net"],"contents":"SaaS 简介 SaaS是“软件即服务”（Software as a Service）的缩写，是一种基于云计算模式的软件交付模式。 在SaaS模式下，软件提供商将其应用程序部署在云基础设施上，并通过互联网向用户提供访问。 用户无需购买、安装和维护软件，而是通过订阅或按需付费的方式来使用软件服务。 SaaS的特点 SaaS模式具有以下特点： 订阅模式：用户通常以订阅或按需付费的方式来获得对SaaS应用程序的访问权限。这使得用户可以根据实际需求进行灵活的付费，并避免了大额的前期投资。 多租户架构：SaaS应用程序通常采用多租户架构，即多个用户共享同一套软件实例和基础设施。这使得软件提供商能够更高效地管理和维护软件，同时为用户提供可伸缩性和灵活性。 无需安装和维护：用户无需在本地安装、配置和维护软件，所有的应用程序逻辑和数据都存储在云端。这减轻了用户的IT管理负担，同时确保了软件的及时更新和维护。 全球性访问：由于SaaS应用程序基于互联网提供服务，用户可以通过任何联网设备和任何地点来访问应用程序，具有很强的灵活性和可访问性。 持续更新：软件提供商可以通过云端部署持续地更新和改进SaaS应用程序，用户无需手动进行更新，始终可以获得最新版本的功能和修复。 总结 常见的SaaS应用包括客户关系管理（CRM）、企业资源规划（ERP）、人力资源管理（HRM）、协作办公、项目管理和各种行业专用软件等。 总之，SaaS模式通过基于云计算的软件交付方式，为用户提供了一种便捷、灵活和经济高效的软件使用方式，已经成为现代企业和个人用户的常用选择。 ","permalink":"https://cfanzp.com/saas/","tags":["SAAS"],"title":"软件即服务--SaaS"},{"categories":["golang"],"contents":"golang mutex用法 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;sync\u0026#34; ) var ( counter int mutex sync.Mutex ) func incrementCounter() { mutex.Lock() // 获取互斥锁 defer mutex.Unlock() // 在函数返回时释放互斥锁 counter++ // 访问共享资源 } func main() { wg := sync.WaitGroup{} for i := 0; i \u0026lt; 1000; i++ { wg.Add(1) go func() { incrementCounter() wg.Done() }() } wg.Wait() fmt.Println(\u0026#34;Counter:\u0026#34;, counter) } 在上面的示例中， 首先定义了一个全局变量counter和一个互斥锁mutex。 然后编写了一个incrementCounter函数，该函数对counter进行递增操作。 在主函数main中，启动了1000个goroutine并发地调用incrementCounter函数来增加counter的值。 通过使用互斥锁，确保了对counter的安全访问，避免了竞争条件的发生。 需要注意的是，在使用互斥锁时，需要在临界区的开始处调用Lock方法获取锁，并在临界区结束时调用Unlock方法释放锁。 为了确保锁一定会被释放，可以使用defer语句来延迟执行Unlock方法。 ","permalink":"https://cfanzp.com/golang-mutex/","tags":["golang"],"title":"golang mutex用法"},{"categories":["net"],"contents":"dnsmasq 什么是dnsmasq? dnsmasq是一个轻量级的、易于配置的DNS（Domain Name System）和DHCP（Dynamic Host Configuration Protocol）服务器软件。它可以在Linux和其他类Unix系统上运行，并提供DNS缓存、DHCP服务和网络引导功能。 作为DNS服务器，dnsmasq能够响应主机的DNS查询请求，并将这些查询发送到上游DNS服务器，从而帮助加快DNS解析速度并减轻上游DNS服务器的负载。此外，dnsmasq还可以通过本地缓存来改善网络性能，并支持将特定域名的解析请求重定向到指定的IP地址。 作为DHCP服务器，dnsmasq可以自动为连接到网络的计算机分配IP地址、网关和DNS服务器等网络配置信息，从而简化了网络管理和配置的工作。 除此之外，dnsmasq还具有透明代理、网络引导等功能，使其成为一个多功能的网络服务软件。由于其轻量级和易用性，dnsmasq经常被用于嵌入式系统、家庭网络路由器和小型办公室网络中。 总的来说，dnsmasq在网络环境中扮演着重要角色，为用户提供了简单而有效的DNS和DHCP服务，并在一定程度上提高了网络的性能和可管理性。 ubuntu安装 1 sudo apt-get install dnsmasq 源码下载地址 https://thekelleys.org.uk/dnsmasq/ ","permalink":"https://cfanzp.com/dnsmasq/","tags":["net"],"title":"dnsmasq"},{"categories":["net"],"contents":"云访问安全代理\u0026ndash;CASB 什么是CASB? CASB云访问安全代理 是介于企业用户和云服务提供商之间的安全策略执行点。CASB 可以结合多种不同的安全策略（从身份验证和凭据映射到加密、恶意软件检测等等），提供灵活的企业解决方案，帮助确保云应用在授权和未授权应用程序以及托管和非托管设备上的安全性。 CASB的4大基础 可见性 数据安全 威胁防护 合规性 CASB产品 微软CASB 参考 CASB和SASE：有什么区别？ CASB用例 ","permalink":"https://cfanzp.com/casb/","tags":["net"],"title":"云访问安全代理--CASB"},{"categories":["golang"],"contents":"Golang基础 安装最新版本的golang 1 2 3 4 5 6 7 wget https://go.dev/dl/go1.21.4.linux-amd64.tar.gz tar -C /usr/local -xzf go1.21.4.linux-amd64.tar.gz vim ~/.bashrc export PATH=$PATH:/usr/local/go/bin export GOPROXY=https://goproxy.cn source ~/.bashrc go version 基础语法 字符串 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 package main import \u0026#34;fmt\u0026#34; func main() { // 定义字符串变量 str1 := \u0026#34;Hello, World!\u0026#34; fmt.Println(\u0026#34;str1:\u0026#34;, str1) // 字符串拼接 str2 := \u0026#34;Hello, \u0026#34; + \u0026#34;Golang!\u0026#34; fmt.Println(\u0026#34;str2:\u0026#34;, str2) // 获取字符串长度 length := len(str1) fmt.Println(\u0026#34;Length of str1:\u0026#34;, length) // 字符串索引访问 char := str1[0] fmt.Println(\u0026#34;First character of str1:\u0026#34;, char) // 遍历字符串 for i := 0; i \u0026lt; len(str1); i++ { fmt.Println(\u0026#34;Character at index\u0026#34;, i, \u0026#34;:\u0026#34;, str1[i]) } // 使用反引号创建原始字符串 str3 := `This is a raw string \\n` fmt.Println(\u0026#34;str3:\u0026#34;, str3) // 字符串切片 slice := str1[7:12] fmt.Println(\u0026#34;Slice of str1:\u0026#34;, slice) // 字符串替换 str4 := \u0026#34;Hello, Golang!\u0026#34; newStr := replaceString(str4, \u0026#34;Golang\u0026#34;, \u0026#34;World\u0026#34;) fmt.Println(\u0026#34;New string:\u0026#34;, newStr) } func replaceString(s, old, new string) string { return s[:5] + new + s[12:] } 切片 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 package main import \u0026#34;fmt\u0026#34; func main() { // 创建一个切片 var slice1 []int fmt.Println(\u0026#34;slice1:\u0026#34;, slice1) // 使用make函数创建切片 slice2 := make([]int, 3) fmt.Println(\u0026#34;slice2:\u0026#34;, slice2) // 通过切片字面量创建切片 slice3 := []int{1, 2, 3, 4, 5} fmt.Println(\u0026#34;slice3:\u0026#34;, slice3) // 对切片进行切割 slice4 := slice3[1:3] fmt.Println(\u0026#34;slice4:\u0026#34;, slice4) // 修改切片中的元素 slice4[0] = 9 fmt.Println(\u0026#34;slice3:\u0026#34;, slice3) // 原始切片的对应位置也被修改了 // 向切片追加元素 slice3 = append(slice3, 6) fmt.Println(\u0026#34;slice3:\u0026#34;, slice3) // 复制切片 slice5 := make([]int, 3) copy(slice5, slice3) fmt.Println(\u0026#34;slice5:\u0026#34;, slice5) } map 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 package main import \u0026#34;fmt\u0026#34; func main() { // 创建一个空的map var m1 map[string]int fmt.Println(\u0026#34;m1:\u0026#34;, m1) // 使用make函数创建一个map m2 := make(map[string]int) fmt.Println(\u0026#34;m2:\u0026#34;, m2) // 添加键值对到map中 m2[\u0026#34;apple\u0026#34;] = 3 m2[\u0026#34;banana\u0026#34;] = 5 fmt.Println(\u0026#34;m2:\u0026#34;, m2) // 使用字面量创建map m3 := map[string]int{\u0026#34;apple\u0026#34;: 3, \u0026#34;banana\u0026#34;: 5} fmt.Println(\u0026#34;m3:\u0026#34;, m3) // 获取map中的值 quantity := m3[\u0026#34;apple\u0026#34;] fmt.Println(\u0026#34;Quantity of apple:\u0026#34;, quantity) // 修改map中的值 m3[\u0026#34;apple\u0026#34;] = 10 fmt.Println(\u0026#34;Updated m3:\u0026#34;, m3) // 删除map中的键值对 delete(m3, \u0026#34;banana\u0026#34;) fmt.Println(\u0026#34;After deletion:\u0026#34;, m3) // 遍历map for key, value := range m3 { fmt.Println(key, \u0026#34;:\u0026#34;, value) } // 检查map中是否存在某个键 _, exists := m3[\u0026#34;apple\u0026#34;] fmt.Println(\u0026#34;Exists:\u0026#34;, exists) } chan 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 package main import \u0026#34;fmt\u0026#34; func square(numbers []int, c chan int) { for _, num := range numbers { c \u0026lt;- num * num // 将计算结果发送到通道 } close(c) // 关闭通道，表示没有更多的值会被发送 } func main() { numbers := []int{1, 2, 3, 4, 5} c := make(chan int) // 创建一个整数类型的通道 go square(numbers, c) // 启动一个goroutine来执行square函数 // 从通道接收数据，直到通道关闭 for result := range c { fmt.Println(result) } } goroutine 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 package main import ( \u0026#34;fmt\u0026#34; \u0026#34;time\u0026#34; ) func sayHello() { for i := 0; i \u0026lt; 5; i++ { fmt.Println(\u0026#34;Hello, 世界\u0026#34;) time.Sleep(100 * time.Millisecond) } } func main() { // 启动一个新的 goroutine 执行 sayHello 函数 go sayHello() // main 函数继续执行自己的逻辑 for i := 0; i \u0026lt; 3; i++ { fmt.Println(\u0026#34;Main 函数\u0026#34;) time.Sleep(200 * time.Millisecond) } } go package context bytes net/http net/http/pprof logrus bolt flag os/signal sync go-redis ","permalink":"https://cfanzp.com/golang-base/","tags":["golang"],"title":"Golang基础"},{"categories":["firewall","net","opensource","golang"],"contents":"acra 基础概念 AcraCentor: AcraCentor是AcraServer的一个单独的防火墙模块，用于检查每个传入的SQL请求。 AcraWriter: 将明文加密为AcraStruct并发送到AcraServer的库。 AcraBlock: 它是一种加密格式 AcraStruct: 它是一种数据格式,由AcraWriter生成。 master key .acrakeys:key生成的默认目录 KMS(Key Management Service): tools acra-keymaker:用于生成相关的key 目录结构 使用 1 2 3 4 5 6 sudo apt-get install git libssl-dev make build-essential git clone https://github.com/cossacklabs/themis.git cd themis make sudo make install git clone https://github.com/cossacklabs/acra.git make key 1 2 3 4 5 6 7 8 acra-keymaker --keystore=v1 --generate_master_key=master.key root@ca96fb4df685:/opt/casb/acra/build/bin# export ACRA_MASTER_KEY=$(cat master.key | base64) root@ca96fb4df685:/opt/casb/acra/build/bin# echo $ACRA_MASTER_KEY N83aD76oJK4T0rvW213efyOeGUFl6O1bw4A9+JSYGCI= vim ~/.bashrc export ACRA_MASTER_KEY=\u0026#39;N83aD76oJK4T0rvW213efyOeGUFl6O1bw4A9+JSYGCI=\u0026#39; source ~/.bashrc ./acra-keymaker --client_id=python1 --keystore=v1 github github: https://github.com/ACRA/acra ","permalink":"https://cfanzp.com/acra/","tags":["acra"],"title":"开源的数据库加密解决方案--acra"},{"categories":["docker"],"contents":"Docker常见软件安装 nginx mysql redis portainer ","permalink":"https://cfanzp.com/docker-soft/","tags":["docker"],"title":"Docker常见软件安装"},{"categories":["code"],"contents":" google c++代码规范中文版 ","permalink":"https://cfanzp.com/google-cpp-style/","tags":["c++"],"title":"google c++ 代码规范中文版"},{"categories":["firewall"],"contents":"防火墙知识点汇总 基本概念 NFV ASPF 接口/interface 安全策略/acl 路由表ip-route CASB SWG WAF SASE NGFW Link-Group IP-Link VRRP DNSmasq DNS服务器 ubunu下搭建DNS服务器 DHCP服务器 ubuntu下搭建DHCP服务器 用户相关 portal认证 LDAP协议 用户管控 portal认证 portal认证服务器 开源库 suricate VPP vtysh 工具 iperf3 HOW 参考资料 radius ","permalink":"https://cfanzp.com/firewall/","tags":["firewall"],"title":"防火墙知识点汇总"},{"categories":["net","firewall"],"contents":"ASPF 什么是ASPF? ASPF(Application SpecificPacket Filter) 针对应用层的特殊包过滤技术。 ASPF的原理 检测通过设备的报文的应用层协议信息，记录临时商议的数据连接，使得某些在安全策略中没有明确定义要放行的豹纹也能够得到正常转发。 相关概念 单通道协议 多通道协议 Server-map表：记录临时协商的数据连接的表项。 ","permalink":"https://cfanzp.com/aspf/","tags":["net"],"title":"应用层的特殊包过滤技术--ASPF"},{"categories":["vim"],"contents":"vim使用等号格式化代码 在Vim中，你可以使用equalprg选项来设置格式化C++代码时使用的外部程序。以下是一些常用的外部程序，可用于对齐和格式化C++代码： clang-format 安装 1 apt install clang-format 配置:配置文件可以房子项目目录或者,家目录 1 2 # 支持LLVM, GNU, Google, Chromium, Microsoft, Mozilla, WebKit clang-format -style=google -dump-config \u0026gt; .clang-format 配置说明文档:url clang-format: Clang格式化工具，可以自动对齐和格式化C++代码。你需要先安装Clang，并确保clang-format命令可用。在Vim配置文件（如.vimrc）中添加以下行来设置equalprg选项： 1 set equalprg=clang-format vimrc配置使用等号格式化 1 set equalprg=clang-format\\ -style=file\\ --fallback-style=google astyle astyle: 一个流行的源码格式化工具，支持多种编程语言，包括C++。你需要先安装AStyle，并确保astyle命令可用。在Vim配置文件中添加以下行来设置equalprg选项： 1 set equalprg=astyle\\ --style=gnu\\ --indent=spaces=4 上述示例中的选项\u0026ndash;style=gnu表示使用GNU风格的缩进和格式化规则，而\u0026ndash;indent=spaces=4表示使用4个空格进行缩进。 uncrustify uncrustify: 另一个流行的源码格式化工具，支持C++等多种语言。你需要先安装Uncrustify，并确保uncrustify命令可用。在Vim配置文件中添加以下行来设置equalprg选项： 1 set equalprg=uncrustify\\ -c\\ /path/to/uncrustify.cfg 上述示例中的-c选项后面是一个指向Uncrustify配置文件的路径，你需要将其替换为实际的配置文件路径。 ","permalink":"https://cfanzp.com/vim-codeformat/","tags":["vim","c++"],"title":"Vim使用clang-format等工具格式化c++代码"},{"categories":["net"],"contents":"vpp vpp简介 Vector Packet Processor（VPP）是一个高性能数据包处理框架，用于构建网络功能虚拟化（NFV）和软件定义网络（SDN）应用。以下是一些学习资料，可帮助你了解和学习 VPP： 官方文档：VPP 的官方文档是学习 VPP 最全面的资源。你可以在官方文档中找到关于 VPP 的详细说明、配置指南、示例代码和使用案例等内容。 官方文档链接 命令手册 GitHub 仓库：VPP 的源代码托管在 GitHub 上，你可以通过查看源代码和示例来深入了解 VPP 的内部工作原理。 GitHub 仓库链接 社区讨论：VPP 有一个活跃的社区，可以在社区讨论中获取有关 VPP 的问题和解决方案。你可以加入 VPP 的邮件列表或订阅论坛来参与讨论。 社区讨论链接 vpp常用命令 1 2 3 4 vppctl show int show interface show int addr ","permalink":"https://cfanzp.com/vpp/","tags":["net"],"title":"vpp"},{"categories":["linux","net"],"contents":"常见的路由命令 ip route 查看路由信息 1 2 3 ip route show #或 ip r show 查路由表 1 ip route show table 100 添加一条路默认路由 如果机器缺少默认路由，就无法上网，添加一条路由就可以解决。 其中 192.168.1.1为网关地址 1 2 3 4 5 ip route add default via 192.168.1.1 dev eth0 #或 ip r add default via 192.168.1.1 dev eth0 #在1号表中添加默认路由 ip route add default via 192.168.1.1 table 1 删除一条路默认路由 1 2 3 ip route del default via 192.168.1.1 dev eth0 #或 ip r del default via 192.168.1.1 dev eth0 ip rule 使用ip rule来修改路由策略数据库 设置路由策略，被打标记1的数据使用table 100路由表 1 ip rule add fwmark 1 lookup 100 实验 公司内网192.168.0.100以内的ip使用10.0.1网管上（电信），其它ip使用20.0.0.1（移动）上网 在网管服务器上添加一个默认路由 1 ip route add default gw 20.0.0.1 添加3号路由表 1 2 # eth0 是10.0.0.1所在的网卡 ip route add table 3 via 10.0.0.1 dev eth1 添加ip rule规则 1 ip rule add fwmark 3 table 3 给相应的数据包打标记 1 iptables -A PREROUTING -t mangle -i eth0 -s 192.168.0.1 - 192.168.0.100 -j MARK --set-mark 3 参考 https://www.cnblogs.com/sudochen/p/15992994.html ","permalink":"https://cfanzp.com/ip-route/","tags":["linux","net"],"title":"常见的路由命令"},{"categories":["os"],"contents":"linux 消息队列 发送端 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 //q3.c #include \u0026lt;pthread.h\u0026gt; #include \u0026lt;mqueue.h\u0026gt; #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;unistd.h\u0026gt; #include \u0026lt;fcntl.h\u0026gt; /* For O_* constants */ #include \u0026lt;sys/stat.h\u0026gt; /* For mode constants */ #include \u0026lt;string.h\u0026gt; int main(int argc, char *argv[]) { mqd_t mq_cmd; struct mq_attr attr; char msgbuffer[1000] = {0}; memcpy(msgbuffer,\u0026#34;boots\u0026#34;,5); /* Open the message queue for reading */ attr.mq_flags = 0; attr.mq_maxmsg = 10; attr.mq_msgsize = 1000; attr.mq_curmsgs = 0; mq_cmd = mq_open(\u0026#34;/mq_test\u0026#34;, O_WRONLY|O_CREAT, 0666, \u0026amp;attr); //为什么要加 / ，否则打开失败 if (mq_cmd \u0026lt; 0){ printf(\u0026#34;mq_open error: %d \\n\u0026#34;,mq_cmd); }else{ printf(\u0026#34;mq_open success: %d \\n\u0026#34;,mq_cmd); } int nbytes = mq_send(mq_cmd, (char *)msgbuffer, sizeof(msgbuffer), 0); if (nbytes \u0026lt; 0){ printf(\u0026#34;mq_send error: %d \\n\u0026#34;,nbytes); }else{ printf(\u0026#34;mq_send success: %d \\n\u0026#34;,nbytes); } if (mq_close(mq_cmd) \u0026lt; 0){ printf(\u0026#34;mq_close error! \\n\u0026#34;); }else{ printf(\u0026#34;mq_close success! \\n\u0026#34;); } //mq_unlink(\u0026#34;/mq_test\u0026#34;); } make 1 gcc q3.c -o q3 -lrt 接收端 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 //q4.c #include \u0026lt;pthread.h\u0026gt; #include \u0026lt;mqueue.h\u0026gt; #include \u0026lt;stdio.h\u0026gt; #include \u0026lt;stdlib.h\u0026gt; #include \u0026lt;unistd.h\u0026gt; #include \u0026lt;fcntl.h\u0026gt; /* For O_* constants */ #include \u0026lt;sys/stat.h\u0026gt; /* For mode constants */ int main(int argc, char *argv[]) { mqd_t mq_cmd; struct mq_attr attr; char msgbuffer[1000] = {0}; /* Open the message queue for reading */ attr.mq_flags = 0; attr.mq_maxmsg = 10; attr.mq_msgsize = 1000; attr.mq_curmsgs = 0; mq_cmd = mq_open(\u0026#34;/mq_test\u0026#34;, O_RDONLY|O_CREAT, 0666, \u0026amp;attr); //为什么要加 / ，否则打开失败 if (mq_cmd \u0026lt; 0){ printf(\u0026#34;mq_open error: %d \\n\u0026#34;,mq_cmd); }else{ printf(\u0026#34;mq_open success: %d \\n\u0026#34;,mq_cmd); } int nbytes = mq_receive(mq_cmd,msgbuffer, 1000, NULL); //这里的20, 表示长度大于或等于mq_msgsize，否则返回 -1 if (nbytes \u0026lt; 0){ printf(\u0026#34;mq_receive error: %d \\n\u0026#34;,nbytes); }else{ printf(\u0026#34;mq_receive success: %s\\n\u0026#34;,msgbuffer); } if (mq_close(mq_cmd) \u0026lt; 0){ printf(\u0026#34;mq_close error! \\n\u0026#34;); }else{ printf(\u0026#34;mq_close success! \\n\u0026#34;); } } make 1 gcc q4.c -o q4 -lrt c++ 读取消息队列 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 #include \u0026lt;iostream\u0026gt; #include \u0026lt;thread\u0026gt; #include \u0026lt;sys/types.h\u0026gt; #include \u0026lt;sys/ipc.h\u0026gt; #include \u0026lt;sys/msg.h\u0026gt; // 定义消息队列的键值 const key_t queueKey = 1234; // 定义消息结构体 struct Message { long mtype; // 消息类型 char mtext[1024]; // 消息内容 }; // 读取消息队列的线程函数 void ReadMessageQueue() { // 创建或连接到消息队列 int queueId = msgget(queueKey, IPC_CREAT | 0666); if (queueId == -1) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to create or connect to the message queue.\u0026#34; \u0026lt;\u0026lt; std::endl; return; } // 循环读取消息队列 while (true) { // 接收消息 Message message; int ret = msgrcv(queueId, \u0026amp;message, sizeof(message.mtext), 0, 0); if (ret == -1) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to receive message from the message queue.\u0026#34; \u0026lt;\u0026lt; std::endl; break; } // 处理消息（这里只简单打印） std::cout \u0026lt;\u0026lt; \u0026#34;Received message: \u0026#34; \u0026lt;\u0026lt; message.mtext \u0026lt;\u0026lt; std::endl; } // 删除消息队列 if (msgctl(queueId, IPC_RMID, NULL) == -1) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to remove the message queue.\u0026#34; \u0026lt;\u0026lt; std::endl; } } int main() { // 创建读取消息队列的线程 std::thread readerThread(ReadMessageQueue); // 等待线程结束 readerThread.join(); return 0; } ","permalink":"https://cfanzp.com/linux_queue/","tags":["ubuntu","linux","c","c++"],"title":"linux消息队列的使用"},{"categories":["c++","opensource"],"contents":"如何使用c++发送邮件？ 这个库使用了一段时间后，发现异常处理做得不太好，改成了一个简单的python脚本，不推荐使用。 github-CSmtp ","permalink":"https://cfanzp.com/cpp_mail/","tags":["c","c++","cpp","mail"],"title":"如何使用c++发送邮件？"},{"categories":["ubuntu","vim"],"contents":"ubuntu20.04安装最新版本的clangd 添加LLVM官方存储库 1 2 wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add - sudo add-apt-repository \u0026#34;deb http://apt.llvm.org/focal/ llvm-toolchain-focal main\u0026#34; 更新软件包列表 1 sudo apt update 安装clangd 1 2 3 4 5 6 7 8 9 10 11 12 13 root@VM-8-10-ubuntu:~# sudo apt install clangd Reading package lists... Done Building dependency tree Reading state information... Done The following packages were automatically installed and are no longer required: golang-1.13 golang-1.13-doc golang-1.13-go golang-1.13-race-detector-runtime golang-1.13-src golang-doc golang-go golang-race-detector-runtime golang-src libsass1 Use \u0026#39;sudo apt autoremove\u0026#39; to remove them. The following additional packages will be installed: clangd-17 lib32gcc-s1 lib32stdc++6 libc6-i386 libclang-common-17-dev libclang-cpp17 libclang-rt-17-dev libllvm17 The following NEW packages will be installed: clangd clangd-17 lib32gcc-s1 lib32stdc++6 libc6-i386 libclang-common-17-dev libclang-cpp17 libclang-rt-17-dev libllvm17 0 upgraded, 9 newly installed, 0 to remove and 77 not upgraded. Need to get 48.3 MB of archives. 查看clangd版本 1 2 3 4 clangd --version Ubuntu clangd version 17.0.0 (++20230711053010+0b66b3417c02-1~exp1~20230711173124.695) Features: linux Platform: x86_64-pc-linux-gnu vim如何配置使用clangd 将替换为您机器上的LLVM版本号，\u0026lt;path_to_clang_resource_dir\u0026gt;替换为您机器上的clang资源目录路径 1 2 3 4 5 6 7 8 9 Plug \u0026#39;vim-scripts/clang_complete\u0026#39; Plug \u0026#39;rhysd/vim-clang-format\u0026#39; let g:clang_library_path = \u0026#39;/usr/lib/llvm-\u0026lt;version\u0026gt;/lib\u0026#39; let g:clang_user_options = \u0026#39;-resource-dir=\u0026lt;path_to_clang_resource_dir\u0026gt;\u0026#39; let g:clang_periodic_quickfix = 0 let g:clang_complete_auto = 1 let g:clang_complete_copen = 1 let g:clang_wp_auto_open = 1 如何查看resource_dir 1 2 root@VM-8-10-ubuntu:/opt/proj/7505/skynet/service-src# clang --print-resource-dir /usr/lib/llvm-17/lib/clang/17 vim-scripts/clang_complete插件如何使用？ vim-scripts/clang_complete插件为Vim提供了自动补全功能，并支持使用clang作为后端。 - 手动触发自动补全：在编辑C++代码时，按下Ctrl+X，然后再按下Ctrl+U即可触发自动补全功能。此时，插件将使用clang作为后端查找可能的补全项。 - 选择补全项：在自动补全列表中，使用Tab键选择所需的补全项。可以在多个候选项之间切换。 / - 上下选择补全项：在自动补全列表中，按下Ctrl+N向下选择下一个补全项，按下Ctrl+P向上选择上一个补全项。 - 确定补全项：在自动补全列表中，按下Enter键即可确认当前选择的补全项并插入到代码中。 - 强制触发智能提示：在输入代码时，可以按下Ctrl+X，然后再按下Ctrl+O以强制触发智能提示功能。 clang与clangd有什么区别？ 如何安装clang 1 sudo apt install build-essential 添加存储库 1 2 3 4 5 wget -O - https://apt.llvm.org/llvm-snapshot.gpg.key | sudo apt-key add - sudo apt-add-repository \u0026#34;deb http://apt.llvm.org/focal/ llvm-toolchain-focal main\u0026#34; sudo apt update sudo apt install clang clang --version clangd vim插件vim-lsp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 Plug \u0026#39;prabirshrestha/vim-lsp\u0026#39; \u0026#34; 启用 vim-lsp \u0026#34; 如果您使用的是 Windows，请将 lsp 路径更新为正确的可执行文件路径 if executable(\u0026#39;clangd\u0026#39;) au User lsp_setup call lsp#register_server({ \\ \u0026#39;name\u0026#39;: \u0026#39;clangd\u0026#39;, \\ \u0026#39;cmd\u0026#39;: {server_info-\u0026gt;[\u0026#39;clangd\u0026#39;, \u0026#39;--background-index\u0026#39;]}, \\ \u0026#39;whitelist\u0026#39;: [\u0026#39;c\u0026#39;, \u0026#39;cpp\u0026#39;], \\ }) endif \u0026#34;设置 LSP 自动完成 autocmd FileType c,cpp,python,nvim,lua call lsp#auto() \u0026#34; 启用 LSP 具体支持的文件类型 autocmd FileType c setlocal omnifunc=lsp#complete autocmd FileType cpp setlocal omnifunc=lsp#complete autocmd FileType python setlocal omnifunc=lsp#complete autocmd FileType nvim setlocal omnifunc=lsp#complete autocmd FileType lua setlocal omnifunc=lsp#complete ","permalink":"https://cfanzp.com/clangd/","tags":["clangd"],"title":"clangd如何使用？"},{"categories":["vim"],"contents":"vim配置使用cscope ubuntu20.04 安装cscope 1 apt install cscope cscope 生成索引文件 1 2 3 4 find `pwd` -name \u0026#34;*.h\u0026#34; -o -name \u0026#34;*.hpp\u0026#34; -o -name \u0026#34;*.cpp\u0026#34; -o -name \u0026#34;*.cc\u0026#34; -o -name \u0026#34;*.c\u0026#34; \u0026gt; cscope.files cscope -Rbq -i cscope.files 或者 cscope -Rbq // cscope 默认在当前路径查找cscope.files cscopt.vim 快捷键配置 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 Below is the minimum key mappings. nnoremap \u0026lt;leader\u0026gt;fa :call cscope#findInteractive(expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; nnoremap \u0026lt;leader\u0026gt;l :call ToggleLocationList()\u0026lt;CR\u0026gt; Some optional key mappings to search directly. \u0026#34; s: Find this C symbol nnoremap \u0026lt;leader\u0026gt;fs :call cscope#find(\u0026#39;s\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; g: Find this definition nnoremap \u0026lt;leader\u0026gt;fg :call cscope#find(\u0026#39;g\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; d: Find functions called by this function nnoremap \u0026lt;leader\u0026gt;fd :call cscope#find(\u0026#39;d\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; c: Find functions calling this function nnoremap \u0026lt;leader\u0026gt;fc :call cscope#find(\u0026#39;c\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; t: Find this text string nnoremap \u0026lt;leader\u0026gt;ft :call cscope#find(\u0026#39;t\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; e: Find this egrep pattern nnoremap \u0026lt;leader\u0026gt;fe :call cscope#find(\u0026#39;e\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; f: Find this file nnoremap \u0026lt;leader\u0026gt;ff :call cscope#find(\u0026#39;f\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; i: Find files #including this file nnoremap \u0026lt;leader\u0026gt;fi :call cscope#find(\u0026#39;i\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; vim 配置 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 Plug \u0026#39;vim-scripts/cscope.vim\u0026#39; \u0026#34;cscope set cscopequickfix=s-,c-,d-,i-,t-,e- nnoremap \u0026lt;leader\u0026gt;sa :call cscope#findInteractive(expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; nnoremap \u0026lt;leader\u0026gt;sl :call ToggleLocationList()\u0026lt;CR\u0026gt; \u0026#34; s: Find this C symbol nnoremap \u0026lt;leader\u0026gt;ss :call cscope#find(\u0026#39;s\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; \u0026#34; g: Find this definition nnoremap \u0026lt;leader\u0026gt;sg :call cscope#find(\u0026#39;g\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; \u0026#34; d: Find functions called by this function nnoremap \u0026lt;leader\u0026gt;sd :call cscope#find(\u0026#39;d\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; \u0026#34; c: Find functions calling this function nnoremap \u0026lt;leader\u0026gt;sc :call cscope#find(\u0026#39;c\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; t: Find this text string nnoremap \u0026lt;leader\u0026gt;st :call cscope#find(\u0026#39;t\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; e: Find this egrep pattern nnoremap \u0026lt;leader\u0026gt;se :call cscope#find(\u0026#39;e\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; f: Find this file nnoremap \u0026lt;leader\u0026gt;sf :call cscope#find(\u0026#39;f\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; \u0026#34; i: Find files #including this file nnoremap \u0026lt;leader\u0026gt;si :call cscope#find(\u0026#39;i\u0026#39;, expand(\u0026#39;\u0026lt;cword\u0026gt;\u0026#39;))\u0026lt;CR\u0026gt; if has(\u0026#34;cscope\u0026#34;) set csprg=/usr/bin/cscope set csto=0 set cst set nocsverb \u0026#34; add any database in current directory if filereadable(\u0026#34;cscope.out\u0026#34;) cs add cscope.out \u0026#34; else add database pointed to by environment elseif $CSCOPE_DB != \u0026#34;\u0026#34; cs add $CSCOPE_DB endif set csverb endif \u0026#34;map g\u0026lt;C-]\u0026gt; :cs find 3 \u0026lt;C-R\u0026gt;=expand(“\u0026lt;cword\u0026gt;”)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;map g\u0026lt;C-/\u0026gt; :cs find 0 \u0026lt;C-R\u0026gt;=expand(“\u0026lt;cword\u0026gt;”)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34; \u0026#34;nmap \u0026lt;C-_\u0026gt;s :cs find s \u0026lt;C-R\u0026gt;=expand(\u0026#34;\u0026lt;cword\u0026gt;\u0026#34;)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;nmap \u0026lt;C-_\u0026gt;g :cs find g \u0026lt;C-R\u0026gt;=expand(\u0026#34;\u0026lt;cword\u0026gt;\u0026#34;)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;nmap \u0026lt;C-_\u0026gt;c :cs find c \u0026lt;C-R\u0026gt;=expand(\u0026#34;\u0026lt;cword\u0026gt;\u0026#34;)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;nmap \u0026lt;C-_\u0026gt;t :cs find t \u0026lt;C-R\u0026gt;=expand(\u0026#34;\u0026lt;cword\u0026gt;\u0026#34;)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;nmap \u0026lt;C-_\u0026gt;e :cs find e \u0026lt;C-R\u0026gt;=expand(\u0026#34;\u0026lt;cword\u0026gt;\u0026#34;)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;nmap \u0026lt;C-_\u0026gt;f :cs find f \u0026lt;C-R\u0026gt;=expand(\u0026#34;\u0026lt;cfile\u0026gt;\u0026#34;)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;nmap \u0026lt;C-_\u0026gt;i :cs find i \u0026lt;C-R\u0026gt;=expand(\u0026#34;\u0026lt;cfile\u0026gt;\u0026#34;)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;nmap \u0026lt;C-_\u0026gt;d :cs find d \u0026lt;C-R\u0026gt;=expand(\u0026#34;\u0026lt;cword\u0026gt;\u0026#34;)\u0026lt;CR\u0026gt;\u0026lt;CR\u0026gt; \u0026#34;设定是否使用 quickfix 窗口来显示 cscope 结果 \u0026#34;set cscopequickfix=s-,c-,d-,i-,t-,e- \u0026#34;生成数据库 \u0026#34;cscope -Rbkq \u0026#34;R 表示把所有子目录里的文件也建立索引 \u0026#34;b 表示cscope不启动自带的用户界面，而仅仅建立符号数据库 \u0026#34;q生成cscope.in.out和cscope.po.out文件，加快cscope的索引速度 \u0026#34;k在生成索引文件时，不搜索/usr/include目录 \u0026#34;end cscope config 参考 参考1 参考2 https://zhuanlan.zhihu.com/p/504862247 https://blog.csdn.net/ywgdk/article/details/53607874 cscop.vim https://www.cnblogs.com/willsonli/p/6561398.html ","permalink":"https://cfanzp.com/cscope/","tags":["cscope","vim","ubuntu","c++","c"],"title":"vim配置使用cscope"},{"categories":["ubuntu"],"contents":"ubuntu20.04中source .bashrc后在tmux中无效？ 使用场景 最近使用nvim比较多，想在.bashrc中加一条 1 alias vim=\u0026#39;nvim\u0026#39; 加完之后bash中source一下 1 source ~/.bashrc 把所有的tmux全部关闭，重新进去，发现.bashrc中的配置不生效，需要再source一下.bashrc，每次打开一个新的窗口都需要重新source一下。 解决方案 如果你在Ubuntu 20.04上使用Bash作为默认Shell，那么它会首先加载.bash_profile（如果存在），如果没有.bash_profile，则加载.bashrc 如果存在.bash_profile文件，在文件中加入如下配置 1 2 3 if [ -f ~/.bashrc ]; then . ~/.bashrc fi ","permalink":"https://cfanzp.com/tmux-source-bashrc-invalid/","tags":["ubuntu"],"title":"ubuntu20.04中source .bashrc后在tmux中无效？"},{"categories":["game"],"contents":"gimp的使用 如果在 Windows 10 中启动 GIMP 2.10.34 时遇到 \u0026ldquo;fatal error: unhandled exception\u0026quot;如何处理？ AIJ建议 1 2 3 4 5 6 7 8 9 10 11 12 13 如果在 Windows 10 中启动 GIMP 2.10.34 时遇到 \u0026#34;fatal error: unhandled exception\u0026#34; 错误，你可以尝试以下方法进行解决： 安装 Microsoft Visual C++ Redistributable：GIMP 2.10.34 可能依赖于某些 Microsoft Visual C++ Redistributable 组件。尝试下载并安装最新版本的 Visual C++ Redistributable。你可以在 Microsoft 的官方网站上找到这些组件。 禁用图形加速：有些显卡驱动程序与 GIMP 2.10.34 不兼容，可能导致启动错误。尝试禁用图形加速功能，然后重新启动 GIMP。要禁用图形加速，请右键点击桌面上的空白区域，选择 \u0026#34;显示设置\u0026#34;（Display settings），然后滚动到屏幕底部的 \u0026#34;高级显示设置\u0026#34;（Advanced display settings）。在 \u0026#34;高级显示设置\u0026#34; 对话框中，选择 \u0026#34;显示适配器属性\u0026#34;（Display adapter properties），然后切换到 \u0026#34;驱动程序\u0026#34;（Driver）选项卡，最后点击 \u0026#34;属性\u0026#34;（Properties）。在弹出的对话框中，选择 \u0026#34;驱动程序\u0026#34;（Driver），然后禁用 \u0026#34;启用硬件加速\u0026#34;（Enable hardware acceleration）选项。 兼容性模式：尝试将 GIMP 2.10.34 设置为与较旧版本的 Windows 兼容的模式。右键点击 GIMP 2.10.34 的可执行文件，选择 \u0026#34;属性\u0026#34;，切换到 \u0026#34;兼容性\u0026#34; 选项卡，并勾选 \u0026#34;以兼容模式运行此程序\u0026#34;（Run this program in compatibility mode for）选项。从下拉菜单中选择较旧的 Windows 版本，例如 Windows 7 或 Windows 8，然后点击 \u0026#34;应用\u0026#34; 和 \u0026#34;确定\u0026#34; 保存更改。 检查错误日志：GIMP 2.10.34 可能生成错误日志，其中记录了启动过程中的详细信息。你可以尝试查找并检查 GIMP 的日志文件，该文件通常位于用户目录下的隐藏文件夹中（例如，在 Windows 上，路径可能是 C:\\Users\\YourUsername.gimp-2.10\\session.log）。查找其中的错误消息，这可能有助于确定问题所在。 完全卸载和重新安装：如果上述方法均无效，尝试完全卸载 GIMP 2.10.34，并重新下载安装最新版本的 GIMP。确保在卸载之前备份你的工作文件和设置。 如果问题仍然存在，建议向 GIMP 官方论坛或社区寻求帮助。他们可能能够提供更具体的解决方案或调试步骤来解决启动错误。 实际解决方案:修改为win7兼容模式运行。 ","permalink":"https://cfanzp.com/gimp/","tags":["image,gimp"],"title":"gimp的使用"},{"categories":["net"],"contents":"arp协议 arp协议的概念 ARP（地址解析协议）是一种用于在局域网中将IP地址解析为对应的物理MAC地址的协议。在计算机网络中，每个设备（如计算机、路由器等）都有一个唯一的MAC地址和一个IP地址。IP地址用于在网络层进行通信，而MAC地址则用于在数据链路层进行通信。 arp协议将IP地址\u0026mdash;\u0026gt;MAC地址。 IP地址用于网络层。 MAC地址用于数据链路层。 arp协议的作用 ARP协议的作用是通过发送特定的ARP请求广播消息，来查询目标设备的MAC地址。 当一个设备需要与局域网内的另一个设备通信时， 它首先会检查自己的ARP缓存表， 如果找不到对应的MAC地址， 则会发送一个ARP请求广播消息，询问该IP地址对应的设备的MAC地址。 接收到该广播消息的设备会回复一个ARP响应消息，其中包含目标设备的MAC地址。 发送方设备接收到响应消息后，将目标设备的MAC地址与IP地址进行映射，并将该映射关系添加到自己的ARP缓存表中，以便下次快速查询。 在 Ubuntu 中，你可以使用以下命令来查看和管理 ARP 协议： 查看当前的 ARP 表： 1 arp -n 这个命令将显示当前计算机上的 ARP 表，其中包含已解析的 IP 地址和对应的 MAC 地址。 清除或删除 ARP 表中的条目： 1 sudo arp -d \u0026lt;ip_address\u0026gt; 使用此命令来删除指定 IP 地址的 ARP 表条目。你需要使用 sudo 提升权限来执行此操作。 添加静态 ARP 条目： 1 sudo arp -s \u0026lt;ip_address\u0026gt; \u0026lt;mac_address\u0026gt; 使用此命令可以手动添加静态 ARP 条目，将指定的 IP 地址与相应的 MAC 地址关联起来。同样，你需要使用 sudo 提升权限。 查看内核 ARP 缓存： 1 cat /proc/net/arp 这个命令将显示内核维护的 ARP 缓存，包含了当前解析的 IP 地址和对应的 MAC 地址。 ","permalink":"https://cfanzp.com/arp/","tags":["net"],"title":"arp协议"},{"categories":["ubuntu","linux"],"contents":"rsync demo 1 rsync -av /usr/local/src/ server:/usr/local/src/ help: https://www.ruanyifeng.com/blog/2020/08/rsync.html ","permalink":"https://cfanzp.com/rsync/","tags":["rsync"],"title":"rsync用法demo"},{"categories":["golang","game","opensource"],"contents":"go语言的实名认证库wlc github:https://github.com/smartwalle/wlc.git ","permalink":"https://cfanzp.com/idcards_verify-wlc/","tags":["golang"],"title":"go语言的实名认证库wlc"},{"categories":["c","c++","ubuntu"],"contents":"ubuntu c/c++如何获取cpu使用率？ 编写cpu使用率的函数 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 #include \u0026lt;iostream\u0026gt; #include \u0026lt;fstream\u0026gt; #include \u0026lt;sstream\u0026gt; #include \u0026lt;string\u0026gt; #include \u0026lt;unistd.h\u0026gt; double getCPUUsage() { std::ifstream statFile(\u0026#34;/proc/stat\u0026#34;); if (!statFile) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to open /proc/stat.\u0026#34; \u0026lt;\u0026lt; std::endl; return 0.0; } std::string line; std::getline(statFile, line); // 读取第一行，即总体 CPU 统计信息 std::istringstream iss(line); std::string cpuLabel; unsigned long long user, nice, system, idle, iowait, irq, softirq, steal, guest, guest_nice; iss \u0026gt;\u0026gt; cpuLabel \u0026gt;\u0026gt; user \u0026gt;\u0026gt; nice \u0026gt;\u0026gt; system \u0026gt;\u0026gt; idle \u0026gt;\u0026gt; iowait \u0026gt;\u0026gt; irq \u0026gt;\u0026gt; softirq \u0026gt;\u0026gt; steal \u0026gt;\u0026gt; guest \u0026gt;\u0026gt; guest_nice; unsigned long long totalTime = user + nice + system + idle + iowait + irq + softirq + steal; unsigned long long totalIdle = idle + iowait; // 等待一段时间以获取下一个时间戳 sleep(1); // 可根据需要调整时间间隔 statFile.seekg(std::ios_base::beg); // 将文件指针返回开头，准备读取下一个时间戳的数据 std::getline(statFile, line); // 再次读取第一行，即新的 CPU 统计信息 std::istringstream iss2(line); std::string cpuLabel2; unsigned long long user2, nice2, system2, idle2, iowait2, irq2, softirq2, steal2, guest2, guest_nice2; iss2 \u0026gt;\u0026gt; cpuLabel2 \u0026gt;\u0026gt; user2 \u0026gt;\u0026gt; nice2 \u0026gt;\u0026gt; system2 \u0026gt;\u0026gt; idle2 \u0026gt;\u0026gt; iowait2 \u0026gt;\u0026gt; irq2 \u0026gt;\u0026gt; softirq2 \u0026gt;\u0026gt; steal2 \u0026gt;\u0026gt; guest2 \u0026gt;\u0026gt; guest_nice2; unsigned long long totalTime2 = user2 + nice2 + system2 + idle2 + iowait2 + irq2 + softirq2 + steal2; unsigned long long totalIdle2 = idle2 + iowait2; // 计算 CPU 使用率 double usagePercentage = static_cast\u0026lt;double\u0026gt;(totalTime2 - totalTime) / (totalTime2 + totalIdle2 - totalTime - totalIdle) * 100.0; return usagePercentage; } 包含必要的头文件 1 2 #include \u0026lt;sys/sysinfo.h\u0026gt; #include \u0026lt;iostream\u0026gt; 编写获取内存使用率的函数： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 double getMemoryUsage() { struct sysinfo memInfo; if (sysinfo(\u0026amp;memInfo) == -1) { std::cerr \u0026lt;\u0026lt; \u0026#34;Failed to get memory info.\u0026#34; \u0026lt;\u0026lt; std::endl; return 0.0; } unsigned long totalMemory = memInfo.totalram; unsigned long freeMemory = memInfo.freeram; unsigned long usedMemory = totalMemory - freeMemory; double usagePercentage = (static_cast\u0026lt;double\u0026gt;(usedMemory) / static_cast\u0026lt;double\u0026gt;(totalMemory)) * 100.0; return usagePercentage; } 该函数使用 sysinfo 结构和 sysinfo() 函数从系统获取内存信息，然后计算出内存使用率。 在主程序中调用该函数并打印结果： 1 2 3 4 5 int main() { double memoryUsage = getMemoryUsage(); std::cout \u0026lt;\u0026lt; \u0026#34;Memory Usage: \u0026#34; \u0026lt;\u0026lt; memoryUsage \u0026lt;\u0026lt; \u0026#34;%\u0026#34; \u0026lt;\u0026lt; std::endl; return 0; } 注意 需要注意的是，sysinfo() 函数返回的内存值以字节为单位。如果你想要以其他单位表示，比如兆字节（MB），可以进行相应的转换。此外，这种方法获取的是整个系统的内存使用率，如果你需要获取某个特定进程的内存使用率，需要使用其他 API 或工具来实现。 ","permalink":"https://cfanzp.com/cpp_cpuusage/","tags":["c","c++"],"title":"ubuntu c/c++如何获取cpu内存使用率？"},{"categories":["mac"],"contents":"mac使用rename进行批量重命名 场景 遇到有大量文件有相同前缀，想把前缀替换掉例如 1 2 abc_xxx1.txt 换成 def_xxx2.txt abc_xxx2.txt 换成 def_xxx2.txt 安装使用rename命令 1 2 brew install rename rename \u0026#39;s/abc/def/\u0026#39; *.txt ","permalink":"https://cfanzp.com/mac-rename/","tags":["mac"],"title":"mac使用rename进行批量重命名"},{"categories":["ubuntu"],"contents":"如何生成内网可用的https证书？ 生成https证书方案 这里主要说说其中的2种： openssl mkcert openssl 生成SSL证书 生成一个2048位的RSA私钥 1 openssl genrsa -out server.key 2048 创建证书请求（CSR） 1 openssl req -new -key server.key -out server.csr 生成自签名证书 1 openssl x509 -req -days 365 -in server.csr -signkey server.key -out server.crt wfrest 生成证书脚本 1 2 3 openssl genrsa -out server.key 2048 openssl req -new -x509 -key server.key -out server.crt -days 3650 ./19_https cert/server.crt cert/server.key 做出的证书会提示不安全 使用mkcert制作证书 mkcert github 生成客户端CA证书(pem/crt) 1 2 3 4 5 ./mkcert --install ./mkcert -CAROOT /root/.local/share/mkcert/ #查看证书 ls /root/.local/share/mkcert/ rootCA-key.pem rootCA.pem mac导入证书 参考 ","permalink":"https://cfanzp.com/openssl-https/","tags":["openssl","https"],"title":"如何生成内网可用的https证书？"},{"categories":["language","golang"],"contents":"go build提示timeout如何解决？ 场景 今天想用go写一个简单的工具，github下载了一个库，go build 编译时报错了 解决办法 1 go env -w GOPROXY=https://goproxy.io,direct 参考 https://zhuanlan.zhihu.com/p/312031216 ","permalink":"https://cfanzp.com/go-build-timeout/","tags":["golang"],"title":"go build提示timeout如何解决？"},{"categories":["c++","ubuntu","redis"],"contents":"ubuntu20.04中使用redis-plus-plus-1.3.8 安装hiredis 1 2 3 4 5 cd /usr/local/src/ proxychains wget https://github.com/redis/hiredis/archive/refs/tags/v1.1.0.tar.gz tar -xzvf v1.1.0.tar.gz cd hiredis-1.1.0/ make \u0026amp;\u0026amp; make install 安装redis-plus-plus-1.3.8 1 2 3 4 5 6 7 8 9 cd /usr/local/src/ proxychains wget https://github.com/sewenew/redis-plus-plus/archive/refs/tags/1.3.8.tar.gz mv 1.3.8.tar.gz redis-plus-plus-1.3.8.tar.gz tar -xzvf redis-plus-plus-1.3.8.tar.gz cd redis-plus-plus-1.3.8/ mkdir build cd build/ cmake .. make \u0026amp;\u0026amp; make install 编写demo程序 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 #include \u0026lt;iostream\u0026gt; #include \u0026lt;sw/redis++/redis++.h\u0026gt; using namespace sw::redis; // https://github.com/sewenew/redis-plus-plus/tree/1.3.8#use-redis-plus-plus-in-your-project int main() { try { auto redis = Redis(\u0026#34;tcp://127.0.0.1:6379\u0026#34;); redis.set(\u0026#34;config\u0026#34;,\u0026#34;/etc/redis.conf\u0026#34;); auto val = redis.get(\u0026#34;config\u0026#34;); if (val) { std::cout \u0026lt;\u0026lt; \u0026#34;config:\u0026#34; \u0026lt;\u0026lt; * val\u0026lt;\u0026lt; std::endl; } } catch (...) { std::cout \u0026lt;\u0026lt; \u0026#34;exception\u0026#34; \u0026lt;\u0026lt; std::endl; } return 0; } 编译 use static-lib 1 g++ -std=c++17 -o demo_static_lib.exe demo.cpp -I/usr/local/include/ /usr/local/lib/libredis++.a /usr/local/lib/libhiredis.a -pthread use share-lib 1 g++ -std=c++17 -o demo_share_lib.exe demo.cpp -lredis++ -lhiredis -pthread ","permalink":"https://cfanzp.com/redis-plus-plus/","tags":["c++","ubuntu"],"title":"ubuntu20.04中使用redis-plus-plus-1.3.8"},{"categories":["vim"],"contents":"Vim保存的时候提示Read only如何解决? 1 :w !sudo tee % ","permalink":"https://cfanzp.com/vim-readonly/","tags":["vim","nvim"],"title":"Vim保存的时候提示Read only如何解决?"},{"categories":["ubuntu"],"contents":"sudo echo file permmition denied如何解决？ 1 2 3 cat ./open_core.sh sudo echo \u0026#34;alias vim=nvim\u0026#34; \u0026gt;\u0026gt; /etc/profile ./open_core.sh: line 1: /etc/profile: Permission denied 解决方法 方法1 1 echo \u0026#34;alias vim=nvim\u0026#34; |sudo tee -a /etc/profile 方法2 1 sudo sh -c \u0026#39;echo \u0026#34;alias vim=nvim\u0026#34; \u0026gt;\u0026gt; /etc/profile\u0026#39; 参考 https://blog.csdn.net/change_can/article/details/115128218 ","permalink":"https://cfanzp.com/sudo-echo-file-permmition-denied/","tags":["ubuntu","shell"],"title":"使用sudo echo 写入文件提示 permmition denied如何解决？"},{"categories":["ubuntu"],"contents":"初始化ubuntu开发环境脚本 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 ubuntu@VM-8-10-ubuntu:~/linux_note/config/ubuntu/script$ cat init_ubuntu.sh sudo apt install silversearcher-ag sudo apt install tmux sudo apt install fdclone sudo apt install ripgrep sudo apt install git sudo apt install tig sudo apt install ranger sudo apt install global -y sudo apt install fzf -y sudo apt install git-ftp -y sudo apt install gdb -y sudo apt install cmake -y sudo apt install unzip -y sudo apt install proxychains4 -y #./install_mdbook.sh #wget https://github.com/gohugoio/hugo/releases/download/v0.101.0/hugo_extended_0.101.0_Linux-64bit.tar.gz #tar -xzvf hugo_extended_0.101.0_Linux-64bit.tar.gz sudo snap install hugo ## tmux init cp ./.tmux.conf ~/ echo alias tmux=\\\u0026#34;TERM=screen-256color-bce tmux\\\u0026#34; \u0026gt;\u0026gt; ~/.bashrc ## gitconfig cp ./.gitconfig ~/ ## vim config rm ~/.vimrc touch ~/.vimrc echo \u0026#34;inoremap jk \u0026lt;ESC\u0026gt;\u0026#34; \u0026gt;\u0026gt; ~/.vimrc ","permalink":"https://cfanzp.com/script-init-ubuntu-dev/","tags":["ubuntu","script"],"title":"初始化ubuntu开发环境脚本"},{"categories":["linux"],"contents":"Linux 中如何让ls目录、可执行文件等显示不同的颜色？ ubuntu 20.04配置方法 1 2 echo alias ls=\u0026#39;ls --color=auto\u0026#39; \u0026gt;\u0026gt; ~/.bashrc source ~/.bashrc mac m1配置方法 1 2 3 4 5 vim ~/.bash_profile export LS_OPTIONS=\u0026#39;--color=auto\u0026#39; # 如果没有指定，则自动选择颜色 export CLICOLOR=\u0026#39;Yes\u0026#39; #是否输出颜色 export LSCOLORS=\u0026#39;CxfxcxdxbxegedabagGxGx\u0026#39; #指定颜色 source ~/.bash_profile ","permalink":"https://cfanzp.com/ls-color/","tags":["linux"],"title":"Linux 中如何让ls目录、可执行文件等显示不同的颜色？"},{"categories":["c++","c","vim"],"contents":"ctags基本用法 生成c++ tags 排除bin,build目录 1 ctags -R --c++-kinds=+p --fields=+iaS --extra=+q --exclude=bin --exclude=build vim中跳转快捷键 1 2 ctrl +] 跳转到定义 ctrl +o 返回 排除某些目录 1 ctags -R --c++-kinds=+p --fields=+iaS --extra=+q --exclude=bin --exclude=build --exclude=cache --exclude=static ctags 配置文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 # cat ~/.ctags.d/local.ctags --recurse=yes --exclude=.git --exclude=build/ --exclude=.svn --exclude=vendor/* --exclude=node_modules/* --exclude=public/webpack/* --exclude=db/* --exclude=log/* --exclude=test/* --exclude=tests/* --exclude=\\*.min.\\* --exclude=\\*.swp --exclude=\\*.bak --exclude=\\*.pyc --exclude=\\*.class --exclude=\\*.cache 如何安装 在 Ubuntu 上安装 Universal Ctags（UCTags） 1 2 3 4 5 6 7 sudo apt install gcc make autoconf pkg-config git clone https://github.com/universal-ctags/ctags.git cd ctags ./autogen.sh ./configure make sudo make install ","permalink":"https://cfanzp.com/ctags/","tags":["ctags"],"title":"ctags基本用法"},{"categories":["linux"],"contents":"find的替代命令fd ubuntu20.04 如何安装 1 2 apt install fdfind ln -s /usr/bin/fdfind /usr/bin/fd fd用法 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 ecs-123:/data/linux_dev_blog# fd --help fd 7.4.0 USAGE: fd [FLAGS/OPTIONS] [\u0026lt;pattern\u0026gt;] [\u0026lt;path\u0026gt;...] FLAGS: -H, --hidden Include hidden directories and files in the search results (default: hidden files and directories are skipped). Files and directories are considered to be hidden if their name starts with a `.` sign (dot). -I, --no-ignore Show search results from files and directories that would otherwise be ignored by \u0026#39;.gitignore\u0026#39;, \u0026#39;.ignore\u0026#39; or \u0026#39;.fdignore\u0026#39; files. --no-ignore-vcs Show search results from files and directories that would otherwise be ignored by \u0026#39;.gitignore\u0026#39; files. -s, --case-sensitive Perform a case-sensitive search. By default, fd uses case-insensitive searches, unless the pattern contains an uppercase character (smart case). -i, --ignore-case Perform a case-insensitive search. By default, fd uses case-insensitive searches, unless the pattern contains an uppercase character (smart case). -g, --glob Perform a glob-based search instead of a regular expression search. --regex Perform a regular-expression based seach (default). This can be used to override --glob. -F, --fixed-strings Treat the pattern as a literal string instead of a regular expression. -a, --absolute-path Shows the full path starting from the root as opposed to relative paths. -L, --follow By default, fd does not descend into symlinked directories. Using this flag, symbolic links are also traversed. -p, --full-path By default, the search pattern is only matched against the filename (or directory name). Using this flag, the pattern is matched against the full path. -0, --print0 Separate search results by the null character (instead of newlines). Useful for piping results to \u0026#39;xargs\u0026#39;. --show-errors Enable the display of filesystem errors for situations such as insufficient permissions or dead symlinks. -h, --help Prints help information -V, --version Prints version information fzf配置fd 1 2 3 vim ~/.bashrc export FZF_DEFAULT_COMMAND=\u0026#39;fd --type file --follow --hidden --exclude .git --color=always\u0026#39; export FZF_DEFAULT_OPTS=\u0026#34;--ansi\u0026#34; 参考 fd github地址: https://github.com/sharkdp/fd ","permalink":"https://cfanzp.com/fd/","tags":["fd"],"title":"find的替代命令fd"},{"categories":["c++"],"contents":"c++ nlohmann/json库 demo https://blog.csdn.net/WHEgqing/article/details/121181848 ","permalink":"https://cfanzp.com/nlohmann-json/","tags":["c++","json"],"title":"c++ nlohmann/json库"},{"categories":["c","c++"],"contents":"ubuntu20.04如何配置生成core文件？ 在平时的开发过程中很有必要配置生成core文件方便快速定位问题。 如何查看是否开启生成core文件？ 如果值是0说明没有开启 1 2 ulimit -c 0 开启方法 1 2 vim /etc/profile ulimit -c unlimited 更新配置 1 source /etc/profile 修改生产core文件路径与名称 1 2 mkdir /var/core echo \u0026#34;/var/core/core_%e_%p\u0026#34; \u0026gt; /proc/sys/kernel/core_pattern 关闭apport自动转储,修改配置文件，enabled 设置为0 1 2 vim /etc/default/apport enabled=0 脚本 1 2 3 4 5 6 7 echo \u0026#34;ulimit -c unlimited\u0026#34; | sudo tee -a /etc/profile sudo source /etc/profile sudo cp /etc/sysctl.conf /etc/sysctl.conf.bak echo \u0026#34;kernel.core_pattern=core-%e-%p-%s\u0026#34; | sudo tee -a /etc/sysctl.conf sudo /sbin/sysctl -p sudo systemctl disable apport.service sudo systemctl stop apport.service 如果是非root用户可能会设置失败，可以参考下面这篇文章 https://blog.csdn.net/weixin_54178481/article/details/125089769 参考 https://blog.csdn.net/Xiao_brother/article/details/125546025 https://blog.csdn.net/hejinjing_tom_com/article/details/121908482 ","permalink":"https://cfanzp.com/cpp_core/","tags":["c","c++"],"title":"ubuntu20.04如何配置生成core文件？"},{"categories":["c++"],"contents":"c++ wfrest网络框架 github地址:https://github.com/wfrest/wfrest gitee地址:https://gitee.com/wfrest/wfrest workflow框架 github:https://github.com/sogou/workflow demo:https://blog.51cto.com/u_15175878/2739149 编译wfrest库 1 2 3 cd wfrest make sudo make install 编译workflow库 1 2 3 4 5 6 cd wfrest/workflow mkdir build cd build cmake .. make sudo make install 使用wfrest库和workflow库 1 2 3 mkdir wfrest_demo cp example/01_basic.cc touch CMakeList.txt 编写CMakeList.txt 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 cmake_minimum_required(VERSION 3.6) set(CMAKE_BUILD_TYPE RelWithDebInfo CACHE STRING \u0026#34;build type\u0026#34;) project(wfrest_demo LANGUAGES C CXX) include_directories( /usr/local/include/workflow /usr/local/include/wfrest ) link_directories(/usr/local/lib) set(CMAKE_C_FLAGS \u0026#34;${CMAKE_C_FLAGS} -Wall -fPIC -pipe -std=gnu90\u0026#34;) set(CMAKE_CXX_FLAGS \u0026#34;${CMAKE_CXX_FLAGS} -Wall -fPIC -pipe -std=c++11 -fno-exceptions\u0026#34;) add_executable(01_basic 01_basic.cc) target_link_libraries(01_basic wfrest workflow) 编译 1 2 3 4 mkdir build cd build cmake .. make 测试脚本 1 2 3 4 curl 127.0.0.1:8888/hello curl 127.0.0.1:8888/data curl 127.0.0.1:8888/multi curl 127.0.0.1:8888/post ","permalink":"https://cfanzp.com/wfrest/","tags":["c++","http"],"title":"c++ wfrest网络框架"},{"categories":["c++"],"contents":"ubuntu20.04中升级gcc,g++到gcc-11,g++11 添加工具链 1 2 3 sudo add-apt-repository ppa:ubuntu-toolchain-r/test sudo apt update sudo apt upgrade 安装 1 sudo apt install gcc-11 g++-11 降低旧版本优先级 1 2 sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-9 10 sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-9 10 给予新版本更高的优先级 1 2 sudo update-alternatives --install /usr/bin/gcc gcc /usr/bin/gcc-11 20 sudo update-alternatives --install /usr/bin/g++ g++ /usr/bin/g++-11 20 参考：https://www.cnblogs.com/airchip/p/16280320.html ","permalink":"https://cfanzp.com/cpp-ubuntu2004-gcc11/","tags":["gcc","g++","c++"],"title":"ubuntu20.04中升级gcc,g++到gcc-11,g++11"},{"categories":["opensource"],"contents":"Ant Design Pro 官网: https://pro.ant.design/zh-CN umijs: https://v3.umijs.org/zh-CN/api ","permalink":"https://cfanzp.com/ant-design-pro/","tags":["client"],"title":"Ant Design Pro"},{"categories":["c++"],"contents":"clang-tidy https://clang.llvm.org/extra/clang-tidy/checks/list.html https://blog.csdn.net/weixin_43721070/article/details/122638851 ","permalink":"https://cfanzp.com/clang-tidy/","tags":["c++"],"title":"clang-tidy"},{"categories":["vim","ubuntu","c++"],"contents":"ubuntu中为nvim安装coc插件支持c++ vim中安装coc插件添加languageserver进而实现补全，是目前vim比较好的一种实现方式。 安装 1. nodejs安装 nodejs安装可以参考这篇文章: https://blog.csdn.net/qq_37955704/article/details/113395046 安装coc先需要安装nodejs，这里使用直接下载二进制安装的方式 进入nodejs官网获取最新二进制的链接 官网地址: https://nodejs.org/zh-cn/download 下载二进制文件并解压 1 wget https://nodejs.org/dist/v18.16.0/node-v18.16.0-linux-x64.tar.xz 解压并创建软链接 1 2 3 4 5 6 7 root@ecs-168736:/# mkdir -p /usr/local/nodejs root@ecs-168736:/# mv node-v18.16.0-linux-x64 node-v18.16.0-linux-x64/ node-v18.16.0-linux-x64.tar.xz root@ecs-168736:/data/server/tools# mv node-v18.16.0-linux-x64/* /usr/local/nodejs/ ln -s /usr/local/nodejs/bin/node /usr/local/bin ln -s /usr/local/nodejs/bin/npm /usr/local/bin 配置nodejs 1 2 npm config set registry https://registry.npm.taobao.org npm config list 1 2 3 4 5 6 7 8 9 10 11 ; \u0026#34;user\u0026#34; config from /root/.npmrc registry = \u0026#34;https://registry.npm.taobao.org/\u0026#34; ; node bin location = /usr/local/nodejs/bin/node ; node version = v18.16.0 ; npm local prefix = /data/server/tools ; npm version = 9.5.1 ; cwd = /data/server/tools ; HOME = /root ; Run `npm config ls -l` to show all defaults. 验证安装结果 1 2 3 4 # node -v v18.16.0 # npm -v 9.5.1 2. coc安装 这里vim管理插件用的vim-plug,修改vim的配置文件，添加coc插件 1 2 # vim ~/.config/nvim/init.vim Plug \u0026#39;neoclide/coc.nvim\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;release\u0026#39;} 安装 1 2 :source % :PluginInstall 这一步如果慢的话，建议手动安装 1 2 cd ~/.config/nvim/plugged git clone https://git::@github.com/neoclide/coc.nvim.git coc添加后端c++支持 可以参考这篇文章: https://www.cnblogs.com/cniwoq/p/13272746.html coc安装coc-clangd 1 :CocInstall coc-clangd 提示下面的错误，按提示执行即可 1 [coc.nvim] clangd was not found on your PATH. :CocCommand clangd.install will install 16.0.2. 安装clangd16.0.2 安装过程正常，但是运行报错,提示无法连接服务器等，后来发现了原因是下载的clangd不完整，真是无语\u0026hellip; 手动下载后解决问题 报错信息 1 2 3 UnhandledRejection: write EPIPE #或 [coc.nvim] clangd client: couldn\u0026#39;t create connection to server 1 :CocCommand clangd.install 手动下载地址: https://github.com/clangd/clangd/releases/tag/16.0.2 1 wget https://github.com/clangd/clangd/releases/download/16.0.2/clangd-linux-16.0.2.zip 文件保存路径 1 ~/.config/coc/extensions/coc-clangd-data/install/16.0.2/clangd_16.0.2/bin 相关文档看这里: https://github.com/neoclide/coc.nvim/wiki/Language-servers#ccobjective-c 1 2 3 4 5 6 7 \u0026#34;languageserver\u0026#34;: { \u0026#34;clangd\u0026#34;: { \u0026#34;command\u0026#34;: \u0026#34;clangd\u0026#34;, \u0026#34;rootPatterns\u0026#34;: [\u0026#34;compile_flags.txt\u0026#34;, \u0026#34;compile_commands.json\u0026#34;], \u0026#34;filetypes\u0026#34;: [\u0026#34;c\u0026#34;, \u0026#34;cc\u0026#34;, \u0026#34;cpp\u0026#34;, \u0026#34;c++\u0026#34;, \u0026#34;objc\u0026#34;, \u0026#34;objcpp\u0026#34;] } } 解决vim 中clangd-tidy找不到cmake项目中头文件的方法 让cmake能够生成compile_commonads.json文件: 1 2 cd build cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1 ../ 或者给cmake配置别名,简单粗暴 1 2 # vim .bashrc alias cmake=\u0026#39;cmake -DCMAKE_EXPORT_COMPILE_COMMANDS=1\u0026#39; vim关联多个tags文件 https://blog.huati365.com/2eb30e87f6e67dbe ","permalink":"https://cfanzp.com/nvim-coc/","tags":["vim"],"title":"ubuntu中为nvim安装coc插件支持c++"},{"categories":["golang","opensource"],"contents":"Golang轻量级服务端框架zinx 这个框架是在自己偶然发现的，有源码，文档和视频，作为golang的学习资料还不错，这里记录一下。 学习资料 网站: http://zinx.me/ 视频教程: https://www.bilibili.com/video/av71067087 ","permalink":"https://cfanzp.com/golang-zinx/","tags":["golang"],"title":"Golang轻量级服务端框架zinx"},{"categories":["game"],"contents":"如何使用gimp压缩图片大小? 最近在给一个unity项目添加了几张图片后发现打出的包大小由几十M变成了上百M。看了一下图片都比较大。需要把图片压缩一下。 gimp简介 gimp是一个开源的图片处理工具，是PS的开源替代品。具体怎么用可以去看一下官方文档。 下载地址: https://www.gimp.org/downloads/thanks.html 如何压缩图片大小 打开文件 选择菜单\u0026ndash;\u0026gt;图像\u0026ndash;\u0026gt;缩放图像 在弹出界面中可以修改图像的宽度、高度和分辨率 文件\u0026ndash;\u0026gt;导出为\u0026ndash;\u0026gt;导出\u0026ndash;\u0026gt;如果是jpg还可以调整图片质量 ","permalink":"https://cfanzp.com/gimp-img-change-size/","tags":["gimp"],"title":"如何使用gimp压缩图片大小?"},{"categories":["unity","git","game"],"contents":"Untiy gitignore模板 这里有一个unity .gitignore模板分享给大家 作者 walter lv 原文地址：https://blog.csdn.net/WPwalter/article/details/107033279 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 # This .gitignore file should be placed at the root of your Unity project directory # # Get latest from https://github.com/github/gitignore/blob/master/Unity.gitignore # /[Ll]ibrary/ /[Tt]emp/ /[Oo]bj/ /[Bb]uild/ /[Bb]uilds/ /[Ll]ogs/ /[Uu]ser[Ss]ettings/ # MemoryCaptures can get excessive in size. # They also could contain extremely sensitive data /[Mm]emoryCaptures/ # Asset meta data should only be ignored when the corresponding asset is also ignored !/[Aa]ssets/**/*.meta # Uncomment this line if you wish to ignore the asset store tools plugin # /[Aa]ssets/AssetStoreTools* # Autogenerated Jetbrains Rider plugin /[Aa]ssets/Plugins/Editor/JetBrains* # Visual Studio cache directory .vs/ # Gradle cache directory .gradle/ # Autogenerated VS/MD/Consulo solution and project files ExportedObj/ .consulo/ *.csproj *.unityproj *.sln *.suo *.tmp *.user *.userprefs *.pidb *.booproj *.svd *.pdb *.mdb *.opendb *.VC.db # Unity3D generated meta files *.pidb.meta *.pdb.meta *.mdb.meta # Unity3D generated file on crash reports sysinfo.txt # Builds *.apk *.unitypackage # Crashlytics generated file crashlytics-build.properties # Packed Addressables /[Aa]ssets/[Aa]ddressable[Aa]ssets[Dd]ata/*/*.bin* # Temporary auto-generated Android Assets /[Aa]ssets/[Ss]treamingAssets/aa.meta /[Aa]ssets/[Ss]treamingAssets/aa/* ","permalink":"https://cfanzp.com/unity-gitignore/","tags":["unity","git"],"title":"Unity gitignore模板"},{"categories":["git"],"contents":"如何使用.gitignore文件删除掉已经提交的文件 问题描述 最近在整理一个老项目的时候发现项目中有一些无用的文件被提交到代码管理仓库了，于是我加了.gitignore文件，但是已经提交的文件就不会受到.gitignore文件约束了，解决办法是把已经提交的删除掉。 具体操作步骤 首先如果本次有没提交的修改先提交。 依次执行下面3个命令: 1 2 3 git rm -r --cache . git add . git commit -m \u0026#34;rm laji\u0026#34; 经过上面几步后垃圾文件就被清理了。但是本地文件不会被删除,但是也不会提交到版本库中。 ","permalink":"https://cfanzp.com/git-gitignore/","tags":["git"],"title":"Git如何使用.gitignore文件删除掉已经提交的文件"},{"categories":["mac"],"contents":"mac平铺式桌面管理器yabai 介绍 之前自己用的一台低配置的笔记本本来是装了i3自己用的，后来装回windows系统给家人用了，最近自己入手了一台mac,因为想用平铺式的桌面管理器于是关注了一下yabai。有空折腾一下，这里先记录一下。 安装步骤 关闭完整性保护 查看完整性保护状态 1 csrutil status 安装 1 brew install koekeishiya/formulae/yabai 设置 1 2 echo \u0026#34;$(whoami) ALL=(root) NOPASSWD: sha256:$(shasum -a 256 $(which yabai) | cut -d \u0026#34; \u0026#34; -f 1) $(which yabai) --load-sa\u0026#34; zp ALL=(root) NOPASSWD: sha256:0c054aec0f8eeb0ba2328aa91654f5354eeacc53e9e679250afb7db1eaf062b3 /usr/local/bin/yabai --load-sa 修改配置文件/etc/sudoers 1 2 sudo vim /etc/sudoers zp ALL=(root) NOPASSWD: sha256:0c054aec0f8eeb0ba2328aa91654f5354eeacc53e9e679250afb7db1eaf062b3 /usr/local/bin/yabai --load-sa 修改配置文件 1 2 3 vim ~/.yabairc yabai -m signal --add event=dock_did_restart action=\u0026#34;sudo yabai --load-sa\u0026#34; sudo yabai --load-sa 开启调试日志 1 yabai -m config debug_output on 下载skhd的配置demo 1 curl https://raw.githubusercontent.com/koekeishiya/yabai/master/examples/yabairc --output ~/.yabairc_demo 安装键盘快捷键工具 1 2 brew install koekeishiya/formulae/skhd skhd --start-service skhd用法 1 https://github.com/koekeishiya/skhd 下载skhd的配置demo 1 2 3 curl https://raw.githubusercontent.com/koekeishiya/yabai/master/examples/skhdrc --output ~/.skhdrc # 推荐 curl wget https://raw.githubusercontent.com/pseudoyu/dotfiles/master/skhd/skhdrc --output ~/.skhrc 参考:https://github.com/pseudoyu/dotfiles/blob/master/skhd/skhdrc 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 # 窗口聚焦 alt - h : yabai -m window --focus west alt - j : yabai -m window --focus south alt - k : yabai -m window --focus north alt - l : yabai -m window --focus east # 交换窗口 shift + alt - h : yabai -m window --swap west shift + alt - j : yabai -m window --swap south shift + alt - k : yabai -m window --swap north shift + alt - l : yabai -m window --swap east # 移动窗口 shift + alt + ctrl - h : yabai -m window --warp west shift + alt + ctrl - h : yabai -m window --warp south shift + alt + ctrl - h : yabai -m window --warp north shift + alt + ctrl - h : yabai -m window --warp east # 旋转窗口布局 alt - r : yabai -m space --rotate 90 # 全屏 alt -f : yabai -m window --toggle zoom-fullscreen # 设置/取消窗口 space alt - g : yabai -m space --toggle padding; yabai -m space --toggle gap # 挂起窗口至屏幕中央/取消挂起窗口 alt - t : yabai -m window --toggle float;\\ yabai -m window --grid 4:4:1:1:2:2 # 修改窗口切分方式 alt - e : yabai -m window --toggle split # 重置窗口布局 shift + alt - 0 : yabai -m space --balance # 移动窗口至特定桌面 shift + alt - 1 : yabai -m window --space 1; yabai -m space --focus 1 shift + alt - 2 : yabai -m window --space 2; yabai -m space --focus 2 shift + alt - 3 : yabai -m window --space 3; yabai -m space --focus 3 shift + alt - 4 : yabai -m window --space 4; yabai -m space --focus 4 shift + alt - 5 : yabai -m window --space 5; yabai -m space --focus 5 shift + alt - 6 : yabai -m window --space 6; yabai -m space --focus 6 shift + alt - 7 : yabai -m window --space 7; yabai -m space --focus 7 shift + alt - 8 : yabai -m window --space 8; yabai -m space --focus 8 shift + alt - 9 : yabai -m window --space 9; yabai -m space --focus 9 # 增加窗口大小 shift + alt - w : yabai -m window --resize top:0:-20 shift + alt - d : yabai -m window --resize left:-20:0 # 减少窗口大小 shift + alt - s : yabai -m window --resize bottom:0:-20 shift + alt - a : yabai -m window --resize top:0:20 启动 1 yabai --start-service 关闭 1 yabai --stop-service 参考 https://blog.csdn.net/yuanzhenwei521/article/details/123311427 github: https://github.com/koekeishiya/yabai https://sspai.com/post/73620 ","permalink":"https://cfanzp.com/mac-yabai/","tags":["yabai","mac","m1"],"title":"mac平铺式桌面管理器yabai"},{"categories":["unity","vim","game"],"contents":"把Vim作为Unity开发的编辑器 介绍 一直在使用Vim作为自己的主力开发工具，最近在使用unity发现默认使用vscode虽然可以用vim插件，但是感觉还是没有直接用vim用着舒服。于是想配置一下开发环境。具体配置过程可以参考下面的视频。后续有空了会完善一下这个笔记。这里先记录一下。 参考链接 https://www.bilibili.com/video/BV1FJ411t7Uw/?vd_source=5cbf24b674b5b4183e6f626cd037b179 ","permalink":"https://cfanzp.com/unity-vim/","tags":["unity","vim"],"title":"把Vim作为Unity开发的编辑器"},{"categories":["deploy"],"contents":"使用nginx搭建一个简单的下载服务 有时候为了方便局域网内共享下载一些工具可以搭建一个ftp服务器，也可以用nginx搭建一个简单的下载网站。 nginx相关配置 添加如下配置 1 2 3 4 5 6 7 8 9 10 11 server { listen 80; server_name localhost; location /{ root /data/soft/; autoindex on; # 打开目录浏览功能 autoindex_localtime on; # 显示文件时间 autoindex_exact_size on; # 显示文件确切大小 } } 检查配置 1 nginx -t 重新加载配置 1 nginx -s reload ","permalink":"https://cfanzp.com/nginx-download-server/","tags":["nginx"],"title":"使用nginx搭建一个简单的下载服务"},{"categories":["unity","game"],"contents":"Unity小游戏适配笔记 最近在学习使用unity做一些小游戏，小工具，咨询了一下自己的伙伴一些基础问题。这里记录一下。 环境 这里用到的unity版本为：2021.03 Player Setting设置 在player setting\u0026ndash;\u0026gt;Configuration\u0026ndash;\u0026gt;Scripting Backend设置为ILCPP 对ILCPP不了解的同学可以看看这篇文章: https://zhuanlan.zhihu.com/p/141748334 相机Camero 相机删除默认的Main Camero然后自己创建一个Camero,这种做法的原因暂时没有去纠结。 projection 选正交orthographic 画布Canvas UI Scale Mode 选Scale With Screen Size Screen Match Mode 选Expand ","permalink":"https://cfanzp.com/unity-2d-adapter/","tags":["unity"],"title":"Unity小游戏适配笔记"},{"categories":["vim","mac"],"contents":"解决mac系统中vscode中使用vim插件，按下某个键不连续输入的问题 问题 在mac系统中,如果给vscode中安装vim插件，按下某个键不放下会发现无法连续输入，或移动光标。如果是这个效果的话，插件就是个鸡肋了。 解决办法 查了一些资料后发现解决方法也很简单 1 2 # Disable Mac\u0026#39;s \u0026#34;Press\u0026amp;Hold\u0026#34; feature $ defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool false 恢复 1 2 # Re-enable this feature $ defaults write NSGlobalDomain ApplePressAndHoldEnabled -bool true 注意需要重启vscode才会生效 参考 https://www.jianshu.com/p/75cc293ae399 ","permalink":"https://cfanzp.com/vscode-vim-key-fix/","tags":["vim","vscode","devtools","mac"],"title":"解决mac系统中vscode中使用vim插件，按下某个键不连续输入的问题"},{"categories":["code"],"contents":"数据结构 《数据结构》(耿国华) 学习笔记 数据结构的基本概念 数据结构包括数据的逻辑结构、存储结构和运算集合这三个部分。 数据的逻辑包括线性结构（线性表、栈、队列、字符串、数组、广义表）和非线性结构（树、图）。 数据的存储结构包括：顺序存储和非顺序存储。 线性表 线性表是n个类型相同的数据元素的有限序列，对n\u0026gt;0,除了第一元素无直接前驱、最后一个元素无直接后继外，其余的每个数据元素只有一个直接前驱和一个直接后继。 线性表的特点 同一性 有穷性 有序性 线性表是一种最简单的数据结构。 顺序表 采用顺序存储结构存放的线性表通常简称为顺序表。 线性表的顺序存储结构 1 2 3 4 5 6 #define MAXSIZE 100 typedef struct { ElemType elem[MAXSIZE]; int last; } SeqList; 未完待续。。。 ","permalink":"https://cfanzp.com/data-structure/","tags":["数据结构"],"title":"数据结构学习笔记"},{"categories":["code"],"contents":"平衡二叉树 什么是平衡二叉树？ 左右子树都是平衡二叉树，左右子树的深度差值的绝对值不大于1。 平衡二叉树的应用场景 红黑树是一种特殊的平衡二叉树。 C++ STL中的set、map，以及Linux虚拟内存的管理，都是通过红黑树去实现的。 ","permalink":"https://cfanzp.com/balanced-binary-tree/","tags":["数据结构与算法"],"title":"平衡二叉树"},{"categories":["redis"],"contents":"redis缓存击穿,缓存穿透以及缓存雪崩问题 什么是redis缓存击穿？ title: \u0026ldquo;redis缓存击穿,缓存穿透以及缓存雪崩问题\u0026rdquo; redis缓存击穿指的是某个key在redis中的值在某个点过期了或之前没人访问过，导致请求被转移到数据库层。这样会使数据的压力过大。 如何解决redis缓存击穿问题？ 可以通过互斥锁来解决。使并发的请求串行化。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 public String get(key) { String value = redis.get(key); if (value == null) { //代表缓存值过期 //设置3min的超时，防止del操作失败的时候，下次缓存过期一直不能load db if (redis.setnx(key_mutex, 1, 3 * 60) == 1) { //代表设置成功 value = db.get(key); redis.set(key, value, expire_secs); redis.del(key_mutex); } else { //这个时候代表同时候的其他线程已经load db并回设到缓存了，这时候重试获取缓存值即可 sleep(50); get(key); //重试 } } return value; } 可以利用逻辑过期解决问题。 与缓存穿透的区别 缓存穿透是数据库里面没有这个数据，而缓存击穿是数据库里有数据。 缓存穿透解决方案是使用布隆过滤器来解决。 redis缓存雪崩 redis缓存雪崩时指，redis里的key在某一时间大量失效，导致大量请求打到数据库上。 解决方案是让key设置不同的过期时间，让它在不同的时间点过期。 参考 https://www.cnblogs.com/lvdeyinBlog/p/15774412.html https://blog.csdn.net/weixin_53604412/article/details/129057686 https://blog.csdn.net/m0_57116438/article/details/122899810 ","permalink":"https://cfanzp.com/redis-nocache/","tags":["redis","性能优化"],"title":"redis缓存击穿,缓存穿透以及缓存雪崩问题"},{"categories":["code"],"contents":"RESTful API 关于RESTful API是什么一句话似乎说不明白，可以看看阮一峰的这2篇文章 理解RESTful架构 RESTful API设计指南 ","permalink":"https://cfanzp.com/restful-api/","tags":["http"],"title":"RESTful API"},{"categories":["mysql"],"contents":"mysql修改编码支持utf8mb4 utf8mb4支持 如果要支持特殊表情就必须支持utf8mb4 修改配置文件my.cnf 1 2 3 4 5 6 7 8 9 10 [client] default-character-set=utf8mb4 [mysql] default-character-set=utf8mb4 [mysqld] character-set-client-handshake=FALSE character-set-server=utf8mb4 #collation-server=utf8mb4_general_ci collation-server=utf8mb4_unicode_ci init_connect=\u0026#39;SET NAMES utf8mb4\u0026#39; 查看数据库编码 1 2 3 4 5 6 7 8 9 10 11 12 13 14 use mysql; show variables like \u0026#39;char%\u0026#39;; +--------------------------+----------------------------+ | Variable_name | Value | +--------------------------+----------------------------+ | character_set_client | utf8mb4 | | character_set_connection | utf8mb4 | | character_set_database | utf8mb4 | | character_set_filesystem | binary | | character_set_results | utf8mb4 | | character_set_server | utf8mb4 | | character_set_system | utf8 | | character_sets_dir | /usr/share/mysql/charsets/ | +--------------------------+----------------------------+ ","permalink":"https://cfanzp.com/mysql-charsets/","tags":["mysql"],"title":"mysql修改编码支持utf8mb4"},{"categories":["mysql"],"contents":"mysql配置外网访问权限 修改配置文件 1 2 [mysqld] bind-address=0.0.0.0 登录mysql并修改数据库权限 1 2 3 4 5 6 7 8 9 mysql -u root -p mysql\u0026gt; use mysql; mysql\u0026gt; select user,host from user; mysql\u0026gt; update user set host=\u0026#39;%\u0026#39; where user=\u0026#39;root\u0026#39;; mysql\u0026gt; flush privileges; mysql\u0026gt; GRANT ALL PRIVILEGES ON *.* TO \u0026#39;root\u0026#39;@\u0026#39;%\u0026#39; IDENTIFIED BY \u0026#39;123456\u0026#39; WITH GRANT OPTION; mysql\u0026gt; flush privileges; ","permalink":"https://cfanzp.com/mysql-login/","tags":["mysql"],"title":"mysql配置外网访问权限"},{"categories":["ubuntu","mysql"],"contents":"ubuntu安装mysql ubuntu 安装mysql5.6.51 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 wget https://downloads.mysql.com/archives/get/p/23/file/mysql-server_5.6.51-1debian9_amd64.deb-bundle.tar tar -xvf mysql-server_5.6.51-1debian9_amd64.deb-bundle.tar sudo dpkg -i mysql-common_5.6.51-1debian9_amd64.deb sudo dpkg -i libmysqlclient18_5.6.51-1debian9_amd64.deb sudo dpkg -i libmysqlclient-dev_5.6.51-1debian9_amd64.deb sudo dpkg -i libmysqld-dev_5.6.51-1debian9_amd64.deb sudo dpkg -i mysql-community-client_5.6.51-1debian9_amd64.deb sudo dpkg -i mysql-client_5.6.51-1debian9_amd64.deb sudo dpkg -i mysql-community-server_5.6.51-1debian9_amd64.deb sudo dpkg -i mysql-server_5.6.51-1debian9_amd64.deb sudo dpkg -i mysql-community-bench_5.6.51-1debian9_amd64.deb sudo dpkg -i mysql-community-source_5.6.51-1debian9_amd64.deb sudo dpkg -i mysql-community-test_5.6.51-1debian9_amd64.deb sudo dpkg -i mysql-testsuite_5.6.51-1debian9_amd64.deb ","permalink":"https://cfanzp.com/ubuntu-mysql/","tags":["ubuntu","mysql"],"title":"ubuntu安装mysql"},{"categories":["tools"],"contents":"视频剪辑软件shotcut基本用法 安装 mac安装 官网地址：https://www.shotcut.org/ M1下载arm64的包 1 wget https://www.fosshub.com/Shotcut.html?dwl=shotcut-macos-ARM64-221221.dmg 使用注意事项 项目面板展示的才是剪辑的视频，源展示的是素材资源的视频。 视频教程 https://www.bilibili.com/video/BV1J44y1L7qd/?spm_id_from=333.337.search-card.all.click\u0026vd_source=5cbf24b674b5b4183e6f626cd037b179 ","permalink":"https://cfanzp.com/shotcut/","tags":["视频"],"title":"视频剪辑软件shotcut基本用法"},{"categories":["language","golang"],"contents":"Go语言中pprof的使用 pprof时go程序性能分析工具,可以分析CPU，内存，阻塞，互斥锁。 使用demo https://www.jianshu.com/p/01a333a29288 参考 https://www.zhihu.com/tardis/zm/art/371713134?source_id=1005 ","permalink":"https://cfanzp.com/go-pprof/","tags":["golang"],"title":"Go语言中pprof的使用"},{"categories":["unity","game"],"contents":"mac m1 安装Unity 下载Unity Hub https://unity.cn/releases 这里下载的版本默认是Unity Hub 3.3.0-c8 ","permalink":"https://cfanzp.com/unity3d-install/","tags":["unity","mac","m1"],"title":"mac m1 安装Unity"},{"categories":["devtools"],"contents":"百度文心一言体验 今天收到了百度文心一言测试申请通过的短信，就体验了一把，问了几个问题。 短信内容 【百度】文心一言：你现在可以体验了，快来向我提问吧。访问链接https://yiyan.baidu.com 问题 提问1：文心一言是什么？ 答: 我就是文心一言，是百度研发的知识增强大语言模型，我能够与人对话互动，回答问题，协助创作，高效便捷地帮助人们获取信息、知识和灵感。 这个回答真是简洁。 提问2：程序员如何规划个人职业生涯更好？ 答: 程序员规划个人职业生涯可以考虑以下几个方面： 了解自己的技能和兴趣：程序员需要清楚自己的技能和兴趣，这有助于他们在职业生涯中做出明智的决策。可以通过参加一些职业规划的课程或者咨询专业人士来帮助自己了解自己的技能和兴趣。 规划职业生涯：根据自己的技能和兴趣，程序员可以制定一个详细的职业生涯规划，包括职业目标、职业发展路径、学习和成长计划等。 学习新技能：程序员需要不断学习新技能，以适应行业的变化和需求。可以通过参加培训课程、自学、参加编程竞赛等方式来提高自己的技能。 建立人际关系：程序员需要建立良好的人际关系，这有助于他们获得职业机会和资源。可以通过参加技术社区、参加行业会议、加入专业组织等方式来扩展人际关系。 管理职业生涯：程序员需要管理自己的职业生涯，包括制定职业发展计划、制定目标、评估进展等。可以通过学习职业规划和管理的知识来帮助自己更好地管理职业生涯。 保持灵活性：程序员需要保持灵活性，以适应职业生涯中的变化和挑战。可以通过定期审视自己的职业规划、接受新的挑战和机会来保持职业生涯的稳定性和灵活性。 总之，程序员规划个人职业生涯需要考虑多个方面，包括了解自己的技能和兴趣、制定职业生涯规划、学习新技能、建立人际关系、管理职业生涯、保持灵活性等。 提问3：有什么建议给中年程序员吗？ 答: 以下是一些中年程序员在职业生涯中可能需要的建议： 保持学习和更新知识：中年程序员可能需要不断学习和更新自己的技能和知识，以保持竞争力并应对技术的变化。建议定期参加培训、研讨会和在线课程，以保持对新技术和最新趋势的了解。 关注健康：中年程序员可能需要关注自己的健康状况，包括身体健康和心理健康。建议保持适量的锻炼、健康饮食和良好的睡眠习惯，以保持身体和心理健康。 管理压力：中年程序员可能会面临工作压力和挑战，建议学会管理压力，寻找减压方法，如冥想、深呼吸、瑜伽等。同时，也可以与同事、家人和朋友交流，寻求支持和帮助。 寻找新的机会：中年程序员可能需要考虑新的职业机会，以保持职业生涯的活力和动力。建议研究新兴领域、发掘自己的潜力、与其他行业的专业人士交流等。 建立人际关系：中年程序员可能需要建立新的人际关系，以扩展自己的社交圈子。建议积极参加社交活动、加入专业组织和俱乐部、与同行建立联系等。 总之，中年程序员需要关注自己的职业发展，并采取积极的措施来保持自己的竞争力和健康状况。 文心一言写程序 提问4：用c++写一个程序，使用折半查找法进行排序 以下是使用C++实现折半查找法进行排序的示例代码： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; // 折半查找函数 int binarySearch(vector\u0026lt;int\u0026gt;\u0026amp; nums, int target) { int left = 0, right = nums.size() - 1; while (left \u0026lt;= right) { int mid = left + (right - left) / 2; if (nums[mid] == target) { return mid; } else if (nums[mid] \u0026lt; target) { left = mid + 1; } else { right = mid - 1; } } return -1; } int main() { vector\u0026lt;int\u0026gt; nums = {1, 3, 5, 7, 9}; int target = 7; int index = binarySearch(nums, target); if (index != -1) { cout \u0026lt;\u0026lt; \u0026#34;Target found at index \u0026#34; \u0026lt;\u0026lt; index \u0026lt;\u0026lt; endl; } else { cout \u0026lt;\u0026lt; \u0026#34;Target not found\u0026#34; \u0026lt;\u0026lt; endl; } return 0; } 在上面的代码中，我们定义了一个名为binarySearch的函数，用于实现折半查找法。该函数接受一个整数数组nums和一个目标整数target作为参数，返回目标整数在数组中的索引，如果目标整数不在数组中，则返回-1。 在main函数中，我们定义了一个整数数组nums和一个目标整数target，并调用binarySearch函数进行查找。如果目标整数在数组中，则输出其索引；否则输出\u0026quot;Target not found\u0026quot;。 需要注意的是，折半查找法的时间复杂度为O(log n)，其中n为数组的长度。在实际应用中，可以根据具体情况选择不同的排序算法，以提高程序的性能。 总结 简单地问了一些很抽象的问题，文心一言也回答得似乎是那么一回事，似乎在平时还是可以对自己思考问题起到一定的辅助作用。 chatgpt可以写程序，文心一言也是可以，通义千文也不用说，估计也可以，身为程序员的你，有没有担心会失业？不管怎么说，用好这个功能，许多代码逻辑是不是就有工具帮忙了？ ","permalink":"https://cfanzp.com/chatgpt-baidu/","tags":["文心一言"],"title":"百度文心一言体验"},{"categories":["language"],"contents":"使用python开发一个简单的邮件发送脚本 废话不多说，直接上代码demo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 # -*- coding: utf-8 -*- import time import socket import httplib import json import datetime import os import commands import subprocess import sys #========================================== # 导入smtplib和MIMEText #========================================== from email.mime.text import MIMEText import smtplib #========================================== # send to,split by\u0026#39;,\u0026#39; #========================================== mailto_list=[\u0026#34;xxx@qq.com\u0026#34;] #========================================== #========================================== mail_host=\u0026#34;smtp.qq.com\u0026#34; mail_user=\u0026#34;QQ number\u0026#34; mail_pass=\u0026#34;QQ pass key\u0026#34; mail_postfix=\u0026#34;qq.com\u0026#34; #========================================== # 发送邮件 #========================================== def send_mail(to_list,sub,content): \u0026#39;\u0026#39;\u0026#39;\u0026#39;\u0026#39; to_list:des email address sub:subject content:content send_mail(\u0026#34;qq@qq.com\u0026#34;,\u0026#34;sub\u0026#34;,\u0026#34;content\u0026#34;) \u0026#39;\u0026#39;\u0026#39; me=mail_user+\u0026#34;\u0026lt;\u0026#34;+mail_user+\u0026#34;@\u0026#34;+mail_postfix+\u0026#34;\u0026gt;\u0026#34; msg = MIMEText(content) msg[\u0026#39;Subject\u0026#39;] = sub msg[\u0026#39;From\u0026#39;] = me msg[\u0026#39;To\u0026#39;] = \u0026#34;;\u0026#34;.join(to_list) try: s = smtplib.SMTP() s.connect(mail_host) s.starttls() s.login(mail_user,mail_pass) s.sendmail(me, to_list, msg.as_string()) s.close() print(\u0026#34;ok\u0026#34;) return True except Exception, e: print(e) return False if __name__ == \u0026#34;__main__\u0026#34;: print os.path.abspath(os.curdir) argc = len(sys.argv) if argc != 3: print(\u0026#34;argc:\u0026#34;,argc) sys.exit() title = sys.argv[1] body = sys.argv[2] print(\u0026#34;title,body:\u0026#34;,title,body) if title != \u0026#34;\u0026#34; and body != \u0026#34;\u0026#34;: send_mail(mailto_list,title,body) #send_mail(mailto_list,\u0026#34;在线人数\u0026#34;,players.decode(\u0026#34;ascii\u0026#34;).encode(\u0026#34;utf-8\u0026#34;)) ","permalink":"https://cfanzp.com/python_mail/","tags":["python","mail"],"title":"使用python开发一个简单的邮件发送脚本"},{"categories":["mac","vim"],"contents":"mac中安ctags取代原有ctags解决Vim报错问题 报错提示 1 2 3 4 5 6 7 8 Tagbar: Ctags doesn\u0026#39;t seem to be Exuberant Ctags! BSD ctags will NOT WORK. Please download Exuberant Ctags from ctags.sourceforge.net and install it in a directory in your $PATH or set g:tagbar_ctags_bin. Executed command: \u0026#34;\u0026#39;/usr/bin/ctags\u0026#39; --version\u0026#34; Command output: /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/ctags: illegal option -- - usage: ctags [-BFadtuwvx] [-f tagsfile] file ... Exit code: 1 Press ENTER or type command to continue brew install 1 brew install ctags 修改vim配置 1 2 3 let Tlist_Ctags_Cmd = \u0026#39;/opt/homebrew/bin/ctags\u0026#39; \u0026#34;Tagbar let g:tagbar_ctags_bin = \u0026#39;/opt/homebrew/bin/ctags\u0026#39; 下载ctags(M1编译安装报错） mac m1安装包错这里不推荐这种方法了。喜欢折腾的同学可以深入研究一下。 访问下面的网站进行下载：https://ctags.sourceforge.net/ 1 wget https://udomain.dl.sourceforge.net/project/ctags/ctags/5.8/ctags-5.8.tar.gz 安装报错提示 1 include/dirent.h:80:2: error: use of undeclared identifier \u0026#39;unused\u0026#39; 参考 https://blog.csdn.net/Auris/article/details/93969343 ","permalink":"https://cfanzp.com/mac-vim-ctags/","tags":["mac","vim","ctags","m1"],"title":"mac中安ctags取代原有ctags解决Vim报错问题"},{"categories":["c++"],"contents":"c++17新特性 构造函数模板推导 结构化绑定 if-switch语句初始化 内联变量 折叠表达式 constexpr lambda表达式 namespace嵌套 ____has_include预处理表达式 在lambda表达式用*this捕获对象副本 新增Attribute 字符串转换 std::variant std::optional std::any std::apply std::make_from_tuple as_const std::string_view file_system std::shared_mutex 编译器支持情况 https://en.cppreference.com/w/cpp/compiler_support/17 参考 https://zhuanlan.zhihu.com/p/165640868 ","permalink":"https://cfanzp.com/cpp17/","tags":["c++"],"title":"c++17新特性"},{"categories":["c++"],"contents":"c++14新特性 函数返回值推导 lambda参数auto 变量模板 别名模板 constexpr的限制 [[deprecated]]标记 二进制字面量与整形字面量分隔符 std::make_unique std::shared_timed_mutex与std::shared_lock std:integer_sequence std:exchange std:quoted 编译器支持情况 https://en.cppreference.com/w/cpp/compiler_support/14 参考 https://zhuanlan.zhihu.com/p/165389083 ","permalink":"https://cfanzp.com/cpp14/","tags":["c++"],"title":"c++14新特性"},{"categories":["c++"],"contents":"c++11新特性 auto auto类型推导使得代码更加简洁。 1 auto a = 11; decltype 1 2 auto a = 11; decltype(a) b = 15; 列表初始化 https://zhuanlan.zhihu.com/p/137851769 右值引用 std:function 头文件\u0026lt;std:functional\u0026gt; https://en.cppreference.com/w/cpp/utility/functional/function 1 2 3 4 5 6 7 8 9 10 11 12 #include\u0026lt;iostream\u0026gt; #include\u0026lt;functional\u0026gt; int add(int a,int b) { return a + b; } int main() { function\u0026lt;int(int,int)\u0026gt; fAdd = add; int c = fAdd(1,2); cout \u0026lt;\u0026lt; 1 \u0026lt;\u0026lt; \u0026#34; + \u0026#34; \u0026lt;\u0026lt; 2 \u0026lt;\u0026lt; \u0026#34; = \u0026#34; \u0026lt;\u0026lt; c; return 0; } std:bind 头文件\u0026lt;std:functional\u0026gt; std::bind将可调用参数及其对象进行绑定。 绑定后的结果可以用std:function进行保存，并延迟调用到任何我们需要的时候。 学习资料1: https://zhuanlan.zhihu.com/p/354765449 学习资料2: https://en.cppreference.com/w/cpp/utility/functional/bind demo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; #include \u0026lt;functional\u0026gt; using namespace std; int add(int a,int b) { return a + b; } void testBind() { auto f1 = std::bind(add,std::placeholders::_1,std::placeholders::_2); int c = f1(3,4); cout \u0026lt;\u0026lt; 3 \u0026lt;\u0026lt; \u0026#34; + \u0026#34; \u0026lt;\u0026lt; 4 \u0026lt;\u0026lt; \u0026#34; = \u0026#34; \u0026lt;\u0026lt; c \u0026lt;\u0026lt; endl; } int main() { testBind(); return 0; } lambda 学习资料: https://en.cppreference.com/w/cpp/language/lambda 模版的改进 并发 c++11线程相关知识：https://zhuanlan.zhihu.com/p/137914574 std:thread 学习资源: https://zhuanlan.zhihu.com/p/389140084 重要函数 explicit thread(Fn\u0026amp;\u0026amp;fn, Args\u0026amp;\u0026amp;\u0026hellip;args)：初始化构造函数，创建一个带函数调用参数的thread，这个线程是可joinable的； thread() noexcept：默认构造函数，创建一个空的thread执行对象; thread(const thread\u0026amp;) = delete：拷贝构造函数被禁用，意味着thread对象不可拷贝构造； thread(thread\u0026amp;\u0026amp; x) noexcept：移动构造函数，调用成功之后，x不代表任何thread执行对象； get_id()：获取线程的ID，它将返回一个类型为std:\u0026#x1f9f5;:id的对象。 joinable()：检查线程是否可被join。 detach()：将当前线程对象所代表的执行实例与此线程对象分离，使得线程可以单独执行。 swap()：交换两个线程对象所代表的底层句柄，参数是两个线程对象； std::this_thread::getid()：获取当前线程的ID； std::this_thread::yield()：当前线程放弃执行，操作系统调度另一线程继续执行； sleep_until()：线程休眠至某个指定的时刻，才被重新唤醒； sleep_for()： 线程休眠某个指定的时间片，才被重新唤醒； thread中的互斥量 std:mutex 独占式的互斥量 std:recursive_mutex 递归式互斥量 std:timed_mutex 允许超时的独占式互斥量 std:recursive_timed_mutex 允许超时的递归式互斥量 std:mutex 学习资料: https://zhuanlan.zhihu.com/p/598993031 std:lock 学习资料 https://en.cppreference.com/w/cpp/thread/lock std:atomic https://en.cppreference.com/w/cpp/atomic/atomic std:call_once https://en.cppreference.com/w/cpp/thread/call_once https://blog.csdn.net/u012372584/article/details/96867805 volatile 学习资料: https://zhuanlan.zhihu.com/p/62060524 当要求使用 volatile 声明的变量的值的时候，系统总是重新从它所在的内存读取数据，即使它前面的指令刚刚从该处读取过数据。 1 volatile int a = 10; std:condition_variable std:future async 学习资料 https://zhuanlan.zhihu.com/p/349193932 https://blog.csdn.net/lijinqi1987/article/details/78909479 智能指针 c++新特性之智能指针：https://zhuanlan.zhihu.com/p/137958974 std:shared_ptr std:weak_ptr std:unique_ptr 基于范围的for循环 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 void testFor() { cout \u0026lt;\u0026lt; endl \u0026lt;\u0026lt; \u0026#34;2. testFor---start\u0026#34; \u0026lt;\u0026lt; endl; vector\u0026lt;int\u0026gt; v; for (int i=0;i\u0026lt;5;++i) { v.push_back(i); } for (auto it = v.begin();it != v.end(); it++) { cout\u0026lt;\u0026lt; \u0026#34;*it:\u0026#34; \u0026lt;\u0026lt; *it \u0026lt;\u0026lt; endl; } for(auto i:v) { cout \u0026lt;\u0026lt; \u0026#34;newFor:\u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; endl; } cout \u0026lt;\u0026lt; endl \u0026lt;\u0026lt; \u0026#34;2. testFor---end\u0026#34; \u0026lt;\u0026lt; endl; } 委托构造函数 继承构造函数 nullptr final override default delete explicit const constexpr enum class 非受限联合体 sizeof c++11 使用sizeof不用实例化一个对象就可以计算出大小了 1 2 3 4 5 6 7 8 9 truct A { int data[10]; int a; }; int main() { cout \u0026lt;\u0026lt; \u0026#34;size \u0026#34; \u0026lt;\u0026lt; sizeof(A::data) \u0026lt;\u0026lt; endl; return 0; } assertion c++11引入static_assert声明，用于在编译期间检查， 如果第一个参数值为false，则打印message，编译失败。 1 assert(true/false,message); 自定义字面量 内存对齐 https://zhuanlan.zhihu.com/p/139520591 thread_local 基础数值类型 c++11增加了几种数据类型: long long char16_t char32_t 随机数功能 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 #include \u0026lt;time.h\u0026gt; #include \u0026lt;iostream\u0026gt; #include \u0026lt;random\u0026gt; using namespace std; int main() { std::default_random_engine random(time(nullptr)); std::uniform_int_distribution\u0026lt;int\u0026gt; int_dis(0, 100); // 整数均匀分布 std::uniform_real_distribution\u0026lt;float\u0026gt; real_dis(0.0, 1.0); // 浮点数均匀分布 for (int i = 0; i \u0026lt; 10; ++i) { cout \u0026lt;\u0026lt; int_dis(random) \u0026lt;\u0026lt; \u0026#39; \u0026#39;; } cout \u0026lt;\u0026lt; endl; for (int i = 0; i \u0026lt; 10; ++i) { cout \u0026lt;\u0026lt; real_dis(random) \u0026lt;\u0026lt; \u0026#39; \u0026#39;; } cout \u0026lt;\u0026lt; endl; return 0; } 输出 1 2 38 100 93 7 66 0 68 99 41 7 0.232202 0.617716 0.959241 0.970859 0.230406 0.430682 0.477359 0.971858 0.0171148 0.64863 代码中举例的是整数均匀分布和浮点数均匀分布 c++11提供的概率分布类型还有好多，例如伯努利分布、正态分布等，具体可以见最后的参考资料。 正则表达式 c++11引入了regex库，更好地支持正则表达式 chrono c++11关于时间引入了chrono库，功能强大，chrono主要有3点： duration time_point clocks 新增数据结构 std::forward_list std:unordered_set std:unordered_map std:array 头文件 支持迭代器 https://blog.csdn.net/qq_38410730/article/details/102802239 std:tuple https://en.cppreference.com/w/cpp/utility/tuple 新增加算法 all_of:：检测表达式是否对范围[first, last)中所有元素都返回true，如果都满足，则返回true 1 2 3 4 std::vector\u0026lt;int\u0026gt; v(10, 2); if (std::all_of(v.cbegin(), v.cend(), [](int i) { return i % 2 == 0; })) { std::cout \u0026lt;\u0026lt; \u0026#34;All numbers are even\\n\u0026#34;; } any_of none_of find_if_not copy_if itoa:对容器内的元素按序递增。 c++11各个编译器的支持情况 https://en.cppreference.com/w/cpp/compiler_support/11 总结 这里知识简单罗列了c++11新增的一些特性，后续会专门测试并记录一些各个特性的具体使用情况。 参考 https://zhuanlan.zhihu.com/p/139515439 ","permalink":"https://cfanzp.com/cpp11/","tags":["c++"],"title":"c++11新特性"},{"categories":["git"],"contents":"简单git服务器的搭建 为什么要搭建自己的git服务器 github,gitee等等代码托管平台都是可以用的，但是也有他们的限制。如果只是自己用，完全可以自己搭建自己的git服务器。 步骤 创建用户和组 1 2 groupadd git useradd git -g git 创建用户ssh密钥权限目录及权限，并授权组和用户 1 2 3 4 5 6 mkdir /home/git/.ssh cd /home/git/ chown -R git:git .ssh cd .ssh/ cp ~/.ssh/authorized_keys ./ chown -R git:git authorized_keys 选择一个项目的目录，并创建一个测试的git仓库 这里指定为/srv目录 1 2 3 cd /srv git init --bare test.git chown -R git:git test.git/ 获取访问地址 假设ip为: 192.168.2.188,那么clone地址为: 1 git clone git@192.168.2.188:/srv/test.git 禁用git账号的登录 修改文件/etc/passwd 1 git:x:1001:1001:git-user,,,:/home/git:/bin/bash 修改为 1 git:x:1001:1001:git-user,,,:/home/git:/user/bin/git-shell 总结 如果自己有自己的开发服务器，不防搭建一个自己的git服务器,方便自己的开发工作，过程并不复杂。 ","permalink":"https://cfanzp.com/git-server/","tags":["git"],"title":"简单git服务器的搭建"},{"categories":["devtools","code"],"contents":"Mac M1中使用lldb调试c++ gdb命令的使用对于学习linux c/c++同学而言非常重要.最近准备在mac中使用gdb来调试c++程序时，发现m1不支持gdb取而代之的是lldb。于是收集了一下相关用法，记录了这个笔记。 使用-g参数 使用lldb之前,编译程序加-g参数,这样可以看到源码而不是汇编代码。 常用指令 break/b break/b 设置断点，也就是程序暂停的地方。 run/r run/r 启动目标程序，如果遇到断点则暂停。 step/s step/s 进入到下一条指令的函数内部。 backtrace/bt backtrace/bt 查看当前有效的函数 frame/f frame/f 查看道歉栈的内容，可以通过frame/f arg进入特定的frame next/n next/n 进入到箭头指向行 continue/c continue/c 继续运行直到遇到断点 参考 https://zhuanlan.zhihu.com/p/106415182 ","permalink":"https://cfanzp.com/mac-m1-lldb/","tags":["c++","lldb","m1"],"title":"Mac M1中使用lldb调试c++"},{"categories":["code"],"contents":"c++ STL 学习c++就没法绕过标准模版库STL。 STL6大部件 容器（Containers） 分配器（Allocators） 算法（Algorithm） 迭代器（Iterators） 适配器（Adapters） 仿函数（Functors） STL的基本使用 vector vector是一种变长数组 1 vector\u0026lt;类型\u0026gt; 变量名; 类型名可以是int、double、char、string、struct,也可以是vector、set、queue等容器。 1 2 3 4 5 6 vector\u0026lt;int\u0026gt; name; vector\u0026lt;double\u0026gt; name; vector\u0026lt;char\u0026gt; name; vector\u0026lt;string\u0026gt; name; vector\u0026lt;struct node\u0026gt; name; vector\u0026lt;vector\u0026lt;int\u0026gt; \u0026gt; name; vector\u0026lt;vector\u0026lt;int\u0026gt; \u0026gt; name;中\u0026gt;\u0026gt;之间要有空格 才行。 定义一个二维变长数组 1 vector\u0026lt;int\u0026gt; arr[10]; // 二维变长数组。 注意：低维是高维的地址。 二维数组的一维形式就是地址。 vector一般有2种访问形式 通过下标访问 1 2 3 4 5 6 7 8 9 #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; int main() { vector v; v.push_back(1); cout \u0026lt;\u0026lt; v[0] \u0026lt;\u0026lt; endl; return 0; } 通过迭代器访问 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 void testVectorIterator() { vector\u0026lt;int\u0026gt; v; for (int i=0;i\u0026lt;5;++i) { v.push_back(i+10); } vector\u0026lt;int\u0026gt;::iterator it = v.begin(); // it[i] 等价于*(it + i) for (int i=0;i\u0026lt;v.size();++i) { cout \u0026lt;\u0026lt; \u0026#34;vector::it-\u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34;:\u0026#34; \u0026lt;\u0026lt; it[i] \u0026lt;\u0026lt; endl; } // 优雅写法 for (vector\u0026lt;int\u0026gt;::iterator it2 = v.begin(); it2 != v.end();it2++) { cout \u0026lt;\u0026lt; *it2 \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } cout \u0026lt;\u0026lt; endl \u0026lt;\u0026lt; \u0026#34;c++11:\u0026#34;; for (auto it2 = v.begin(); it2 != v.end();it2++) { cout \u0026lt;\u0026lt; *it2 \u0026lt;\u0026lt; \u0026#34; \u0026#34;; } } vector常用函数 push_back() 以前还要为定长数组内存分配而苦恼时，现在只需要无脑push_back() pop_back() size() 返回元素个数,时间复杂度为O(1) clear() 一键清空vector中的所有元素时间复杂度为O(N),其中N为vector中元素个数。 insert() 在指定位置插入元素 1 v.insert(v.begin()+2,-1); //将-1插入v[2]的位置 erase() 1 2 3 4 5 //删除v[3] v.erase(v.begin()+3); //删除v[1]-v[4] v.erase(v.begin()+1,v.begin()+4); vector常见用途 存储数据 用邻接表存储图 set 定义 是一个内部有序，不存在重复元素的容器。 头文件 1 2 #include\u0026lt;set\u0026gt; using namespace std; set的定义 1 set\u0026lt;类型名\u0026gt;变量名; set容器内元素的访问 只能通过迭代器来访问。 1 2 set\u0026lt;int\u0026gt;::iterator it; set\u0026lt;char\u0026gt;::iterator it; 注意：除了vector和string之外的STL容器都不支持*(it+i)的访问方式 set常用函数 insert(value) 1 2 3 4 set\u0026lt;char\u0026gt; st; st.insert(\u0026#39;A\u0026#39;); st.insert(\u0026#39;B\u0026#39;); st.insert(\u0026#39;C\u0026#39;); find(value) find(value)返回的是set中value对应的迭代器，也就是value的指针（地址）。 1 2 3 4 5 6 set\u0026lt;char\u0026gt; st; st.insert(\u0026#39;A\u0026#39;); st.insert(\u0026#39;B\u0026#39;); st.insert(\u0026#39;C\u0026#39;); set\u0026lt;char\u0026gt;::iterator it = st.find(\u0026#39;B\u0026#39;); cout \u0026lt;\u0026lt; *it \u0026lt;\u0026lt; endl; erase(it) 删除单个元素 1 2 3 4 5 6 7 set\u0026lt;char\u0026gt; st; st.insert(\u0026#39;A\u0026#39;); st.insert(\u0026#39;B\u0026#39;); st.insert(\u0026#39;C\u0026#39;); set\u0026lt;char\u0026gt;::iterator it = st.find(\u0026#39;B\u0026#39;); cout \u0026lt;\u0026lt; *it \u0026lt;\u0026lt; endl; st.erase(it); erase(beginIt,endIt) 删除一个区间类的元素 1 2 3 4 5 6 7 set\u0026lt;char\u0026gt; st; st.insert(\u0026#39;A\u0026#39;); st.insert(\u0026#39;B\u0026#39;); st.insert(\u0026#39;C\u0026#39;); set\u0026lt;char\u0026gt;::iterator it = st.find(\u0026#39;B\u0026#39;); cout \u0026lt;\u0026lt; *it \u0026lt;\u0026lt; endl; st.erase(it,st.end()); size() 返回set内的元素个数目 string map queue priority_queue stack pair algrithm 参考 https://zhuanlan.zhihu.com/p/344558356 ","permalink":"https://cfanzp.com/cpp-stl/","tags":["c++"],"title":"c++ STL"},{"categories":["skynet"],"contents":"skynet-stat使用 skynet的控制台中有一个命令为stat可以查看当前的某个skynet服务队列的状态以及当前请求的个数。最近通过这个命令，解决了一个线上问题。 问题描述 线上问题的情况是玩家在游戏中破产时就会卡住，如果不破产，一切正常。 问题分析 分析破产相关代码不难发现破产逻辑中有调用了另外一个进程中某个函数，而这个调用使用的是skynet.call阻塞的。如果整个流程不返回，那么就会阻塞在调用处。 问题定位 使用console命令连接被调的进程 使用stat命令查看当前进程所有skynet服务的状态 发现有几个skynet服务中挂起了许多请求，不难发现这些请求正是破产时发送过来的请求被挂起了。 解决问题 注释掉破产处的相关请求，发现破产后不再出现卡死情况。 总结 上面的例子就是使用skynet stat命令查看服务的消息状态，进而帮助定位问题的一个例子。 上例为什么会出现挂起这么多的请求就不再本文的讨论范围之内了。 ","permalink":"https://cfanzp.com/skynet-stat/","tags":["skynet"],"title":"skynet-stat使用"},{"categories":["code"],"contents":"C++排序算法 1.冒泡排序 冒泡排序中，比较相邻的2项，交换顺序不对的项。 第一轮从首相开始比较，最后一轮只比较最后2个数。 时间复杂度为O(nxn)。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 #include \u0026lt;iostream\u0026gt; #include \u0026lt;vector\u0026gt; using namespace std; // 冒泡排序 void sort_maopao() { // 将下面10个数从小到大排列 int a[] = {3,5,6,7,9,8,0,2,4,1}; for (int i=0;i\u0026lt;10; ++i) { for (int j=0;j\u0026lt;10-i-1; ++j) { if (a[j] \u0026gt; a[j+1]) { int t = a[j]; a[j] = a[j+1]; a[j+1] = t; } } } for(int i=0;i\u0026lt;10;i++) { cout \u0026lt;\u0026lt; \u0026#34;a[\u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34;]=\u0026#34; \u0026lt;\u0026lt; a[i] \u0026lt;\u0026lt; endl; } } void bubbleSort(vector\u0026lt;int\u0026gt;\u0026amp; arr) { int n = arr.size(); for(int i=0; i \u0026lt; n-1; i++) { for(int j=0 ; j \u0026lt; n-i-1; j++) { if (arr[j] \u0026gt; arr[j+1]) { swap(arr[j],arr[j+1]); } } } } int main() { sort_maopao(); cout \u0026lt;\u0026lt; endl; vector\u0026lt;int\u0026gt; b = {1,3,5,10,6,9,2,7}; bubbleSort(b); for(int i=0;i\u0026lt;b.size(); ++i) { cout \u0026lt;\u0026lt; \u0026#34;b[\u0026#34; \u0026lt;\u0026lt; i \u0026lt;\u0026lt; \u0026#34;]:\u0026#34; \u0026lt;\u0026lt; b[i] \u0026lt;\u0026lt; endl; } return 0; } // g++ -o demo_sort --std=c++11 demo_sort.cpp 2.选择排序 每次遍历只找出一个最大项。 找到最大项后把它放到正确的位置。 时间复杂度为O(nxn)。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 void selectSort(vector\u0026lt;int\u0026gt;\u0026amp; arr) { int n = arr.size(); for (int i=0;i\u0026lt;n;++i) { int index = 0; // 找处前面n-i项中的最大项的arr[index] for (int j=1;j\u0026lt;n-i;++j) { if (arr[j] \u0026gt; arr[index]) { index = j; } } // 将arr[index]放到正确的位置arr[n-i0] swap(arr[index],arr[n-i-1]); } } 3.插入排序 插入排序保证前面的已经排好了。 时间复杂度为O(nxn)。 1 2 3 4 5 6 7 8 9 10 11 12 void insertSort(vector\u0026lt;int\u0026gt;\u0026amp; arr) { int n = arr.size(); for (int i=1;i\u0026lt;n;++i) { for(int j=i;j\u0026gt;0;j--) { if (arr[j] \u0026lt; arr[j-1]) { swap(arr[j],arr[j-1]); } else { break; } } } } 4.归并排序 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 void merge(vector\u0026lt;int\u0026gt;\u0026amp; v, int left, int mid, int right){ vector\u0026lt;int\u0026gt; temp = v; int i = left, j = mid + 1; int index = left; while(i \u0026lt;= mid || j \u0026lt;= right){ if(i \u0026gt; mid){ v[index++] = temp[j]; j++; } else if(j \u0026gt; right){ v[index++] = temp[i]; i++; } else if(temp[i] \u0026lt; temp[j]){ v[index++] = temp[i]; i++; } else{ v[index++] = temp[j]; j++; } } } 递归将数据分割成2个部分 1 2 3 4 5 6 7 8 9 void merge_Sort(vector\u0026lt;int\u0026gt;\u0026amp; v, int left, int right){ if(left \u0026gt;= right) return; int mid = (left + right) / 2; merge_Sort(v, left, mid); merge_Sort(v, mid + 1, right); if(v[mid] \u0026gt; v[mid + 1]){ merge(v, left, mid, right); } } 归并排序 1 2 3 4 void mergeSort(vector\u0026lt;int\u0026gt;\u0026amp; v){ int n = v.size(); merge_Sort(v, 0, n - 1); } 5.快速排序 通过一次排序，将数据分割成2个部分,分割后的2部分数据中，其中一部分的数据都比李旺一部分小 然后对2部分数据进行递归快速排序 时间复杂度为O(nlogn)。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 void quick_Sort(vector\u0026lt;int\u0026gt;\u0026amp; arr, int left, int right){ if(left \u0026gt;= right) { return; } //取最左边的数为基数 int i = left, j = right, base = arr[left]; while(i \u0026lt; j){ while(arr[j] \u0026gt;= base \u0026amp;\u0026amp; i \u0026lt; j){ j--; } while(arr[i] \u0026lt;= base \u0026amp;\u0026amp; i \u0026lt; j){ i++; } if(i \u0026lt; j){ swap(arr[i], arr[j]); } } arr[left] = arr[i]; arr[i] = base; quick_Sort(arr, left, i - 1); quick_Sort(arr, i + 1, right); } void quickSort(vector\u0026lt;int\u0026gt;\u0026amp; arr){ int n = arr.size(); quick_Sort(arr, 0, n - 1); } 参考 https://zhuanlan.zhihu.com/p/121066684 https://www.runoob.com/w3cnote/ten-sorting-algorithm.html ","permalink":"https://cfanzp.com/cpp-sort/","tags":["c++","算法"],"title":"C++排序算法"},{"categories":["c++","vim","mac"],"contents":"在mac m1上搭建c++ Vim开发环境 vim安装 这里就不介绍如何安装了，详细的步骤可以看我的vim相关文章或者自行查阅相关文档。 vim 配置c++插件syntastic 装好vim后需要配置对应的提示插件,vimrc中添加如下配置 1 2 3 4 5 6 7 8 \u0026#34;cpp let g:syntastic_cpp_include_dirs = [\u0026#39;/Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/include/c++/v1\u0026#39;] \u0026#34; let g:syntastic_cpp_include_dirs = [\u0026#39;/usr/include/\u0026#39;] let g:syntastic_cpp_remove_include_errors = 1 let g:syntastic_cpp_check_header = 1 let g:syntastic_cpp_compiler = \u0026#39;clang++\u0026#39; let g:syntastic_cpp_compiler_options = \u0026#39;-std=c++11 -stdlib=libstdc++\u0026#39; \u0026#34; syntastic end 其中需要注意的是 syntastic_cpp_include_dirs的配置,这里用到了clang++可以用clang++ --version来查看相关路径 测试一下环境 写一个简单的c++程序 1 2 3 4 5 6 7 8 // touch main.cpp // vim main.cpp #include \u0026lt;iostream\u0026gt; using namespace std; int main() { cout \u0026lt;\u0026lt; \u0026#34;Hello world!\u0026#34; \u0026lt;\u0026lt; endl; return 0; } ","permalink":"https://cfanzp.com/cpp-m1-env-vim/","tags":["c++","m1"],"title":"在mac m1上搭建c++ Vim开发环境"},{"categories":["skynet"],"contents":"skynet-actor模型 skynet是使用c语言实现了一套actor模型，那么什么是actor模型呢？ actor模型简介 erlang将actor称之为“进程”,在代码层面考虑并发性。 actor模型用于并行计算 actor是最小的计算单元 基于消息设计 actor之间相互隔离 skynet中的actor skynet用框架实现actor模型 启动多个并发actor actor之间通过消息进行沟通 actor拥有私有消息队列，存储有序的消息 actor通过回掉来消耗消息 skynet中的actor是什么样的结构 1 struct skynet_context // 具体可以参看skynet源码 skynet中开启了哪些线程，工作线程具体的任务是什么？ timer线程 socket线程 monitor线程 检查服务消息过载 worker线程 skynet中的actor是怎么运行的，消息如何调度？ 消息队列(全局消息队列，actor消息队列) 全局消息队列存储有消息的actor 消息是如何生产消费的？ 生产 actor之间发送消息 定时器向actor发送消息 信号向actor发送消息 socket向actor发送消息 消费 skynet callback回调来消费消息 c语言的actor logger服务 lua语言的actor lua虚拟机 service_snlua.c来加载lua服务 ","permalink":"https://cfanzp.com/skynet-actor/","tags":["skynet"],"title":"skynet-actor模型"},{"categories":["tools"],"contents":"在线音频格式化网站 最近需要把kgm的音频转换为mp3格式，在windows平台有脚本转换工具，在mac电脑上没有找到好用的网站，今天发现了这个网站记录一下，不过这个网站在国内无法使用。 在线格式化网站: https://demo.unlock-music.dev/ ","permalink":"https://cfanzp.com/music-format/","tags":["music","tools"],"title":"在线音频格式化网站"},{"categories":["linux"],"contents":"linux基础","permalink":"https://cfanzp.com/linux-question/","tags":["linux"],"title":"linux基础"},{"categories":["os"],"contents":"操作系统基础","permalink":"https://cfanzp.com/os-question/","tags":["操作系统"],"title":"操作系统基础"},{"categories":["golang"],"contents":"golang常见问题","permalink":"https://cfanzp.com/go-question/","tags":["golang"],"title":"golang常见问题"},{"categories":["lua"],"contents":"lua常见问题","permalink":"https://cfanzp.com/lua-question/","tags":["lua"],"title":"lua常见问题"},{"categories":["docker"],"contents":"docker基础 docker常见命令 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 docker run 创建并运行一个容器， -d让容器后台运行 docker inspect 查看容器信息 docker pull 拉取镜像 docker build构建镜像 docker images 查看当前下载的镜像 docker rmi 删除镜像 docker save -o nginx.tar nginx:latest 镜像保存为nginx.tar docker load -i nginx.tar 加载镜像nginx.tar docker run 创建并运行容器 --name:容器名 - p 8000:3306 前面是宿主机端口，后面是容器的端口 -e MYSQL_ROOT_PASSWORD=123 -e 环境变量 docker ps 查看当前运行的容器 docker stop 停止容器 exit 或ctrl + d推出容器 docker exec -it containerId或containerName /bin/bash进入容器 docker cp /opt/tools/nvim.tar.gz nginx1:/opt/tools/ 将宿主机中的nvim.tar.gz拷贝到容器nginx1的/opt/tools/目录中 docker怎么使用？ 查看docker版本 1 docker --version ","permalink":"https://cfanzp.com/docker-question/","tags":["docker"],"title":"docker基础"},{"categories":["net"],"contents":"网络基础 什么事5元组？ 源地址，源端口，目的地址，目的端口，协议。 网络五层协议是哪五层？ 应用层:HTTP,SNMP,FTP,SMTP,DNS,Telnet 传输层:UDP,TCP 网络层:IP,ICMP,RIP,OSPF,BGP,IGMP,ARP,RARP 数据链路层:SLIP,CSLIP,PPP,FDDI,Arpanet,PDN,Ethernet 物理层:IEEE802.1A,IEEE802.2到IEEE 802.11 参考 https://blog.csdn.net/qq_22238021/article/details/80279001 ","permalink":"https://cfanzp.com/network-question/","tags":["net"],"title":"网络基础知识"},{"categories":["redis"],"contents":"redis基础 redis 与其它的key-value存储有什么不同？ redis具有更加复杂的数据结构并且支持原子性操作。 redis支持持久化到磁盘。 redis与MemCached相比有哪些优势？ redis比MemCached快。 redis能够持久化道磁盘，MemCached不支持。 redis支持更复杂的数据机构,MemCached所有值都是简单的字符串。 redis是单进程单线程的？ redis是单进程单线程的，通过队列技术将并发的访问转化为串行访问。消除了传统数据库的穿行开销。 参考 https://developer.aliyun.com/article/852976 https://zhuanlan.zhihu.com/p/427496556 ","permalink":"https://cfanzp.com/redis-question/","tags":["redis"],"title":"redis基础"},{"categories":["code"],"contents":"服务端开发基础 做服务端开发有很多年了，目前看来自己已经学习了许多的服务端开发的技术，但是对于服务端开发的技术来说，我学到的东西，实在是冰山一角。这里汇总一下服务端开发的一些知识要点。因为服务端开发涉及到的技术实在是太多了，这里仅仅是汇总一部分，后续也会持续更新，添加更多的知识点。 基础概念 熟悉常用云服务器提供商产品 腾讯云、阿里云、华为云等 常用数据库 关系型数据库 PostgreSQL Microsoft Sql Server Microsoft Access Mysql Oracle DB2 SQLite No Sql数据库 redis memcache mongoDB 网络原理 tcp http udp 数据结构与算法 常用编程语言 c/c++ go lua python java 网络编程 tpc/udp,http, socket编程 操作系统 linux系统 分布式 云原生 docker k8s 开源框架 多线程编程 协程","permalink":"https://cfanzp.com/server-dev/","tags":["server"],"title":"服务端开发基础"},{"categories":["net"],"contents":"http协议 http协议的格式 HTTP请求报文 1 2 3 4 5 6 7 方法 URL 版本 \\n\\r (请求行) 首部字段名:值 \\n\\r ... ... 首部字段名:值 \\n\\r \\n\\r 实体主体（通常不用） 方法:OPTION GET HEAD POST PUT DELETE TRACE CONNECT 请求例子 1 2 3 4 5 6 7 8 GET /gts1c3/aaa HTTP/1.1 Host: ocsp.pki.goog X-Apple-Request-UUID: 111-222-333-444-99999 Accept: */* User-Agent: com.apple.trustd/2.2 Accept-Language: zh-CN,zh-Hans;q=0.9 Accept-Encoding: gzip, deflate Connection: keep-alive HTTP返回报文 1 2 3 4 5 6 7 版本 状态码 短语\\n\\r (状态行) 首部字段名:值 \\n\\r ... ... 首部字段名:值 \\n\\r \\n\\r 实体主体（有些报文不用） 返回例子 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 HTTP/1.1 200 OK Server: ocsp_responder Content-Length: 471 X-XSS-Protection: 0 X-Frame-Options: SAMEORIGIN Date: Fri, 22 Dec 2023 13:56:50 GMT Cache-Control: public, max-age=14400 Content-Type: application/ocsp-response Age: 1993 0... ......0....\t+.....0......0...0.......t....... n...i.q..6S...c....20231221122544Z....20231228112543Z0 .\t*.H.. .............M.19ZV..lT.x%..*.\u0026gt;..\u0026#34;w\u0026lt;.{.\u0026amp;...9.........f.,.....):.5....5%e........ .M..@.i...U\tl.....6 HTTP1.0 HTTP1.0 是http协议的第二个版本，是第一个在通讯中定版本号的HTTP协议 http1.0 浏览器与服务器只保持短暂的连接，每次请求都需要与服务器建立一个TCP连接，服务器完成请求处理后，立即断开TCP连接，服务器不跟踪每个客户,也不记录过去的请求。 每次与服务器交互，都需要新开一个连接。 性能上有缺陷。 如果要建立长连接，需要设置一个非标准的Connection字段Connnection:keep-alive HTTP1.1 HTTP1.1中，默认支持长连接(Connection:keep-alive),即在一个TCP连接上可以传送多个HTTP请求和响应，减少了建立和关闭连接的消耗和延迟。 HTTP1.1允许客户端不用等待上一次请求结果返回，就可以发出下一次请求，但服务器必须按照接收到客户端请求的先后顺序依次回送响应结果。 HTTP1.1在HTTP1.0的基础上，增加了更多的请求头和响应头来完善功能： 引入了更多的缓存控制策略:if-Unmodified-Since,if-Match,if-None_-Match等缓存头来控制缓存策略。 引入range,允许值请求资源某个部分。 引入host,实现在一台WEB服务器上可以在同一个IP地址和端口号上使用不同的主机名来创建多个虚拟WEB站点。 还添加了：put,delete,options等等请求方法。 HTTP2.0 HTTP2.0在之前版本的基础上性能有很大的提升，添加了特性: 多路复用 二进制分帧 首部压缩 服务器推送 参考: https://vue3js.cn/interview/http/1.0_1.1_2.0.html ","permalink":"https://cfanzp.com/http/","tags":["http"],"title":"http协议"},{"categories":["devtools"],"contents":"几款免费好用的思维导图软件 工作中经常需要画一些思维导图，但是目前大部分思维导图软件都是收费的。目前我发现几款款比较好用的软件,自己用了一段时间，感觉基本功能都是有的，推荐给大家。 freemind 因为FreeMind2014年之后就没有更新了，虽然免费，但更推荐PlaneMind 支持windows,linux,mac 下载地址: https://freemind.sourceforge.net/wiki/index.php/Download freeplane 支持windows,linux,mac 下载地址 下载地址: https://sourceforge.net/projects/freeplane/files/latest/download mac下载地址: https://udomain.dl.sourceforge.net/project/freeplane/freeplane%20stable/Freeplane-1.10.6-intel.dmg 帮助文档 官方文档: https://docs.freeplane.org/ 怎么使用可以参考知乎中的这篇文章: https://zhuanlan.zhihu.com/p/50368471 linux下使用问题: https://www.likecs.com/show-307170883.html 常用快捷键 1 2 3 4 添加平级节点：Enter 添加子节点：Tab 删除节点：Delete 编辑节点: F2 其它 这里还有几款其它的脑图软件: https://www.zhihu.com/question/19610340 总结 个人使用linux环境比较多，更偏向于使用freeplane,目前脑图软件很多，使用哪个软件都是可以的，适合自己的就行。 ","permalink":"https://cfanzp.com/freemind/","tags":["devtools","freemind","freeplane"],"title":"几款免费好用的思维导图软件"},{"categories":["docker"],"contents":"基于Docker+Jenkins+Git的发布环境 通过Docker管理Jenkins资源。 通过Jenkins创建Docker镜像。 发布流程 开发人员使用git提交代码到git服务器 git hook触发Jenkiins Jenkiins使用shell脚本控制docker操作:网站的部署、运行与更新 安装Jenkins","permalink":"https://cfanzp.com/docker-jenkins-git/","tags":["docker"],"title":"基于Docker+Jenkins+Git的发布环境"},{"categories":["mysql"],"contents":"mysql基础 知识点 索引 存储引擎 bin log/redo log/undo log mysql架构 分库分表 水平分库分表 垂直分库分表 分区表 查询语句以及更新语句的执行过程 exists和in的区别 having和where的区别 什么是主从同步，为什么要做主从同步 乐观锁与悲观锁 processlist是什么？ MySQL的索引是怎么实现的？答案是B+树 MySQL索引: https://developer.aliyun.com/article/1113775 MySQL索引详解: https://developer.aliyun.com/article/831250 事务 MySQL有哪几种锁？ 表级锁 行级锁 页面锁 日常工作中是如何优化SQL的？ 建索引,加快查询，空间换时间 分库分表 避免返回不必要的数据，比如select * 改为select需要的字段 主从架构，提升读性能 适当分批进行查询 数据库中的字段设计的时候可尽可能占用空间少 尽量把字段设置为NOT NULL 使用UNION来代替手动创建的临时表 避免函数索引 用IN来代替OR 用LIKE双%的时候无法使用到索引。 参考 大厂常考的MySQL高频面试题: https://developer.aliyun.com/article/848754 MySQL面试60题: https://zhuanlan.zhihu.com/p/59838091 ","permalink":"https://cfanzp.com/mysql-question/","tags":["mysql"],"title":"mysql基础"},{"categories":["linux","centos"],"contents":"Centos如何关闭交换分区Swap Centos的swap分区在开启的情况下，可能会导致性能下降，在使用k8s时，要求关闭swap 环境 OS 1 2 [root@dev127 paoshang]# cat /etc/redhat-release CentOS Linux release 7.9.2009 (Core) 关闭swap分区 1 swapoff -a 修改配置文件/etc/fstab,删除swap相关的行 1 2 3 4 5 6 7 8 9 10 11 12 13 [root@dev127 paoshang]# cat /etc/fstab ```bash # # /etc/fstab # Created by anaconda on Tue Jun 9 19:47:48 2020 # # Accessible filesystems, by reference, are maintained under \u0026#39;/dev/disk\u0026#39; # See man pages fstab(5), findfs(8), mount(8) and/or blkid(8) for more info # UUID=4541be7b-65a9-45f2-983a-8439a534b99c / xfs defaults 0 0 UUID=d30bfeaa-770a-43b4-8567-a9fa4e221786 /boot xfs defaults 0 0 #UUID=16cc8806-a33e-4a65-b118-e3338ebba38d swap swap defaults 0 0 /dev/sdb /data ext4 defaults 0 0 确认swap已经关闭 1 free -m 调整swappiness参数 1 2 3 echo 0 \u0026gt; /proc/sys/vm/swappiness vim /etc/sysctl.conf vm.swappiness=0 使修改生效 1 2 3 4 5 sysctl -p ## 参考 - https://www.cnblogs.com/larrypeng/p/11950498.html ","permalink":"https://cfanzp.com/centos-swap/","tags":["linux","centos"],"title":"Centos如何关闭交换分区Swap"},{"categories":["code"],"contents":"yaml配置文件编写规范 key: value表示一对键值对，冒号后面必须要有空格 1 key: value 基本语法 大小写敏感。 使用空格缩进,不能使用tab。 缩进的空格数不重要，只要相同层级的元素左对齐即可。 #表示注释 数据类型 对象： 键值对的集合，mapping/hashes/dictionary。 数组：sequence/list。 纯量：单个的、不可再分的值。 YAML对象 1 2 3 key: key1:value1 key2:value2 复杂对象: ? + 空格代表一个复杂的key,: + 一个空格代表一个value 1 2 3 4 5 6 ? - keya - keyb : - valuea - valueb YAML数组 以-开头的行表示构成一个数组。 1 2 3 4 key: - a1 - a2 - a3 行内表示方法 1 key: [a1,a2,a3] 数组嵌入数组 1 2 3 4 - - a1 - a2 - a3 数组内是对象举例： 1 2 3 4 5 6 7 room: - tableid: 1 name:table1 - tableid: 2 name:table2 也可表示为 1 room: [{tableid: 1,name: table1},{tableid: 2,name: table2}] 纯量 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 boolean: - TRUE #true,True都可以 - FALSE #false,False都可以 float: - 3.01 - 3.1415926 int: - 10 - 0b1010_0111_0100_1010_1110 #二进制表示 null: nodeName: \u0026#39;node\u0026#39; parent: ~ #使用~表示null string: - \u0026#39;Hello xiaomi\u0026#39; - xiaoli - xiaoliu - xiaohu date: - 2023-02-19 #日期必须使用ISO 8601格式，即yyyy-MM-dd datetime: - 2018-02-17T15:02:31+08:00 #时间使用ISO 8601格式，时间和日期之间使用T连接，最后使用+代表时区 参考 https://www.runoob.com/w3cnote/yaml-intro.html ","permalink":"https://cfanzp.com/yaml/","tags":["yaml"],"title":"yaml配置文件编写规范"},{"categories":["docker"],"contents":"k8s学习笔记 基本概念 statefulset helm pod configmap kubeadm 二进制安装 bootstrapping kubelet 0宕机 startupprobe Pod三种探针 资源调度 Deployment 有状态的应用管理StatefulSet 守护进程服务DaemonSet HAP自动扩容 服务发布 Label Selector Ingress Sevice 配置管理 ConfigMap Secret 持久化存储 Volumes Volumes HostPath挂载宿主路径 Volumes EmptyDir实现数据共享 NFS 持久化PV\u0026amp;PVC 高级调度 CronJob计划任务 污点和容忍Taint\u0026amp;Toleration initContainer Affinity亲和力入门 节点亲和力NodeAffinity Pod亲和力和反亲和力 Topology拓扑域 Topology实现多地多机房部署 临时容器 临时容器在线debug 准入控制及细力度权限控制 RBAC权限管理 Ratel 准入控制 服务质量Qos PodPreset Dashboard基于用户名密码认证 高级篇 云原生存储 Rook Ceph StorageClass Rook Ceph xfs_repair问题 中间件容器化以及Helm Redis Operator Redis集群部署 Helm v3(yum) 编写Helm部署RabbitMQ 源码修改 Kubeadm源码修改(默认证书只有1年) 组件 APISERVER ControllerManager Scheduler ETCD Kubelet Kube-proxy CORENDS DASHBOARD INGRESS CONTROLLER FEDERATION PROMETHEUS ELK Pod ReplicationController ReplicaSet 运维 EFK日志收集 Filebeat 收集容器内日志 prometheus prometheus告警 游戏中实践 https://longzhiri.github.io/Game+Servers+k8s+practice.html 参考 https://www.bilibili.com/video/BV1JR4y1B7oa 哪些公司在用k8s 参考: https://blog.csdn.net/xueshenlaila/article/details/118895406 京东 知呼 天猫 阿里巴巴 诺基亚 永辉超市 美团: https://tech.meituan.com/2019/08/22/kubernetes-cluster-management-practice.html 网易: https://blog.csdn.net/NetEaseResearch/article/details/108279775 字节跳动: http://science.china.com.cn/2022-06/14/content_42001803.htm 联通: https://www.alauda.cn/news/detail/id/526.html 中国移动: https://blog.51cto.com/u_15127420/3213363 中国电信: https://www.linkedin.cn/incareer/jobs/view/k8s%E5%AE%B9%E5%99%A8%E5%8C%96%E5%BC%80%E5%8F%91%E5%B7%A5%E7%A8%8B%E5%B8%88-mj000003-at-%E4%B8%AD%E5%9B%BD%E7%94%B5%E4%BF%A1%E9%9B%86%E5%9B%A2%E6%9C%89%E9%99%90%E5%85%AC%E5%8F%B8-3488457311 腾讯: https://cloud.tencent.com/developer/article/1761279 奇虎360 新浪微博 金山云 滴滴出行 新东方 小红书 百度 华为 快手 国家电网 小米 汽车之家 爱奇异 同城旅游 游戏公司 途游游戏: https://www.zhipin.com/job_detail/3aa179d364ffab8d1nN739u6EFdY.html?lid=3VSJoP8D3j.search.117\u0026securityId=Fc1F1o44tKNcn-J1I-29BpFzWhOqCNClK9-RM_g-qa2f82Hvr1XJQJm9WiOHiVU2oY2RdkgwO_KwGMkMP_Ds9zG7FYgGu4_68Al1ibHcJAOlVoOp\u0026sessionId= 乐游科技: https://www.zhipin.com/job_detail/d0a714b4821a42171XF83dq-E1BT.html?lid=3VSJoP8D3j.search.171\u0026securityId=YN-f3a5ndWKe7-Y11SZn4a-XEs6T67zWva4U7rb0fWXTBCFYTQgvN6EL-P6IucnCpxzZdqYTFqdKykmMWJApgj0acw1aiE183M-AXpb2r0M1D-69hw~~\u0026sessionId= 乐城堡: https://www.zhipin.com/job_detail/584ce224107695a61XF-3tq-ElJT.html?lid=46RGh1G3vA.search.3\u0026securityId=FOsKEPbMI48vt-w15pvM_RmhwkmGC-0Xi2a-P2e98OfnSEedhLgfofmHYxuyWC0jXd56ui4pN91cXj9h0WEwFhTGMyRcYFP_jEmVl7UzjDrGPBvB0XnuFeZkWuRuB_CDW6GnK7mX3EXcBL4S3sIttw~~\u0026sessionId= ","permalink":"https://cfanzp.com/k8s/","tags":["k8s"],"title":"k8s学习笔记"},{"categories":["docker"],"contents":"grafana 简介 grafana是监控的一个前端展示工具可以通过docker来部署 grafana的展示模板 通过导入模板的json或输入模板的ID就可以导入模板，但是输入ID的方式有时候会不成功。 windows_exporter的模板推荐下面这个 windows_exporter for Prometheus Dashboard CN v20201012 docker 启动 使用docker-compose 首次登录地址: http://127.0.0.1:3000/,帐号密码admin,admin 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 [root@dev127 cig]# cat docker-compose.yml version: \u0026#39;3.1\u0026#39; volumes: grafana_data: {} services: influxdb: image: tutum/influxdb:0.9 restart: always environment: - PRE_CREATE_DB=cadvisor ports: - \u0026#34;8083:8083\u0026#34; - \u0026#34;8086:8086\u0026#34; volumes: - /data/influxdb:/data cadvisor: image: google/cadvisor restart: always ports: - \u0026#34;8082:8080\u0026#34; volumes: - /:/rootfs:ro - /var/run:/var/run:rw - /sys:/sys:ro - /var/lib/docker/:/var/lib/docker:ro grafana: user: \u0026#34;104\u0026#34; image: grafana/grafana user: \u0026#34;104\u0026#34; restart: always links: - influxdb:influxsrv ports: - \u0026#34;3000:3000\u0026#34; volumes: - grafana_data:/var/lib/grafana environment: - HTTP_USER=admin - HTTP_PASS=admin - INFLUXDB_HOST=influxsrv - INFLUXDB_PORT=8086 - INFLUXDB_NAME=cadvisor - INFLUXDB_USER=root - INFLUXDB_PASS=root 直接通过命令来启动 1 2 3 4 5 6 7 8 9 10 #!/bin/bash basedir=$(cd `dirname $0`;pwd) docker stop grafana docker rm grafana docker run \\ -d --name grafana -p 3000:3000 \\ -e \u0026#34;GF_SERVER_ROOT_URL=http://grafana.server.name\u0026#34; \\ -e \u0026#34;GF_SECURITY_ADMIN_PASSWORD=123456\u0026#34; \\ grafana/grafana grafana ","permalink":"https://cfanzp.com/grafana/","tags":["grafana","监控"],"title":"Grafana"},{"categories":["net","linux"],"contents":".DS_Store信息泄漏 威胁等级 低危 漏洞类型 应用漏洞 漏洞描述 Web 目录下存在 .DS_Store 文件，这个文件是由 MacOS 生成的隐藏文件，其中包含了当前目录下的所有文件名。如果 Web 目录存在此文件，将会导致 Web 目录下的文件列表泄露，可能会造成安全问题。 修复方案 1 删除 .DS_Store 文件 ","permalink":"https://cfanzp.com/server-safe-ds_store/","tags":["网络安全"],"title":".DS_Store信息泄漏"},{"categories":["mysql"],"contents":"mysql FAQ 常用查询 查看版本号 1 2 3 4 5 6 7 select version(); +-----------+ | version() | +-----------+ | 5.6.51-log | +-----------+ 1 row in set (0.03 sec) 查看数据库编码 1 2 3 4 5 6 7 8 9 10 11 12 13 show variables like \u0026#39;char%\u0026#39;; +------------------------+--------------------------+ | Variable_name | Value | +------------------------+--------------------------+ | character_set_client | utf8mb4 | | character_set_connection | utf8mb4 | | character_set_database | utf8mb4 | | character_set_filesystem | binary | | character_set_results | utf8mb4 | | character_set_server | utf8mb4 | | character_set_system | utf8 | | character_sets_dir | /usr/share/mysql/charsets/ | +------------------------+--------------------------+ 查看当前mysql提供哪些引擎 1 show engines; 查看当前默认存储引擎 1 show variables like \u0026#39;%storage_engine%\u0026#39;; 查看表tb_a用了什么引擎 1 show create table tb_a; 如批量替换字符串前缀 1 2 3 UPDATE t_shop SET img = REPLACE(img, \u0026#39;https://a.com\u0026#39;, \u0026#39;https://b.com\u0026#39;) WHERE img LIKE \u0026#39;https://a.com.net%\u0026#39;; mysql替换字符串中的部分字符 1 UPDATE t_account SET note = REPLACE(note, \u0026#39;www.aaa.com\u0026#39;, \u0026#39;wwww.bbb.com\u0026#39;); 案例 一次机器断点后发现mysql(mysql8)无法自动重启了。排查后发现原因是mysql日志文件夹没有权限，为什么会出现mysql日志文件夹没有权限呢？因为之前因为磁盘快满了，删日志的同学mysql的整个日志目录都删掉了。解决方法是创建mysql日志目录并添加权限。 1 2 mkdir /var/log/mysql chown mysql:mysql /var/log/mysql/ ","permalink":"https://cfanzp.com/mysql-faq/","tags":["mysql"],"title":"mysql FAQ"},{"categories":["centos","mysql"],"contents":"centos 安装使用mysqldiff,mysqldbcompare 下载 1 wget https://downloads.mysql.com/archives/get/p/30/file/mysql-utilities-1.6.5.tar.gz 安装 错误提示(如果用yum命令安装或者使用rpm包安装可能会出现） 1 from mysql.utilities.common.tools import check_python_version 解决办法是使用源码编译安装（python使用python2) 1 2 3 4 tar -zxvf mysql-utilities-1.6.5.tar.gz cd mysql-utilities-1.6.5/ python2 ./setup.py build python2 ./setup.py install python默认版本2改3后yum提示错误,修改yum程序文件解决 查看安装的python版本 1 2 3 4 5 6 7 8 9 10 [root@lzw portainer]# ls /usr/bin | ag python python python2 python2.7 python2.7-config python2-config python3 python3.6 python3.6m python-config 修改/usr/bin/yum和/usr/libexec/urlgrabber-ext-down,将python改为python2 1 2 3 4 vim /usr/bin/yum #!/usr/bin/python2 vim /usr/libexec/urlgrabber-ext-down #!/usr/bin/python2 使用mysqldiff 对比数据库 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 [root@dev127 ~]# mysqldiff --server1=root:123456@localhost --server2=root:123456@localhost paoshangdb:paoshangdb_zp # WARNING: Using a password on the command line interface can be insecure. # server1 on localhost: ... connected. # server2 on localhost: ... connected. # WARNING: Objects in server1.paoshangdb but not in server1.paoshangdb_zp: # TABLE: t_formationitem_change_reocrd # PROCEDURE: p_gm_init_hero_test # PROCEDURE: p_gm_init_hero_test_formation_todel # PROCEDURE: p_test # PROCEDURE: p_gm_init_hero_test_todel # PROCEDURE: p_gm_init_hero_test_formation_old # WARNING: Objects in server1.paoshangdb_zp but not in server1.paoshangdb: # TABLE: t_zong_task_guan_config # PROCEDURE: p_zongtask_guan_eventgroup_config # Compare failed. One or more differences found. 对比表 1 2 3 4 5 6 [root@dev127 ~]# mysqldiff --server1=myb:123456@localhost --server2=myb:123456@localhost paoshangdb.t_account:paoshangdb_zp.t_account # WARNING: Using a password on the command line interface can be insecure. # server1 on localhost: ... connected. # server2 on localhost: ... connected. # Comparing paoshangdb.t_account to paoshangdb_zp.t_account [PASS] # Success. All objects are the same. 使用mysqldbcompare 1 2 3 4 5 6 7 mysqldbcompare --server1=myb:123456@localhost --server2=myb:\u0026#39;123456\u0026#39;@127.0.0.1:8803 \\ --changes-for=server1 \\ --difftype=sql \\ --skip-checksum-table \\ --skip-data-check \\ --skip-row-count \\ --run-all-tests paoshangdb_zp:paoshangdb 参考 源码编译安装mysql utilities: https://blog.csdn.net/xfxfxfxfxf666/article/details/101164604 总结 安装mysqldiff会遇到python依赖问题，当前版本的mysqldiff依赖python2。（希望python2快点淘汰掉吧） mysqldiff 对于简单的数据库以及表对比还是比较有用的。 yum 依赖python2,如果把系统默认的python版本软链接到了python3记得需要修改yum程序开头python的版本(vim /usr/bin/yum) ","permalink":"https://cfanzp.com/mysqldiff/","tags":["centos","mysql","mysqldiff","mysqldbcompare"],"title":"centos 安装使用mysqldiff,mysqldbcompare"},{"categories":["硬件"],"contents":"S905l3a安装emuelec游戏系统 s905l3a是s905x2的运营商定制版 s905l3a魔百盒硬件信息 1 2 rom:2G ram:16G 教程 视频教程: https://www.bilibili.com/video/BV1ye4y1e76X 镜像下载: https://www.emuelec.cn/403.html ","permalink":"https://cfanzp.com/s905l3a-emuelec/","tags":["硬件","电视盒子"],"title":"S905l3a安装emuelec游戏系统"},{"categories":["硬件"],"contents":"一款耳机线断了修复过程 最近自用的一款耳机线，靠近插头处的线被折断了，因为太靠近插头了，只能买个新的插头了。某多购买了一款，价格只有1.75元，加上券的优惠，到手0.75元。 接法： 耳机2根线，剥去外皮，里面总共有4根线：2黄，1红，1绿。2黄接公共地端(G)，红为（R)右声道，绿线为左（L)声道。 里面的尼龙线只是起到一个加强作用，抗拉扯的。 参考 https://blog.csdn.net/qq_27718231/article/details/109180024 https://post.smzdm.com/p/673748/ ","permalink":"https://cfanzp.com/hardware-erji/","tags":["硬件"],"title":"一款耳机线断了修复过程"},{"categories":["docker","linux"],"contents":"构建自己的centos Docker镜像 编写Dockerfile 注意这里需要把需要的包(protobuf2.6.1)先拷贝到相应的目录tools中去 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 # 基础镜像，这里选用centos FROM centos:7.9.2009 # 镜像所有者 MAINTAINER cfanzp \u0026#34;cfan.zp@qq.com\u0026#34; # 1.准备工作创建文件夹 RUN \\ mkdir -p /data/tools \\ \u0026amp;\u0026amp; mkdir /data/log # 复制文件，将要安装的jdk、redis及nginx安装包复制到镜像内 #COPY redis.conf /etc/redis/redis.conf #COPY supervisord.conf /etc/supervisord.conf RUN yum -y install epel-release RUN yum -y install htop #安装vim编辑器 RUN yum -y install vim #安装gcc等编译环境 RUN yum -y install automake libtool make RUN yum -y install git tmux gcc gcc-c++ openssl-devel autoconf automake RUN yum -y install libtool readline-devel zlib-devel unzip RUN yum -y install the_silver_searcher lrzsz iptables-services # skynet console RUN yum -y install rlwrap nc #gcc11 RUN yum -y install centos-release-scl RUN yum -y install devtoolset-11-gcc* RUN echo \u0026#34;source /opt/rh/devtoolset-11/enable\u0026#34; \u0026gt;\u0026gt;/etc/profile RUN source /etc/profile ## install protobuf COPY ./tools/protobuf-2.6.1-test1.5.0.tar.gz /data/tools/ RUN cd /data/tools/ \\ \u0026amp;\u0026amp; tar -xzvf protobuf-2.6.1-test1.5.0.tar.gz \\ \u0026amp;\u0026amp; cd protobuf-2.6.1-test1.5.0 \\ \u0026amp;\u0026amp; ./autogen.sh \\ \u0026amp;\u0026amp; ./configure \\ \u0026amp;\u0026amp; make \u0026amp;\u0026amp; make install # 安装 sshd 修改密码 RUN \\ yum install passwd openssl openssh-server -y \\ \u0026amp;\u0026amp; ssh-keygen -q -t rsa -b 2048 -f /etc/ssh/ssh_host_rsa_key -N \u0026#39;\u0026#39; \\ \u0026amp;\u0026amp; ssh-keygen -q -t ecdsa -f /etc/ssh/ssh_host_ecdsa_key -N \u0026#39;\u0026#39; \\ \u0026amp;\u0026amp; ssh-keygen -t dsa -f /etc/ssh/ssh_host_ed25519_key -N \u0026#39;\u0026#39; \\ \u0026amp;\u0026amp; sed -i \u0026#34;s/#UsePrivilegeSeparation.*/UsePrivilegeSeparation no/g\u0026#34; /etc/ssh/sshd_config \\ \u0026amp;\u0026amp; sed -i \u0026#34;s/UsePAM.*/UsePAM no/g\u0026#34; /etc/ssh/sshd_config \\ \u0026amp;\u0026amp; echo 123456 | passwd --stdin root \\ \u0026amp;\u0026amp; echo root:123456|chpasswd \\ \u0026amp;\u0026amp; rm -rf /var/cache/yum/** # 安装supervisor,这个工具会提供一个主线程，避免出现由于后台应用无法启动而造成镜像无法启动 #RUN \\ # yum install -y python-setuptools \\ # \u0026amp;\u0026amp; easy_install supervisor #清除yum缓存 #RUN \\ # rm -rdf /var/cache/yum/** #配置jdk环境变量 #ENV JAVA_HOME=/opt/tools/jdk1.8.0_191 #ENV CLASSPATH=$JAVA_HOME/lib/dt.jar:$JAVA_HOME/lib/tools.jar #ENV PATH=$PATH:$JAVA_HOME/bin #配置系统编码 #ENV LANG en_US.utf8 #CMD /usr/bin/supervisord -c /etc/supervisord.conf #CMD /usr/sbin/init 构建镜像 1 docker build -t centos_dev:latest . 启动容器 1 docker run -idt --name centos_dev1 centos_dev:latest /bin/bash ","permalink":"https://cfanzp.com/docker-dockerfile/","tags":["docker","linux"],"title":"构建自己的centos Docker镜像"},{"categories":["docker","linux"],"contents":"docker FAQ ubuntu20.04如何安装docker 参考: https://blog.csdn.net/s_daqing/article/details/128982516 1 2 3 4 5 6 7 8 9 10 11 12 cat /proc/version sudo apt-get update sudo apt-get install ca-certificates curl gnupg lsb-release sudo mkdir -p /etc/apt/keyrings curl -fsSL https://download.docker.com/linux/ubuntu/gpg | sudo gpg --dearmor -o /etc/apt/keyrings/docker.gpg #install sudo apt-get update sudo apt-get install docker-ce docker-ce-cli containerd.io docker-compose-plugin sudo docker version config 1 2 3 sudo systemctl start docker sudo systemctl enable docker sudo docker run hello-world docker-compose: https://github.com/docker/compose/releases 1 proxychains4 sudo wget https://github.com/docker/compose/releases/download/v2.16.0/docker-compose-linux-x86_64 centos7如何安装docker 1 https://developer.aliyun.com/article/765545 常见报错 无法拉去镜像文件 1 2 3 [root@dev129 docker]# docker run hello-world Unable to find image \u0026#39;hello-world:latest\u0026#39; locally docker: Error response from daemon: Head \u0026#34;https://registry-1.docker.io/v2/library/hello-world/manifests/latest\u0026#34;: dial tcp: lookup registry-1.docker.io on 192.168.2.1:53: no such host. 解决方案 修改/etc/resolv.conf配置 老DNS配置 1 2 3 ## Generated by NetworkManager nameserver 192.168.2.1 nameserver 8.8.8.8 新DNS配置 1 2 3 ## Generated by NetworkManager nameserver 8.8.8.8 nameserver 8.8.4.4 命令相关 如何查看docker版本? 1 docker version 如何启动docker 1 systemctl start docker.service 如何下载镜像，例如下载mysql5.6 1 docker pull mysql:5.6 如何查看运行的容器 1 docker ps 如何查看所有的容器（包括未运行的） 1 docker ps -a 如何查看所有容器资源消耗 1 docker stats 如何构建自己的镜像 1 编写Dockerfile,然后构建镜像:docker build -t 镜像名 . docker的centos镜像如何修改时区? 可以参考 https://cloud.tencent.com/developer/article/1626811 1 2 3 4 ENV TZ Asia/Shanghai RUN ln -fs /usr/share/zoneinfo/${TZ} /etc/localtime \\ \u0026amp;\u0026amp; echo ${TZ} \u0026gt; /etc/timezone 如何更新宿主机的内核版本? https://www.cnblogs.com/iwalkman/p/9736856.html 部署案例 samba如何部署? dperson/samba: https://hub.docker.com/r/dperson/samba https://blog.csdn.net/hanhui22/article/details/106684029 1 2 3 4 5 6 7 [root@dev127 docker]# cat docker_create_and_run.sh docker run -it --name samba -p 139:139 -p 445:445 \\ -v /home/shared:/mount \\ -d dperson/samba \\ -w \u0026#34;WORKGROUP\u0026#34; \\ -u \u0026#34;shared;123456\u0026#34; \\ -s \u0026#34;share;/mount/;yes;no;no;all;none\u0026#34; 遇到客户端缓存,修改密码后无法登录，如何清除? 参考: https://blog.csdn.net/weixin_43279032/article/details/115467120 1 2 net user net user \\\\192.168.2.128\\share /del frps如何部署? 1 2 3 4 5 6 7 8 9 10 11 12 [root@centos frp]# cat docker_create_and_start.sh NAME=frps IMAGE=snowdreamtech/frps docker stop $NAME docker rm $NAME docker run --restart=on-failure:3 \\ --network host \\ -v /opt/frp/frps.ini:/etc/frp/frps.ini \\ -v /opt/frp/log:/var/log/frp \\ -d --name $NAME $IMAGE frpc如何部署? 1 2 3 4 5 6 7 8 9 10 11 12 [root@centos frp]# cat docker_create_and_start.sh NAME=frpc IMAGE=snowdreamtech/frpc docker stop $NAME docker rm $NAME docker run --restart=on-failure:3 \\ --network host \\ -v /opt/frp/frpc.ini:/etc/frp/frpc.ini \\ -v /opt/frp/log:/var/log/frp \\ -d --name $NAME $IMAGE portainer 如何部署? 1 2 [root@centos portainer]# cat create_run_docker_portainer.sh docker run -d -p 19000:9000 --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer 如何拿到默认配置？ 再配置容器的时候，经常会遇到需要配置文件的问题，容器中程序版本不同，配置文件也不一样。 可以去对于程序的官网下载对应的配置文件。 可以从容器中拷贝配置文件。 1 2 3 4 5 进入容器,查看配置文件 docker run --rm -it --entrypoint=sh prom/prometheus 查看容器的id docker ps docker cp a6970716a3e6:/etc/prometheus/ /opt/prometheus/ phpMyAdmin如何部署? 1 2 docker pull phpmyadmin docker run --name myadmin -d -e PMA_ARBITRARY=1 -p 6380:80 phpmyadmin/phpmyadmin 相关参数说明 1 2 3 4 5 6 7 8 9 10 11 12 13 PMA_ARBITRARY -设置为1时，将允许连接到任意服务器 PMA_HOST -定义MySQL服务器的地址/主机名 PMA_VERBOSE -定义MySQL服务器的详细名称 PMA_VERBOSES -定义以逗号分隔的MySQL服务器详细名称列表 PMA_PORT -定义MySQL服务器的端口 PMA_HOSTS -定义逗号分隔的MySQL服务器的地址/主机名列表 PMA_PORTS -定义以逗号分隔的MySQL服务器端口列表 PMA_USER和PMA_PASSWORD-定义用于配置身份验证方法的用户名 PMA_ABSOLUTE_URI -定义面向用户的URI HIDE_PHP_VERSION-如果定义，则将隐藏php版本（expose_php = Off）。设置为任何值（例如HIDE_PHP_VERSION = true）。 UPLOAD_LIMIT -如果设置，将覆盖apache和php-fpm的默认值（默认值为2048 kb） PMA_CONFIG_BASE64 -如果设置，将使用变量的base64解码内容覆盖默认的config.inc.php PMA_USER_CONFIG_BASE64 -如果设置，将使用变量的base64解码内容覆盖默认的config.user.inc.php docker监控 可以参考CAdvisor + InfluxDB + Grafana方案: https://www.cnblogs.com/coding-diary/p/12069675.html https://blog.csdn.net/qq_42543063/article/details/123084509 常用grafana模板 windows exporter 12566: https://grafana.com/grafana/dashboards/12566-3-windows-exporter-0-7-0-for-prometheus-windows/ redis exporter 11835: https://grafana.com/grafana/dashboards/11835-redis-dashboard-for-prometheus-redis-exporter-helm-stable-redis-ha/ node-exporter https://blog.csdn.net/qq_37688023/article/details/106532101 mysqld-exporter: https://blog.csdn.net/qq_44246980/article/details/119981183 cAdvisor https://cloud.tencent.com/developer/article/1748430 windows_exporter 推荐: https://grafana.com/grafana/dashboards/10467-1-windows-exporter-for-prometheus-dashboard-cn-v20201012/ windows_exporter: https://blog.csdn.net/qq_41554118/article/details/118309457 download: https://github.com/prometheus-community/windows_exporter/releases https://blog.csdn.net/weixin_43420337/article/details/90511003 redis_exporter https://blog.csdn.net/y_bccl27/article/details/127601500 prometheus 配置demo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 [root@dev127 etc]# cat prometheus.yml # my global config global: scrape_interval: 15s # Set the scrape interval to every 15 seconds. Default is every 1 minute. evaluation_interval: 15s # Evaluate rules every 15 seconds. The default is every 1 minute. # scrape_timeout is set to the global default (10s). # Alertmanager configuration alerting: alertmanagers: - static_configs: - targets: # - alertmanager:9093 # Load rules once and periodically evaluate them according to the global \u0026#39;evaluation_interval\u0026#39;. rule_files: # - \u0026#34;first_rules.yml\u0026#34; # - \u0026#34;second_rules.yml\u0026#34; # A scrape configuration containing exactly one endpoint to scrape: # Here it\u0026#39;s Prometheus itself. scrape_configs: # The job name is added as a label `job=\u0026lt;job_name\u0026gt;` to any timeseries scraped from this config. - job_name: \u0026#34;prometheus\u0026#34; # metrics_path defaults to \u0026#39;/metrics\u0026#39; # scheme defaults to \u0026#39;http\u0026#39;. static_configs: - targets: [\u0026#34;192.168.2.127:8082\u0026#34;] - job_name: \u0026#34;docker-dev129\u0026#34; # metrics_path defaults to \u0026#39;/metrics\u0026#39; # scheme defaults to \u0026#39;http\u0026#39;. static_configs: - targets: [\u0026#34;192.168.2.129:8085\u0026#34;] - job_name: \u0026#34;redis-dev127-paoshang\u0026#34; # metrics_path defaults to \u0026#39;/metrics\u0026#39; # scheme defaults to \u0026#39;http\u0026#39;. static_configs: - targets: [\u0026#34;192.168.2.127:9121\u0026#34;] - job_name: \u0026#34;node-dev127\u0026#34; # metrics_path defaults to \u0026#39;/metrics\u0026#39; # scheme defaults to \u0026#39;http\u0026#39;. static_configs: - targets: [\u0026#34;192.168.2.127:8084\u0026#34;] - job_name: \u0026#34;node-dev129\u0026#34; # metrics_path defaults to \u0026#39;/metrics\u0026#39; # scheme defaults to \u0026#39;http\u0026#39;. static_configs: - targets: [\u0026#34;192.168.2.129:8084\u0026#34;] - job_name: \u0026#34;node-win158\u0026#34; # metrics_path defaults to \u0026#39;/metrics\u0026#39; # scheme defaults to \u0026#39;http\u0026#39;. static_configs: - targets: [\u0026#34;192.168.2.158:9182\u0026#34;] - job_name: \u0026#34;node-win189\u0026#34; # metrics_path defaults to \u0026#39;/metrics\u0026#39; # scheme defaults to \u0026#39;http\u0026#39;. static_configs: - targets: [\u0026#34;192.168.2.189:9182\u0026#34;] - job_name: \u0026#34;node-win118\u0026#34; # metrics_path defaults to \u0026#39;/metrics\u0026#39; # scheme defaults to \u0026#39;http\u0026#39;. static_configs: - targets: [\u0026#34;192.168.2.118:9182\u0026#34;] 部署filebrowser 默认用户名密码admin 1 2 3 4 docker run -d -v /data/dockerrun/filebrowser/sites/root:/srv \\ -v /data/dockerrun/filebrowser/filebrowserconfig.json:/etc/config.json \\ -v /data/dockerrun/filebrowser/database.db:/etc/database.db \\ -p 80:80 filebrowser/filebrowser https://github.com/filebrowser/filebrowser 如何部署自己的私有docker仓库 参考: https://blog.csdn.net/qq_40213055/article/details/122997250 ","permalink":"https://cfanzp.com/docker-faq/","tags":["docker","linux"],"title":"Docker FAQ"},{"categories":["硬件"],"contents":"电视盒子的游戏系统Emuelec 参考链接 emuelec中文网: https://www.emuelec.cn/ ","permalink":"https://cfanzp.com/tvbox-emuelec/","tags":["emuelec","电视盒子"],"title":"电视盒子的游戏系统Emuelec"},{"categories":["docker","mysql","linux"],"contents":"Docker安装运行Mysql 编写docker-compose文件mysql.yaml 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 version: \u0026#39;3\u0026#39; #设置docker compose 版本 services: #设置services mysql: image: mysql:5.6 container_name: dev127_mysql restart: always ports: - 3306:3306 volumes: #指定挂载目录 - /data/dockerrun/mysql/conf:/etc/mysql/conf.d - /data/dockerrun/mysql/conf:/etc/mysql/mysql.conf.d - /data/dockerrun/mysql/data:/var/lib/mysql - /data/dockerrun/mysql/logs:/var/lib/mysql/error.log environment: MYSQL_ROOT_PASSWORD: test123456 MYSQL_DATABASE: test MYSQL_USER: test123 MYSQL_PASSWORD: test123456 编写启动脚本:start_dev127_mysql.sh 1 docker-compose -f mysql.yaml up -d 关闭脚本 1 docker stop dev127_mysql ","permalink":"https://cfanzp.com/docker-mysql/","tags":["docker","mysql","linux"],"title":"Docker安装运行Mysql"},{"categories":["linux"],"contents":"ubuntu20.04中使用Anbox install https://github.com/anbox/anbox/blob/master/docs/install.md 1 sudo snap install --devmode --edge anbox 解决anbox无法安装apk 安装报错 1 anbox failed to extract native libraries, res=-113] 解决方案: https://github.com/geeks-r-us/anbox-playstore-installer/blob/master/install-playstore.sh https://linux.cn/article-10281-1.html https://juejin.cn/post/7152407243974148127 参考 https://blog.csdn.net/ZhangRelay/article/details/84465548 Anbox github: https://github.com/anbox/anbox Anbox zhihu: https://zhuanlan.zhihu.com/p/65463076 下载失败继续下载: https://blog.csdn.net/hillyfighting/article/details/106692642 https://eightplus.github.io/2019/08/14/2019-08-14-install-anbox/ ","permalink":"https://cfanzp.com/linux-anbox/","tags":["anbox","linux"],"title":"Linux安装使用Anbox"},{"categories":["linux"],"contents":"如何在linux中使用xrandr 查询显示设备信息 1 xrandr -q 多屏显示 i3wm中使用方法 1 2 3 vim ~/.config/i3/config exec xrandr --output HDMI-1-2 --auto --right-of HDMI-3 exec xrandr --output HDMI-3 --auto --primary dwm中使用方法 1 2 3 vim ~/.dwm/autostart.sh xrandr --output HDMI-1-2 --auto --right-of HDMI-3 xrandr --output HDMI-3 --auto --primary 参考 https://linuxconfig.org/how-to-configure-your-monitors-with-xrandr-in-linux 总结 xrandr平时都使用不到，主要是在使用平铺式桌面管理器如i3wm,dwm时需要用到。简单适用。 ","permalink":"https://cfanzp.com/linux-xrandr/","tags":["linux","xrandr","i3wm","dwm"],"title":"如何在linux中使用xrandr"},{"categories":["linux"],"contents":"dwm的安装与使用 ubuntu 安装dwm 1 2 3 4 5 6 sudo apt-get install suckless-tools libx11-dev libxft-dev libxinerama-dev gcc make sudo apt install compton sudo apt install feh sudo apt install acpi acpitool sudo apt install light sudo apt install numlockx 添加启动选项 具体配置方式，进入/usr/share/xsessions/目录，新建文件dwm.desktop,输入内容： 1 2 3 4 5 6 7 [Desktop Entry] Encoding=UTF-8 Name=Dwm Comment=Dynamic window manager Exec=dwm Icon=dwm Type=XSession 使用字符界面登录 使用startx命令从文字界面启动 此方式开机更加快速，使用更加灵活，系统资源占用更少。 首先将系统改为默认进入文字界面 修改grub配置,打开文件/etc/default/grub, 1 2 将GRUB_CMDLINE_LINUX_DEFAULT=\u0026#34;quiet splash\u0026#34; 改为GRUB_CMDLINE_LINUX_DEFAULT=\u0026#34;text\u0026#34; 然后执行命令 1 $ sudo update-grub 将启动等级改为多用户等级，执行如下命令： 1 $ systemctl set-default multi-user.target 如果想改回启动图形界面执行下面 1 $ systemctl set-default graphical.target 最后修改~/.xsession文件（如果没有就新建），在最后一行加入 1 exec dwm 重启电脑，执行startx命令，直接进入dwm，同时也可以执行sudo systemctl start gdm.service命令，打开gdm3的用户登录界面。 下载 1 git clone https://git.suckless.org/dwm 快捷键 Mod1表示:Alt,Mod4表示Windows键 dwm问题汇总: https://blog.csdn.net/qq_34548075/article/details/106941934 参考 Ubuntu DWM安装配置文档: https://zhuanlan.zhihu.com/p/262067759 入坑dwm——原来窗口管理器还可以这样用？https://zhuanlan.zhihu.com/p/183861786 ","permalink":"https://cfanzp.com/dwm/","tags":["dwm"],"title":"dwm的安装与使用"},{"categories":["skynet","ubuntu"],"contents":"在centos环境下搭建skynet运行环境 安装个人偏好软件 the_silver_searcher,htop 1 2 3 yum install -y the_silver_searcher yum install -y epel-release yum install -y htop tmux 1 yum install -y tmux 配置 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 [root@server ~]# cat ~/.tmux.conf set -g default-terminal \u0026#34;screen-256color\u0026#34; set-option -g allow-rename off #-- base settings --# set -g mode-keys vi # prefix key (Ctrl+a) set -g prefix ^a unbind ^b bind ^a send-prefix #up bind-key k select-pane -U #down bind-key j select-pane -D #left bind-key h select-pane -L #right bind-key l select-pane -R 安装基础依赖 1 2 3 4 yum install -y git yum install git tmux gcc gcc-c++ openssl-devel autoconf automake yum install libtool readline-devel zlib-devel unzip yum install the_silver_searcher lrzsz iptables-services 安装gcc11 1 2 3 4 5 sudo yum install centos-release-scl sudo yum install devtoolset-11-gcc* echo \u0026#34;source /opt/rh/devtoolset-11/enable\u0026#34; \u0026gt;\u0026gt;/etc/profile source /etc/profile gcc -v 安装curl 1 2 3 4 5 6 7 8 9 yum install openssl-devel https://curl.haxx.se/download/ wget https://curl.haxx.se/download/curl-7.78.0.tar.gz 或源码文件中获取i cp tools/curl-7.78.0.tar.gz data/ tar -zxvf curl-7.78.0.tar.gz ./configure --with-openssl make make install 安装protobuf(依赖gtest) 1 2 3 4 5 6 7 8 9 10 11 12 13 wget https://github.com/google/googletest/archive/release-1.5.0.zip wget https://github.com/google/protobuf/archive/v2.6.1.zip unzip protobuf-2.6.1.zip cd protobuf-2.6.1 tar zxvf protobuf.tar.gz cp tools/googletest/googletest-release-1.5.0.zip ./protobuf-2.6.1/ cd protobuf-2.6.1 mv googletest-release-1.5.0 gtest ./autogen.sh ./configure make -jn //多核编译[n为cpu核数] make check make install 配置git 缩写 1 2 cd tools/git/ cp .gitconfig ~/ 报错解决 skynet 编译报错 1 2 3 4 5 6 7 8 9 cc -shared -llua -L../skynet/3rd/lua/ -I/usr/local/include -o ../luaclib/webclient.so -fPIC -O3 -Wall -std=c99 -pedantic -I../skynet/3rd/lua webclient.c -L/usr/local/lib -lcurl webclient.c:29:10: fatal error: curl/curl.h: 没有那个文件或目录 29 | #include \u0026lt;curl/curl.h\u0026gt; | ^~~~~~~~~~~~~ compilation terminated. make[1]: *** [../luaclib/webclient.so] 错误 1 make[1]: 离开目录“/data/lw_gold/lualib-src” make: *** [deps] 错误 2 yum install libcurl-dev libcurl-devel skynet console 依赖安装 1 2 sudo yum -y install rlwrap sudo yum -y install nc redis 安装 redis5.0.4 gcc11 编译报错 参考url: https://github.com/daanx/mimalloc-bench/issues/19 1 2 redis build fails with multiple definition of SDS_NOINIT #19 更新版本到7.0.8 redis make test报错 1 2 3 4 5 6 7 make test You need tcl 8.5 or newer in order to run the Redis test wget http://downloads.sourceforge.net/tcl/tcl8.6.1-src.tar.gz cd ./tcl8.6.1/unix/ ./configure make make install mysql 安装 1 2 3 4 5 6 wget http://repo.mysql.com/mysql-community-release-el7-5.noarch.rpm sudo rpm -ivh mysql-community-release-el7-5.noarch.rpm sudo yum install mysql-server service mysqld start #为root添加远程连接的能力。链接密码为 “aaabbb”（不包括双引号） mysql\u0026gt; GRANT ALL PRIVILEGES ON *.* TO root@\u0026#34;%\u0026#34; IDENTIFIED BY \u0026#34;aaabbb\u0026#34;; ","permalink":"https://cfanzp.com/skynet-centos/","tags":["skynet"],"title":"在centos环境下搭建skynet运行环境"},{"categories":["docker"],"contents":"docker安装portainer portainner的安装非常简单，拉取镜像，创建容器，运行容器就搞定了。 测试环境 docker版本 1 2 docker version Docker version 20.10.7, build f0df350 portainer 安装使用 1 docker run -d -p 9000:9000 --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer 首选回顾一下docker的基本命令 docker基本命令 1 2 查看docker版本: docker version 查看docker基本信息: docker info 镜像命令 1 2 搜索镜像: docker search portainer 拉取镜像: docker pull portainer/portainer 容器命令 1 2 3 4 5 6 7 8 9 10 查看容器: docker ps -a | grep 进入容器: docker exec -it containerId(容器id)/containerName(容器名称) /bin/bash 退出容器: exit或ctrl+d 停止容器: docker stop containerId/containerName 启动容器: docker start containerId/containerName 删除容器: docker rm containerId/containerName 复制宿主机文件到容器：docker cp 宿主机目录及文件 容器名称:容器目录 创建容器:docker run -d -p 9000:9000 --name portainer --restart=always -v /var/run/docker.sock:/var/run/docker.sock -v portainer_data:/data portainer/portainer 查看启动成功的容器: docker ps 查看所有容器: docker ps -a 修改docker源 1 2 3 4 5 6 7 8 9 vim /etc/docker/daemon.json { \u0026#34;registry-mirrors\u0026#34;: [ \u0026#34;http://hub-mirror.c.163.com\u0026#34;, \u0026#34;https://docker.mirrors.ustc.edu.cn\u0026#34;, \u0026#34;https://registry.docker-cn.com\u0026#34; ] } 使用docker-compose启动nginx docker-compose安装 1 2 3 4 5 sudo curl -L \u0026#34;https://github.com/docker/compose/releases/download/1.27.4/docker-compose-$(uname -s)-$(uname -m)\u0026#34; -o /usr/local/bin/docker-compose # sudo chmod +x /usr/local/bin/docker-compose # 检查是否安装成功 docker-compose --version 启动默认实例后删除容器(目的是获取配置文件) 1 2 3 4 5 6 7 8 9 10 11 sudo docker run --name nginx -p 8080:80 -d nginx cd / sudo mkdir /data/dockerrun/nginx8080 cd /data/dockerrrun/nginx8080/ sudo docker cp nginx:/etc/nginx/nginx.conf . sudo docker cp nginx:/etc/nginx/conf.d . sudo docker cp nginx:/usr/share/nginx/html . sudo docker stop nginx sudo docker rm nginx 配置创建docker-compose-nginx.yml文件 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 sudo touch docker-compose-nginx.yml vim docker-compose-nginx.yml version: \u0026#39;3\u0026#39; services: nginx: container_name: nginx8080 image: nginx restart: always ports: - 8080:80 privileged: true volumes: - /etc/localtime:/etc/localtime:ro - /data/dockerrun/nginx8080/log/:/var/log/nginx - /data/dockerrun/nginx8080/conf.d:/etc/nginx/conf.d - /data/dockerrun/nginx8080/nginx.conf:/etc/nginx/nginx.conf:ro - /data/dockerrun/nginx8080/html:/usr/share/nginx/html 编写启动脚本 1 2 3 4 sudo touch start_nginx8080.sh sudo chmod +x start_nginx8080.sh vim start_nginx8080.sh sudo docker-compose -f docker-compose-nginx.yml up -d 启动脚本 1 ./start_nginx8080.sh 参考文档 docker 官方文档: https://docs.docker.com/reference/ docker 构建开发环境: https://zhuanlan.zhihu.com/p/440325928 docker中使用mysql: https://zhuanlan.zhihu.com/p/266534015 扩展 k8s集群单机部署: https://www.hyhblog.cn/2021/02/17/deployment-manual-k8s-for-newbee/ k8s集群搭建: https://zhuanlan.zhihu.com/p/363978095 docker与podman对比 podman: https://github.com/containers/podman docker私有仓库方案 aliyun仓库 coding: https://coding.net/help/docs/artifacts/quick-start/docker.html docker registry: https://cloud.tencent.com/developer/article/1676761 ","permalink":"https://cfanzp.com/docker-portainer/","tags":["portainer","docker"],"title":"docker安装portainer"},{"categories":["android"],"contents":"使用scrcpy投屏手机到电脑 android手机可以使用adb和scrcpy将手机投屏到电脑，可以实现use连接投屏和wifi投屏。 手机设置：手机设置打开调试模式 adb连接 1 2 3 adb list 查看设置 adb connect ip 连接手机 scrcpy -s deviceid 设备投屏 无线连接注意事项 底层相关配置的属性为：service.adb.tcp.port, \u0026gt;0 adbd将监听网络对应端口，\u0026lt;=-1将监听USB,USB连接电脑后执行下面的命令来设置端口 1 2 3 adb tcpip 5555 #成功提示： restarting in TCP mode port 5555 查看手机ip,连接无线 1 adb connect 192.168.2.139:5555 检查连接状况 1 adb devices 调试完后断开连接 1 adb disconnect 192.168.2.139:5555 重置端口 1 2 3 setprop service.adb.tcp.port -1 stop adbd start adbd 参考链接 如何将 Android 手机投屏在 Ubuntu/LinuxMint/Debian 上: https://www.jianshu.com/p/f52e142671f8 adb连接手机的2种方式: https://blog.csdn.net/qq_34329508/article/details/88704243 ","permalink":"https://cfanzp.com/scrcpy/","tags":["scrcpy"],"title":"使用scrcpy投屏手机到电脑"},{"categories":["硬件"],"contents":"Android TV Launcher 开源电视盒子启动器 AndroidTVLauncher: https://github.com/JackyAndroid/AndroidTVLauncher tv launcher: https://github.com/nielsvanvelzen/tv-launcher 扩展 各种电视盒子进入调试模式方法: https://zhuanlan.zhihu.com/p/439688223 ","permalink":"https://cfanzp.com/android-tv-launcher/","tags":["android","diy"],"title":"Android Tv Launcher"},{"categories":["os"],"contents":"Windows Server 2022安装体验 下载 下载与激活: https://www.orcy.net.cn/1882.html 1 2 3 slmgr -ipk WX4NM-KYWYW-QJJR4-XV3QB-6VM33 slmgr -skms kms.0t.net.cn slmgr -ato 下载地址: https://w7jj3-my.sharepoint.com/personal/pony_orcycloud_com/_layouts/15/download.aspx?SourceUrl=%2Fpersonal%2Fpony%5Forcycloud%5Fcom%2FDocuments%2FWindowsServer%2Fzh%2Dcn%5Fwindows%5Fserver%5F2022%5Fx64%5Fdvd%5F6c73507d%2Eiso vmware启动刚创建的虚拟系统报错 1 模块“DevicePowerOn”启动失败。 解决办法: https://blog.csdn.net/Ogita_rina/article/details/120622919 参考 硬件要求: https://learn.microsoft.com/zh-cn/windows-server/administration/performance-tuning/ 安装教程: https://zhuanlan.zhihu.com/p/549580653 ","permalink":"https://cfanzp.com/windows-server-2022/","tags":["windows"],"title":"Windows Server 2022安装体验"},{"categories":["centos","linux"],"contents":"Centos yum安装提示无可用包 centos 在使用yum安装软件的时候，有时候会提示无可用包，这个时候可以先安装一下epel-release软件包， epel(extra packages for enterprise linux)是基于fedora的一个项目，为红毛系列提供额外的软件包，适用于RHEL,CentOS。 例如安装htop 提示无可用包 1 yum -y install htop 解决方案 1 2 yum -y install epel-release yum -y install htop ","permalink":"https://cfanzp.com/centos-epel-release/","tags":["centos","yum"],"title":"Centos yum安装提示无可用包"},{"categories":["硬件","android"],"contents":"小米盒子4se精简笔记 小米盒子4se使用有一段时间了，盒子里面的UI太复杂了，不太好用，小米盒子使用的是Android系统，在调试模式下，可以使用Adb进入调试模式，设置当贝桌面或其它简介桌面，卸载掉不需要的app 打开调试模式 遥控在产品型号上连按6次。 在账号与安全设置中开启ADB调试。 adb连接设备 我这里是电脑和手机都使用wifi连的一个局域网,查看设备的ip,例如：192.168.2.50 连接设备 1 adb connect 192.168.2.50 查看设备连接状态 1 2 3 adb devices List of devices attached 192.168.2.50:5555\tdevice 查看当前设备中安装的app 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 adb shell pm list packages package:com.mitv.screensaver package:com.xiaomi.account package:com.mitv.tvhome package:com.mitv.alarmcenter package:com.xiaomi.gamecenter.sdk.service.mibox package:com.mitv.codec.update package:com.mitv.shoplugin package:com.miui.systemAdSolution package:com.miui.daemon package:com.xiaomi.mitv.settings package:com.xiaomi.mitv.providers.settings package:com.xiaomi.mitv.mediaexplorer package:com.xiaomi.mitv.systemui package:com.xiaomi.mibox.lockscreen package:com.mitv.videoplayer package:com.xiaomi.screenrecorder package:com.xiaomi.mitv.smartshare package:com.xiaomi.voicecontrol package:com.xiaomi.tv.nameservice package:com.xiaomi.mimusic2 package:com.xiaomi.upnp package:com.xiaomi.miplay package:com.xiaomi.devicereport package:com.mitv.mivideoplayer package:com.mitv.gallery package:com.miui.tv.analytics package:com.xiaomi.statistic package:com.mitv.care package:com.xiaomi.mitv.remotecontroller.service package:com.xiaomi.account.auth package:com.miui.core package:com.xiaomi.mitv.tvmanager 查看当前设备中安装的和小米有关的主要app 1 adb shell pm list packages | grep mi 安装当贝桌面 1 adb install ./dbzm.apk 卸载com.miui.systemAdSolution 1 adb shell pm uninstall --user 0 com.miui.systemAdSolution 其它需要卸载的app方法同上。 参考资料 小米盒子精简教程: https://www.znds.com/tv-1181689-1-1.html ","permalink":"https://cfanzp.com/xiaomi-box-4se/","tags":["电视盒子","android"],"title":"小米盒子4se精简笔记"},{"categories":["硬件","android"],"contents":"华为悦盒Ec6108v9刷机笔记 ` 昨天把自己淘的一款EC6108V9的华为盒子刷成了全网通。刷机过程很简单。 硬件信息 1 2 3 4 处理器：采用了海思Hi3798M芯片 内存存储：1 GB RAM，8GB Flash； 视频：支持 1080p ，4K； 接口：1 × USB 2.0，1× 10/100 Mbit/s Base-T RJ45 Ethernet port，1 × DC power input port，1 × power switch for power on/off 刷机过程 把下载的固件包https://pan.baidu.com/s/15gTwsIEab6NhQ6BEpkGWVw(固件2)放入格式化成fat32的U盘。 我用的是4G老U盘,其它U盘没测试过。 盒子恢复出厂设置。 盒子插U盘，电源线。 盒子开机不停按遥控左右键,进入刷机模式。 进入刷机界面选择从存储恢复。 刷机成功了，进去是沙发桌面，还比较干净，没有广告。再装上当贝市场，电视软件就可以的，刷玩是android系统，可以从u盘安装软件，还是比较方便的。 盒子声音问题 刷完盒子，发现盒子的AV接口直接插音箱会有很大的电流声音，使用其它盒子就没有这个问题。有空排查一下是什么原因。如果声音问题是硬件坏了的话，有空就把它刷成nas算了。 解决方案:可以购买一个AV音频转接线: https://mobile.yangkeduo.com/goods1.html?goods_id=226836410960\u0026page_from=101\u0026pxq_secret_key=BLRO4V7QXVSILOO667QH5HX5K56ZQP7AKCX4QQUIHS6ZKIYBSCWQ\u0026share_uin=TITWOCCLHOTYDOY5T5KUQFADTE_GEXDA\u0026refer_share_id=224acbacc53142edaff9bcdaabebff1b\u0026refer_share_uin=TITWOCCLHOTYDOY5T5KUQFADTE_GEXDA\u0026refer_share_channel=copy_link\u0026refer_share_form=text 相关视频: https://www.bilibili.com/video/av64877591/?vd_source=5cbf24b674b5b4183e6f626cd037b179 刷电视盒子 刷电视盒子: http://www.shafa.com/methods/huawei_53/ 相关参数: https://detail.zol.com.cn/1241/1240581/param.shtml 刷linux: https://blog.csdn.net/toopoo/article/details/127692794 抖音刷机教程: https://www.douyin.com/video/7152482822098259238 上海电信刷机: https://www.znds.com/tv-1187568-1-1.html 刷NAS https://zhuanlan.zhihu.com/p/547526217?utm_id=0 救砖教程 https://www.znds.com/tv-1212279-1-1.html EC6108v9U带刷机包 https://www.bilibili.com/video/BV1o34y1J7b1/?spm_id_from=333.788.recommend_more_video.1\u0026vd_source=5cbf24b674b5b4183e6f626cd037b179 如何刷nas? https://www.ecoo.top/docs/tutorial-basics/adb-flash ","permalink":"https://cfanzp.com/huawei-ec6108v9/","tags":["电视盒子","android"],"title":"华为悦盒Ec6108v9刷机笔记"},{"categories":["vim"],"contents":"nvim的安装与使用 nvim 是vim的一个分支 nvim nvim稳定版本下载地址: https://github.com/neovim/neovim/releases/tag/stable 官网地址: https://neovim.io/ 安装 centos安装Neovim 安装官方编译的程序 先下载nvim-linux64.tar.gz:https://github.com/neovim/neovim/releases/tag/stable 1 2 3 4 tar xvf nvim-linux64.tar.gz mv nvim-linux64 /usr/local/ cd /bin ln -s /usr/local/nvim-linux64/bin/nvim nvim 安装遇到问题 打开nvim提示: 1 2 ./nvim: /lib64/libc.so.6: version `GLIBC_2.28\u0026#39; not found (required by ./nvim) ./nvim: /lib64/libm.so.6: version `GLIBC_2.29\u0026#39; not found (required by ./nvim) 这个问题需要安装对应的GLIBC库，安装过程中可能又会遇到其它问题。如果遇到这个问题建议更换安装方法。 添加python3支持 1 pip3 install --user --upgrade pynvim yum安装 centos7 参考：https://github.bnblogs.cc/centos%E5%AE%89%E8%A3%85nvim/#%E5%AE%89%E8%A3%85cocnvim 1 2 yum install -y https://dl.fedoraproject.org/pub/epel/epel-release-latest-7.noarch.rpm yum install -y neovim python3-neovim 安装后的版本为0.3.1(官方最新版本已经为0.8.1),太老了。 1 yum remove neovim 常见问题 在tmux中使用neovim ESC反应慢 1 2 3 4 5 6 nvim ~/.tmux.conf set -s escape-time 0 #bash tmux source-file ~/.tmux.conf ubuntu安装Neovim 下载 1 2 3 sudo wget https://github.com/neovim/neovim/releases/download/v0.8.1/nvim-linux64.deb sudo apt remove neovim* sudo apt install nvim 安装方法2 1 sudo snap install nvim --classic 安装插件 如果之前安装过nvim，可以将自己的.config目录下的nvim配置打包压缩保存一下,.vim目录下的plugged也压缩保存一下 1 2 tar -xcvf nvim.tar.gz nvim tar -xcvf plugged.tar.gz plugged 在需要使用的服务器上上传相关配置和插件压缩包，或使用github,gitee等保存，然后同步下来 1 2 3 4 cd ~/.config/ tar -xzvf nvim.tar.gz cd ~/.vim/ tar -xzvf plugged.tar.gz 按装插件相关依赖 安装tagbar依赖ctags 使用yum安装 1 yum install ctags -y 安装fzf 通过源码安装，按提示操作 1 2 git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf ~/.fzf/install 安装完了之后不要忘记了更新一下bash 1 source ~/.bashrc 检查健康状况 可以使用checkhealth命令来检查nvim的配置是否正常，然后根据提示进行修正 1 checkhealth 例如提示python2相关错误 1 2 3 4 - ERROR: Neovim Python client is not installed. Error: unable to load neovim Python module - ADVICE: - Run in shell: pip2 install neovim python3安装neovim报错解决 1 2 3 pip3 install neovim greenlet.h:8:20: fatal error: Python.h: No such file or directory #99 yum install python3-devel FAQ 远程连接到linux服务器使用neovim的时候如何将neovim中的文本复制出来？ 1 shift + 鼠标是一种解决方案 ","permalink":"https://cfanzp.com/nvim/","tags":["vim","nvim"],"title":"nvim的安装与使用"},{"categories":["ubuntu"],"contents":"ubuntu 禁用密码登录 禁止密码登陆 修改配置文件 1 2 3 4 5 6 vim /etc/ssh/sshd_config # PasswordAuthentication yes PubkeyAuthentication yes 修改为 PasswordAuthentication no PubkeyAuthentication yes 重启ssh服务 1 service ssh reload ","permalink":"https://cfanzp.com/ubuntu-password/","tags":["ubuntu"],"title":"ubuntu 禁用密码登录"},{"categories":["linux","ubuntu","centos"],"contents":"Linux如何安装Homebrew? Ubuntu,Debian中安装Homebrew 安装基础依赖 1 sudo apt-get install build-essential procps curl file git 下载安装脚本 1 proxychains4 wget https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh 配置一下Homebrew仓库的镜像 1 2 3 4 vim ~/.bashrc export HOMEBREW_BREW_GIT_REMOTE=\u0026#34;https://mirrors.ustc.edu.cn/brew.git\u0026#34; export HOMEBREW_CORE_GIT_REMOTE=\u0026#34;https://mirrors.ustc.edu.cn/homebrew-core.git\u0026#34; export HOMEBREW_BOTTLE_DOMAIN=\u0026#34;https://mirrors.ustc.edu.cn/homebrew-bottles\u0026#34; 执行安装脚本 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 cfanzp@cfanzplinux:~$ ./install.sh ==\u0026gt; Found cURL: /usr/local/bin/curl ==\u0026gt; Setting HOMEBREW_DEVELOPER to use Git/cURL not in /usr/bin ==\u0026gt; Checking for `sudo` access (which may request your password)... ==\u0026gt; This script will install: /home/linuxbrew/.linuxbrew/bin/brew /home/linuxbrew/.linuxbrew/share/doc/homebrew /home/linuxbrew/.linuxbrew/share/man/man1/brew.1 /home/linuxbrew/.linuxbrew/share/zsh/site-functions/_brew /home/linuxbrew/.linuxbrew/etc/bash_completion.d/brew /home/linuxbrew/.linuxbrew/Homebrew ==\u0026gt; The following new directories will be created: /home/linuxbrew/.linuxbrew/bin /home/linuxbrew/.linuxbrew/etc /home/linuxbrew/.linuxbrew/include /home/linuxbrew/.linuxbrew/lib /home/linuxbrew/.linuxbrew/sbin /home/linuxbrew/.linuxbrew/share /home/linuxbrew/.linuxbrew/var /home/linuxbrew/.linuxbrew/opt /home/linuxbrew/.linuxbrew/share/zsh /home/linuxbrew/.linuxbrew/share/zsh/site-functions /home/linuxbrew/.linuxbrew/var/homebrew /home/linuxbrew/.linuxbrew/var/homebrew/linked /home/linuxbrew/.linuxbrew/Cellar /home/linuxbrew/.linuxbrew/Caskroom /home/linuxbrew/.linuxbrew/Frameworks 安装过程中遇到某些资源需要设置代理下载 1 2 alias proxy=\u0026#39;export all_proxy=socks5://192.168.2.128:1088;export http_proxy=socks5://192.168.2.128:1088;export https_proxy=socks5://192.168.2.128:1088;export no_proxy=socks5://192.168.2.128:1088; export ALL_PROXY=socks5://192.168.2.128:1088;export HTTP_PROXY=socks5://192.168.2.128:1088;export HTTPS_PROXY=socks5://192.168.2.128:1088;export NO_PROXY=socks5://192.168.2.128:1088\u0026#39; alias unproxy=\u0026#39;unset all_proxy; unset http_proxy; unset https_proxy;unset no_proxy; unset ALL_PROXY; unset HTTP_PROXY; unset HTTPS_PROXY;unset NO_PROXY\u0026#39; 相关资源 1 Downloading https://ghcr.io/v2/homebrew/portable-ruby/portable-ruby/blobs/sha256:fc45ee6eddf4c7a17f4373dde7b1bc8a58255ea61e6847d3bf895225b28d072a 安装完后设置brew的环境变量 1 2 echo \u0026#39;eval \u0026#34;$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\u0026#34;\u0026#39; \u0026gt;\u0026gt; $HOME/.bash_profile eval \u0026#34;$(/home/linuxbrew/.linuxbrew/bin/brew shellenv)\u0026#34; 使用brew 安装nvim 1 brew install nvim 参考文档 https://linux.cn/article-14065-1.html https://docs.brew.sh/Homebrew-on-Linux https://blog.csdn.net/qq_41437512/article/details/128172332 扩展 LunarVim: lunarvim.org/docs/keybind-overview LunarVim Github: https://github.com/LunarVim/LunarVim ","permalink":"https://cfanzp.com/linux-homebrew/","tags":["homebrew","brew"],"title":"Linux如何安装Homebrew?"},{"categories":["skynet","ubuntu"],"contents":"在ubuntu环境下搭建skynet运行环境 安装相关依赖 1 2 sudo apt-get install libtool sudo apt-get install zlib1g-dev 安装protobufv2.6.1 安装curl 1 ./configure --with-openssl 相关错误 1 fatal error: zlib.h: No such file or directory 找不到链接库 1 protoc: error while loading shared libraries: libprotoc.so.9: cannot open shared object file: No such file or directory 解决方法 1 sudo ldconfig ","permalink":"https://cfanzp.com/skynet-ubuntu/","tags":["skynet"],"title":"在ubuntu环境下搭建skynet运行环境"},{"categories":["mac"],"contents":"mac 安装brew 最近上手一款mac M1在安装brew的时候遇到了问题，发现安装下载失败，原因是最常见的源的原因，于是找到了一个镜像安装方法，非常方便的安装上去了。 1 /bin/zsh -c \u0026#34;$(curl -fsSL https://gitee.com/cunkai/HomebrewCN/raw/master/Homebrew.sh)\u0026#34; M1 brew安装报错解决方案 报错信息： 1 Mac M1 Brew install 报错Command failed with exit 128:git 解决方案 1 2 git config --global --add safe.directory /opt/homebrew/Library/Taps/homebrew/homebrew-cask git config --global --add safe.directory /opt/homebrew/Library/Taps/homebrew/homebrew-core 参考 https://www.jianshu.com/p/22122a1d4474 https://blog.csdn.net/qq_25404477/article/details/126102189 ","permalink":"https://cfanzp.com/mac-install-brew/","tags":["homebrew","brew"],"title":"Mac安装Brew"},{"categories":["android"],"contents":"Cocos Creator Android环境搭建 Android环境搭建 windows环境下 1. 下载jdk https://www.bookstack.cn/read/CocosCreatorV1.5.x/publish-publish-native.md https://docs.cocos.com/creator/manual/zh/editor/publish/setup-native-development.html 下载jdk需要账号登录怎么办?: https://blog.csdn.net/u010180815/article/details/96479701 下载的jdk为:jdk-8u351-windows-x64.exe 2. 配置JAVA_HOME环境变量 https://blog.csdn.net/qq_42017152/article/details/90732057 3. 下载安装Android Studio https://developer.android.google.cn/studio#downloads 解析出的windows下载地址为: https://r2---sn-ni57rn7k.gvt1.com/edgedl/android/studio/install/2021.3.1.17/android-studio-2021.3.1.17-windows.exe?cms_redirect=yes\u0026mh=P9\u0026mip=111.172.7.141\u0026mm=28\u0026mn=sn-ni57rn7k\u0026ms=nvh\u0026mt=1671528747\u0026mv=m\u0026mvi=2\u0026pl=16\u0026shardbypass=sd\u0026smhost=r2---sn-ni57rn7y.gvt1.com android studio:android-studio-2021.3.1.17-windows.exe 4. Windows环境下cocos-creator 配置原生路径为 ndk:C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk\\ndk\\25.1.8937393 android sdk: C:\\Users\\Administrator\\AppData\\Local\\Android\\Sdk JAVA_HOME:D:\\Java\\jdk1.8.0_351 vscode配置vim https://www.cnblogs.com/YunyaSir/p/15522565.html 1 2 3 4 5 6 7 8 9 10 11 \u0026#34;vim.insertModeKeyBindings\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;j\u0026#34;, \u0026#34;k\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;\u0026lt;Esc\u0026gt;\u0026#34; ] }, ], ubuntu20.04 安装android studio https://blog.csdn.net/ayiya_Oese/article/details/114999552 mac中cocos-creator环境搭建 mac m1 jdk下载 地址: https://www.oracle.com/cn/java/technologies/downloads/#jdk19-mac m1下的jdk环境下载： 1 https://www.azul.com/downloads/?version=java-8-lts\u0026amp;os=macos\u0026amp;architecture=arm-64-bit\u0026amp;package=jdk 安装cocos-creator 安装jdk,下载的jdk为 1 jdk-8u351-macosx-x64.dmg 安装Android-studio ndk安装路径 1 /Users/zp/Library/Android/sdk/ndk/25.1.8937393 mac安装python2 安装的时候遇到需要python2的问题找了一些资料如下: https://www.jianshu.com/p/9475bd8ec36e https://developer.aliyun.com/article/1050722 https://docs.cocos.com/creator/2.4/manual/zh/publish/short-tutorial-to-install-python.html 使用pyenv安装python2 1 Installed Python-2.7.18 to /Users/zp/.pyenv/versions/2.7.18 pyenv用法 https://www.cnblogs.com/wangxishan/p/6613746.html mac m1 android-studio 报错 1 Android Studio— Cause: error=86, Bad CPU type in executable 解决办法 Android Gradle Plugin版本升级4.2.2升级到7.1.2 mac m1安装python2 1 2 3 4 5 6 7 8 brew install pyenv pyenv install 2.7.18 export PATH=\u0026#34;$(pyenv root)/shims:${PATH}\u0026#34; pyenv global 2.7.18 python --version 如果一切顺利，将可以看到Python 2.8.18的输出。 需要将上述路径添加到环境变量里面，例如： echo \u0026#39;PATH=$(pyenv root)/shims:$PATH\u0026#39; \u0026gt;\u0026gt; ~/.zshrc 参考地址：https://www.wyr.me/post/658 ","permalink":"https://cfanzp.com/cocos-creator-android/","tags":["cocos-creator","android"],"title":"Cocos Creator Android"},{"categories":["ubuntu","mysql"],"contents":"如何在Ubuntu20.04上安装Mysql-Workbench? mysql-workbench是官方出的一款mysql管理工具，个人觉得没有navicat好用，但是最大的优点就是免费。 因为我这里使用的ubuntu版本是比较老的ubuntu20.04,需要在官方网站上下载对应比较老的安装包 下载地址 官方地址:https://downloads.mysql.com/archives/workbench/ 我下载的版本地址: 1 https://cdn.mysql.com/archives/mysql-workbench/mysql-workbench-community_8.0.29-1ubuntu20.04_amd64.deb 下载后安装命令 1 sudo dpkg -i ./mysql-workbench-community_8.0.29-1ubuntu20.04_amd64.deb 安装报错 报错内容 1 2 3 4 5 6 7 8 9 10 11 正在读取软件包列表... 完成 正在分析软件包的依赖关系树 正在读取状态信息... 完成 wget 已经是最新版 (1.20.3-1ubuntu2)。 wget 已设置为手动安装。 您也许需要运行“apt --fix-broken install”来修正上面的错误。 下列软件包有未满足的依赖关系： mysql-workbench-community : 依赖: libpcrecpp0v5 (\u0026gt;= 7.7) 但是它将不会被安装 依赖: libproj15 (\u0026gt;= 6.3.0) 但是它将不会被安装 依赖: libzip5 (\u0026gt;= 0.10) 但是它将不会被安装 E: 有未能满足的依赖关系。请尝试不指明软件包的名字来运行“apt --fix-broken install”(也可以指定一个解决办法)。 解决方案 1 sudo apt-get -f install 参考链接 https://www.cnblogs.com/wasi-991017/p/13702313.html ","permalink":"https://cfanzp.com/ubuntu-mysql-workbench/","tags":["mysql","mysql-workbench"],"title":"如何在Ubuntu20.04上安装Mysql-Workbench?"},{"categories":["os","deploy"],"contents":"Windows如何写一个脚本定时删除日志？ windows服务器维护时，经常需要定期删除日志，这里时一个删除7天前日志的脚本demo，配置定时任务，每天执行就可以了。 vim ./del_log.bat 1 2 @echo off forfiles -p F:\\log\\ -s -m *.log* -d -7 -c \u0026#34;cmd /c del @path\u0026#34; ","permalink":"https://cfanzp.com/windows-del-log/","tags":["windows"],"title":"Windows如何写一个脚本定时删除日志？"},{"categories":["ubuntu"],"contents":"ubuntu如何安装打印机驱动？ 这里以M7206w打印机为例 下载地址 https://newsupport.lenovo.com.cn/driveList.html?fromsource=driveList\u0026selname=M7206 安装方法： 1 2 sudo dpkg -i ./m7206wcupswrapper-3.0.1-1.i386.deb sudo dpkg -i ./m7206wlpr-3.0.1-1.i386.deb ","permalink":"https://cfanzp.com/ubuntu_printer/","tags":["ubuntu","printer"],"title":"ubuntu如何安装打印机驱动？"},{"categories":["i3wm","ubuntu"],"contents":"ubuntu i3使用alsamixer调节音量 在ubuntu上使用i3的时候看视频的时候需要调节系统的音量如何处理？方法就是使用alsamixer 在命令行输入alsamixer,就可以打开调节界面,支持jk调节音量大小，太棒了。 1 alsamixer 使用方法 1 h:查看帮助 命令行中使用amixer控制音量 音量调整到50% 1 amixer set Master 50% ","permalink":"https://cfanzp.com/i3-alsamixer/","tags":["ubuntu","alsamixer","i3wm"],"title":"ubuntu i3使用alsamixer调节音量"},{"categories":["redis"],"contents":"RedisBloom安装与使用 RedisBloom模块提供了四种数据类型： Bloom Filter (布隆过滤器) Cuckoo Filter（布谷鸟过滤器） Count-Mins-Sketch Top-K Bloom Filter和 Cuckoo 用于确定（以给定的确定性）集合中是否存在某项。 使用 Count-Min Sketch 来估算子线性空间中的项目数。 使用Top-K 维护K个最频繁项目的列表。 作用 RedisBloom能够解决缓存穿透的问题。 参考链接: http://c.biancheng.net/redis/cache.html 下载地址 https://github.com/RedisBloom/RedisBloom#building-and-loading-redisbloom 1 git clone https://github.com/RedisBloom/RedisBloom.git 编译redisbloom 1 make 编译报错 1 deps/readies/mk/main:6: *** GNU Make version is too old. Aborting.. Stop. 原因:make版本太低需要make\u0026gt;=4 下载make: http://mirrors.ustc.edu.cn/gnu/make/ 参考: https://blog.csdn.net/CLinuxF/article/details/108705142 1 2 3 4 5 6 wget http://mirrors.ustc.edu.cn/gnu/make/make-4.4.tar.gz tar -xzvf make-4.4.tar.gz ./configure --prefix=/usr/local/make make make install ln -s /usr/local/make/bin/make /usr/bin/make 修改redis配置文件redis.conf,添加如下内容 1 loadmodule /opt/RedisBloom/bin/linux-x64-release/redisbloom.so 官方文档 https://redis.io/docs/stack/bloom/quick_start/ 测试布隆过滤器 1 2 3 4 5 6 192.168.2.127:8001\u0026gt; BF.ADD testusers dev1 (integer) 1 192.168.2.127:8001\u0026gt; BF.EXISTS testusers dev2 (integer) 0 192.168.2.127:8001\u0026gt; BF.EXISTS testusers dev1 (integer) 1 测试布谷鸟过滤器 1 2 3 4 5 6 7 8 9 10 11 12 13 14 192.168.2.127:8001\u0026gt; CF.EXISTS newCuckooFilter foo (integer) 0 192.168.2.127:8001\u0026gt; CF.RESERVE newCuckooFilter 1000 OK 192.168.2.127:8001\u0026gt; CF.ADD newCuckooFilter foo (integer) 1 192.168.2.127:8001\u0026gt; CF.EXISTS newCuckooFilter foo (integer) 1 192.168.2.127:8001\u0026gt; CF.EXISTS newCuckooFilter notpresent (integer) 0 192.168.2.127:8001\u0026gt; CF.DEL newCuckooFilter foo (integer) 1 192.168.2.127:8001\u0026gt; CF.EXISTS newCuckooFilter foo (integer) 0 参考 https://www.cnblogs.com/yaopengfei/p/13928512.html https://redis.io/docs/stack/bloom/quick_start/ https://redis.io/docs/stack/bloom/ https://github.com/RedisBloom/ ","permalink":"https://cfanzp.com/redis-bloom/","tags":["redis","redisboom"],"title":"RedisBloom安装与使用"},{"categories":["ubuntu","linux","devtools"],"contents":"ubuntu好用的pdf阅读器Evince evince 在我看来是一款比较好用的pdf阅读器，主要原因在于支持vim模式的jk上下移动。ubuntu22.04上默认安装，其它linux发型版本暂时还未测试。这里记录一下。 github地址 1 https://github.com/ubuntu/evince ","permalink":"https://cfanzp.com/evince/","tags":["ubuntu","linux","devtools","evince","pdf"],"title":"ubuntu好用的pdf阅读器Evince"},{"categories":["硬件"],"contents":"键盘鼠标坏了，如何选择性价比更高？ 最近在家办公，把之前一直在家闲置的机械键盘拿出来用了，结果发现空格键失灵了，第二天干脆就罢工了。还好家里有备用键盘才不至于影响工作。 家里有几台电脑，键盘还是得备用几个于是我搜罗了一番，找到几个我自己觉得值得入手，且性价比高的(重点是便宜),这里记录一下。 键盘单买 罗技k120,59元: https://item.jd.com/262214.html 双飞燕kb-8U,49元: https://item.jd.com/131991.html#none 键鼠套装 双飞燕KBM-1000,55元: https://item.jd.com/785649.html#none 罗技mk120,79元: https://item.jd.com/584300.html 无线鼠标 最近发现一款比较好用的无线鼠标推荐给大家，就是罗技的M185/M186 2023年3月JD价格49元: https://item.jd.com/423478.html M185与M186的区别可以看这篇文章: https://zhidao.baidu.com/question/1643849893240903260.html 个人更推荐M185更省电 支持系统：windows,linux(kernel 2.6+),macOS 无线键盘 无线键盘推荐K270 2023年3月JD价格95元: https://item.jd.com/31830435844.html 缺点是官方说只支持windows 逻辑无线鼠标键盘注意事项 逻辑无线设备和接受器是分优联通版本和非优联通版本的。只有匹配上了才行。 支持优联通的设备上面有橙色的标志。 MK270键鼠套装(k270+M185)据说是优联通的。 MK275键鼠套装据说是非优联通的但是键盘上显示的仍然是k270,也就是说k275是无优联通的k270。 相关介绍可以参考这篇文章: https://post.smzdm.com/p/av8n4on9/ - 关于2种设备的匹配可以看这篇文章: https://post.smzdm.com/p/ax0rzp39/ ","permalink":"https://cfanzp.com/keyboard/","tags":["keyboard"],"title":"键盘鼠标坏了，如何选择性价比更高？"},{"categories":["linux","i3wm","ubuntu"],"contents":"如何在vmware中安装Ubuntu22.04并安装i3wm? 最近在家居家办公，公司电脑一直用的是linux系统，家里虚拟机里有个linux系统版本太低了，主要是和宿主机不能共享剪贴板，十分不方便，趁着这个机会把虚拟机里的系统升级一下。 下载地址: 网址:https://www.omgubuntu.co.uk/2022/01/ubuntu-22-04-release-features https://cn.ubuntu.com/download/desktop 资源地址1:https://releases.ubuntu.com/22.04/ubuntu-22.04.1-desktop-amd64.iso 资源地址2:https://releases.ubuntu.com/22.04/ubuntu-22.04-desktop-amd64.iso 安装i3 1 sudo apt-get install i3 安装xfreerdp2-x11 1 sudo apt-get install freerdp2-x11 安装vlc 1 sudo snap install vlc 安装sougou 1 2 3 4 https://cfanzp.com/ubuntu_sougou/ sudo dpkg -i sogoupinyin_4.0.1.2800_x86_64.deb sudo apt install libqt5qml5 libqt5quick5 libqt5quickwidgets5 qml-module-qtquick2 sudo apt install libgsettings-qt1 使用im-config配置输入法系统为fcitx 1 im-config 使用fcitx-configtools设置输入法 安装飞书 1 sudo dpkg -i Feishu-linux_x64-5.18.11.deb i3wm设置fcitx开机启动 1 2 vim ~/.config/i3/confg exec --no-startup-id fcitx 解决i3wm中无法与宿主机共享剪贴板的问题： 参考链接:https://www.jianshu.com/p/96db2abea667/ 1 2 3 sudo apt-get install open-vm-tools-desktop vim ~/.config/i3/confg exec --no-startup-id vmware-user-suid-wrapper ","permalink":"https://cfanzp.com/vm-install-ubuntu/","tags":["i3wm","ubuntu"],"title":"如何在vmware中安装Ubuntu22.04并安装i3wm"},{"categories":["deploy"],"contents":"解决oss跨域问题 解决方案： https://help.aliyun.com/knowledge_detail/39518.html?spm=a2c4g.11186623.0.0.22c84ce5tkW5bO 测试 1 curl -voa \u0026#39;https://cfanzp.com/test/test.png\u0026#39; -H \u0026#39;Origin:http://test.cfanzp.com/\u0026#39; ","permalink":"https://cfanzp.com/oss-core-error/","tags":["oss"],"title":"解决Oss跨域问题"},{"categories":["mac"],"contents":"Mac如何远程连接Windows 1. 使用microsoft-remote-desktop-for-mac Mac远程连接Windows的工具不多比较好用，且免费的，这里介绍一款:微软官方的Microsoft-remote-desktop-for-mac,下载地址: https://install.appcenter.ms/orgs/rdmacios-k2vy/apps/microsoft-remote-desktop-for-mac/distribution_groups/all-users-of-microsoft-remote-desktop-for-mac 微软官方地址: https://docs.microsoft.com/en-us/windows-server/remote/remote-desktop-services/clients/remote-desktop-mac 这里职能下载Bate版本，如果是要下载正式版本需要访问国外的app store,国内的app store是没法访问的。 下载后是一个zip压缩包解压后拖到应用程序界面就可以了。 2. 使用rdesktop(亲测可用) 安装rdesktop 推荐先安装macPorts 1 2 sudo brew install macPorts sudo port install rdesktop 使用X11报错,解决方案,安装XQuartz 1 2 UI(error): ui_init(), failed to open X11 display: brew install --cask XQuartz 重启后，配置DISPLAY环境变量 1 2 vim ~/.bash_profile DISPLAY=/private/tmp/com.apple.launchd.Tt4i2z07qg/org.macosforge.xquartz:0 参考: https://github.com/FreeRDP/FreeRDP/issues/993 值得注意的是rdesktop已经不再更新维护了 3. 使用xfreerdp 安装帮助:https://github.com/FreeRDP/FreeRDP/wiki/PreBuilds 1 2 3 4 sudo port install freerdp(不可用) #或者 brew install freerdp(可用) sudo ln -s /usr/local/bin/xfreerdp /opt/local/bin/xfreerdp 运行报错(重装，使用brew安装可用) 1 [19:46:08:143] [2900:06a80000] [ERROR][com.freerdp.core] - transport_connect_tls:freerdp_set_last_error_ex ERRCONNECT_TLS_CONNECT_FAILED [0x00020008] ","permalink":"https://cfanzp.com/mac-windows/","tags":["mac"],"title":"Mac如何远程连接Windows"},{"categories":["linux","vim"],"contents":"如何在centos7.6中源码安装Vim8? 卸载老版本的vim7.4 1 yum remove vim 下载vim8的源码 1 wget -O vim8.2.0139.zip https://github.com/vim/vim/archive/v8.2.0139.zip 安装新版本的vim8 1 2 3 4 5 6 unzip v8.2.0.139.zip unzip vim8.2.0139.zip \u0026amp;\u0026amp; cd vim-8.2.0139/src ./configure --prefix=/usr/local/vim8/ --enable-pythoninterp=yes --with-python-config-dir=/usr/lib64/python2.7/config make \u0026amp;\u0026amp; make install ln -s /usr/local/vim8/bin/vim /usr/bin/vim vim --version 配置vim,安装vim的依赖项目 1 2 3 4 5 6 sudo yum install -y yum-utils sudo yum-config-manager --add-repo=https://copr.fedorainfracloud.org/coprs/carlwgeorge/ripgrep/repo/epel-7/carlwgeorge-ripgrep-epel-7.repo sudo yum install -y ripgrep sudo yum install -y ctags #git clone --depth 1 https://github.com/junegunn/fzf.git ~/.fzf #~/.fzf/install 安装配置vim的插件(可以把自己之前配置好的插件打包保存下来，下次就不用再下载了) 1 2 3 4 5 6 7 8 9 #curl -fLo ~/.vim/autoload/plug.vim --create-dirs https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim #wget https://raw.githubusercontent.com/junegunn/vim-plug/master/plug.vim mkdir ~/.vim/ mkdir ~/.vim/autoload/ cp plug.vim ~/.vim/autoload cp plugged.tar.gz ~/.vim/ cd ~/.vim/ tar -xzvf plugged.tar.gz cd - ","permalink":"https://cfanzp.com/install-vim8/","tags":["vim","centos"],"title":"如何在centos7.6中源码安装Vim8?"},{"categories":["linux"],"contents":"watch命令的用法 使用watch命令查看文件game.log 大小的实时变化,3s刷新1次 1 watch -n3 ls -lh game.log 每3秒查看网络连接数变化(怀疑收到攻击时会比较有用） 1 watch -n3 \u0026#39;netstat -ntp |wc -l\u0026#39; 每5秒查看系统负载 1 watch -n5 \u0026#39;cat /proc/loadavg\u0026#39; 每1秒查看http连接数，确认是否收到CC攻击 1 watch -n 1 -d \u0026#39;pstree|grep http\u0026#39; 每3秒输出一次内存使用情况 1 watch -n 3 -d free -m 每5秒输出一次系统负载情况 1 watch -n 3 -d uptime ","permalink":"https://cfanzp.com/watch/","tags":["watch"],"title":"watch命令的用法"},{"categories":["ubuntu"],"contents":"ubuntu如何安装sougou? 下载 下载直接去官网下载就可以了，下载地址: https://shurufa.sogou.com/linux 安装 1 sudo dpkg -i sogoupinyin_4.0.1.2800_x86_64.deb 命令行执行下面的命令(解决输入法无法输入中文的问题) 1 2 sudo apt install libqt5qml5 libqt5quick5 libqt5quickwidgets5 qml-module-qtquick2 sudo apt install libgsettings-qt1 注意事项: Keyboard input method system选择 fcitx。重启系统。 ","permalink":"https://cfanzp.com/ubuntu_sougou/","tags":["ubuntu","sougou"],"title":"ubuntu如何安装sougou?"},{"categories":["linux"],"contents":"ubuntu如何2条命令快速更新chrome? 基本步骤 1 2 wget https://dl.google.com/linux/direct/google-chrome-stable_current_amd64.deb sudo dpkg -i ./google-chrome-stable_current_amd64.deb ","permalink":"https://cfanzp.com/ubuntu-chrome/","tags":["linux","ubuntu","chrome"],"title":"ubuntu如何2条命令快速更新chrome?"},{"categories":["linux"],"contents":"svn服务器搭建 centos 安装命令 1 sudo yum install subversion 创建目录 1 2 3 sudo mkdir /data/svn/ #创建svn版本库 sudo svnadmin create /data/svn/doc 查看启动服务文件 1 /usr/lib/systemd/system/svnserve.service 修改启动配置文件,修改OPTION参数 1 2 vim /etc/sysconfig/svnserve OPTIONS=\u0026#34;-r /data/svn\u0026#34; 修改目录配置文件 配置文件目录 1 /data/svn/doc/conf 修改密码,passwd文件,users节点下添加,test帐号密码123 1 test=123 修改authz文件，加入用户权限 1 2 [/] test =rw 修改svn权限 1 2 3 4 5 vim svnserve.conf anon-access = none #不允许匿名用户访问 auth-access = write #通过验证的用户可以读和写 password-db = passwd #用户与密码对应的数据保存在passwd文件中 authz-db = authz #权限的信息保存在文件authz中 访问地址 1 svn://ip svn拉取代码 1 svn checkout git@xxx/doc --username aaa --password bbb 总结 平时工作中，大部分项目是使用的git作为源码管理工具。也有少数项目使用的是svn。 策划文档，很多团队更喜欢用svn。 学会搭建svn服务器，并熟练使用svn命令操作是十分有必要的。 参考文档 https://blog.csdn.net/chenxizhan1995/article/details/110687345 https://www.cnblogs.com/qffxj/p/12061270.html ","permalink":"https://cfanzp.com/svn_server/","tags":["linux","svn"],"title":"linux svn服务器搭建"},{"categories":["vim"],"contents":"vim常用技巧 如何在多行结尾添加内容？ 有的时候想把列表改成表格，这个时候，想在每行行末加上|怎么加呢，这里利用可视模式来解决问题: 可视模式选中所有的行 :进入底行模式 s/$/|/gc 如果是想在行首插入|可以用列模式或者把第3步的$换成^ 如何复制当前的单词到底行模式？ 命令模式用yw复制单词 :进入底行模式 Ctrl+r+Ctrl+w粘贴 1 2 3 yw : Ctrl+R+Ctrl+w 如何复制当前行到底行模式？ 命令模式用yy复制当前行 :进入底行模式 Ctrl+r+\u0026quot;粘贴 1 2 3 yw : Ctrl+r+\u0026#34; 命令模式用yw复制单词 寄存器的使用 在 Vim 中，可以使用寄存器别名来方便地访问和操作不同的寄存器。以下是一些常用的寄存器别名： \u0026ldquo;a - \u0026ldquo;z：小写字母寄存器。可以使用这些寄存器进行复制、剪切和粘贴操作。 \u0026ldquo;A - \u0026ldquo;Z：大写字母寄存器。与小写字母寄存器类似，但是在执行复制或剪切操作时，会追加到当前寄存器的内容后面。 \u0026ldquo;0：数字 0 寄存器。保存最近复制的文本。可以使用 \u0026ldquo;0p 命令将其粘贴。 \u0026ldquo;.：点号寄存器。保存最近插入的文本。可以使用 `\u0026rdquo;.\u0026rdquo; 命令在插入模式下将其插入到光标位置。 \u0026ldquo;%：百分号寄存器。保存当前文件名。可以使用 \u0026ldquo;%p 命令将文件名粘贴到光标位置。 \u0026ldquo;_：无名寄存器。用于丢弃不需要的复制或删除操作。 \u0026ldquo;* 和 \u0026ldquo;+：系统剪贴板寄存器。在支持系统剪贴板的环境中，可以使用这两个寄存器与外部应用程序共享剪贴板内容。 使用寄存器别名时，可以将其与 Vim 命令和操作符一起使用，例如 \u0026ldquo;\u0026lt;寄存器别名\u0026gt;yy 复制一行并将其保存到指定的寄存器中，\u0026quot;\u0026lt;寄存器别名\u0026gt;p 将寄存器内容粘贴到光标位置等。 要查看当前寄存器的内容，可以执行 :registers 命令或 \u0026ldquo;\u0026lt;寄存器别名\u0026gt;Ctrl+R 快捷键。 这些是 Vim 中常用的一些寄存器别名，可以根据实际需求进行调整和使用。 在光标处输出文件名 1 \u0026#34;%p 在底行模式处输出文件名 1 CTRL+R+% 在光标处输出最近复制的文本 1 \u0026#34;0p 在底行模式处输出文件名 1 CTRL+R+0 ","permalink":"https://cfanzp.com/vim-skill-normal/","tags":["vim"],"title":"vim常用技巧"},{"categories":["linux","nginx"],"contents":"如何使用Ubuntu linux使用nginx部署简单的静态网站? 基本步骤 Ubuntu 使用linux部署简单的静态网页主要分为以下几步: 安装nginx 配置nginx 将网站放入nginx配置对应的网站目录 启动nginx 测试网站是否正常 安装nginx 1 2 3 sudo apt install nginx #安装后查看nginx版本: nginx -v 配置nginx 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 vim /etc/nginx/sites-enabled/default # Default server configuration # server { listen 80 default_server; listen [::]:80 default_server; # SSL configuration # # listen 443 ssl default_server; # listen [::]:443 ssl default_server; # # Note: You should disable gzip for SSL traffic. # See: https://bugs.debian.org/773332 # # Read up on ssl_ciphers to ensure a secure configuration. # See: https://bugs.debian.org/765782 # # Self signed certs generated by the ssl-cert package # Don\u0026#39;t use them in a production server! # # include snippets/snakeoil.conf; root /var/www/html; # Add index.php to the list if you are using PHP index index.html index.htm index.nginx-debian.html; server_name _; location / { # First attempt to serve request as file, then # as directory, then fall back to displaying a 404. try_files $uri $uri/ =404; } # pass PHP scripts to FastCGI server # #location ~ \\.php$ { #\tinclude snippets/fastcgi-php.conf; # #\t# With php-fpm (or other unix sockets): #\tfastcgi_pass unix:/var/run/php/php7.4-fpm.sock; #\t# With php-cgi (or other tcp sockets): #\tfastcgi_pass 127.0.0.1:9000; #} # deny access to .htaccess files, if Apache\u0026#39;s document root # concurs with nginx\u0026#39;s one # #location ~ /\\.ht { #\tdeny all; #} } 检查配置文件是否成功 1 sudo nginx -t 部署网站到网站目录 1 2 cd /var/www/html ... 重启nginx 1 sudo systemctl restart nginx ","permalink":"https://cfanzp.com/ubuntu-nginx/","tags":["linux","ubuntu","nginx"],"title":"如何使用Ubuntu linux使用nginx部署简单的静态网站?"},{"categories":["linux","lua","skynet"],"contents":"lua中给日志关键字加上颜色 控制文本颜色的ANSI转义序列 通用的控制文本颜色的转义序列格式如下： 1 CSI n1 [;n2 [;…]] m 其中CSI全称为“控制序列引导器”（Control Sequence Introducer/Initiator），也就是上述示例中的\u0026quot;\\033[\u0026quot;； n1、n2等表示SGR参数（下面会列出一些常用的SGR参数），用于控制颜色、粗体、斜体、闪烁等文本输出格式； m表示转义序列结束。 依次输出黑红绿黄蓝紫青白 1 2 3 4 5 6 7 8 echo -e \u0026#34;\\033[30mBlack Text\\033[0m\u0026#34; echo -e \u0026#34;\\033[31mRed Text\\033[0m\u0026#34; echo -e \u0026#34;\\033[32mGreen Text\\033[0m\u0026#34; echo -e \u0026#34;\\033[33mYellow Text\\033[0m\u0026#34; echo -e \u0026#34;\\033[34mBlue Text\\033[0m\u0026#34; echo -e \u0026#34;\\033[35mMagenta Text\\033[0m\u0026#34; echo -e \u0026#34;\\033[36mCyan Text\\033[0m\u0026#34; echo -e \u0026#34;\\033[37mWhite Text\\033[0m\u0026#34; 编码含义 编码 含义 0 关闭所有格式，还原为初始状态 1 粗体/高亮显示 2 模糊 3 斜体 4 下划线 5 闪烁（慢） 6 闪烁（快） 7 交换背景色与前景色 8 隐藏（伸手不见五指，啥也看不见） 30-37 前景色 40-47 背景色 前景色编码含义 前景色编码 含义 30 黑色 31 红色 32 绿色 33 黄色 34 蓝色 35 紫色 36 青色 37 白色 背景色编码含义 背景色编码 含义 40 黑色 41 红色 42 绿色 43 黄色 44 蓝色 45 紫色 46 青色 47 白色 在lua中打印带颜色的日志 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 local function logger(str,color) return function(...) skynet.error(string.format(\u0026#34;%s%s\\x1b[0m\u0026#34;, color, str), ...) end end -- 把DEBUG日志打印成蓝色 local DEBUG = logger(\u0026#34;[D]\u0026#34;, \u0026#34;\\x1b[34m\u0026#34;) -- 把INFO日志打印成绿色 local INFO = logger(\u0026#34;[I]\u0026#34;, \u0026#34;\\x1b[32m\u0026#34;) -- 把WARN日志打印成白色 local WARN = logger(\u0026#34;[W]\u0026#34;, \u0026#34;\\x1b[33m\u0026#34;) -- 把错误日志打印成红色 local ERROR = logger(\u0026#34;[E]\u0026#34;, \u0026#34;\\x1b[31m\u0026#34;) DEBUG(\u0026#34;this is a debug log\u0026#34;) 参考资料 https://www.cnblogs.com/opangle/p/4082692.html ","permalink":"https://cfanzp.com/terminal-color/","tags":["linux","lua","skynet","terminal"],"title":"lua中给日志关键字加上颜色"},{"categories":["tools"],"contents":"Hugo主题FixIt 之前一直在用的是LoveIt主题,最近在搜索LoveIt主题的用法时，偶尔发现了FixIt主题，因为LoveIt已经有很久没有更新了，而FixIt主题是LoveIt主题的fork版本。目前我的主题已经切换到了FixIt主题了。 为什么会换成FixIt主题? 我换成FixIt主题的主要原因有以下几点原因。 1. 支持mermaid 这个遇到要画图的场景还是特别的有用的，具体可以参考一下这篇文章，介绍得非常清楚了: https://pre.fixit.lruihao.cn/zh-cn/extended-shortcode-mermaid/ graph 1 2 3 4 5 6 {{\u0026lt; mermaid \u0026gt;}} graph LR Hugo--\u0026gt;FixIt FixIt--\u0026gt;支持子菜单 FixIt--\u0026gt;支持memaid {{\u0026lt; /mermaid \u0026gt;}} 效果图: pie饼图: 1 2 3 4 5 6 {{\u0026lt; mermaid \u0026gt;}} pie \u0026#34;Linux\u0026#34; : 15 \u0026#34;Skynet\u0026#34; : 8 \u0026#34;Vim\u0026#34; : 6 {{\u0026lt; /mermaid \u0026gt;}} 2. 支持echats 2. config配置支持添加公安备案 3. 配置文件更加简洁 4. 菜单更友好 菜单支持icon 可以配置二级菜单,二级菜单设置好parent属性，parent的值设置为父级菜单的identifier属性就可以了。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 [menu] [[menu.main]] identifier = \u0026#34;posts\u0026#34; # you can add extra information before the name (HTML format is supported), such as icons pre = \u0026#34;\u0026#34; # you can add extra information after the name (HTML format is supported), such as icons post = \u0026#34;\u0026#34; name = \u0026#34;所有文章\u0026#34; url = \u0026#34;/posts/\u0026#34; # title will be shown when you hover on this menu link title = \u0026#34;\u0026#34; weight = 1 [menu.main.params] icon = \u0026#34;fa-solid fa-archive\u0026#34; [[menu.main]] identifier = \u0026#34;categories\u0026#34; pre = \u0026#34;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;分类\u0026#34; url = \u0026#34;/categories/\u0026#34; title = \u0026#34;\u0026#34; weight = 2 [menu.main.params] icon = \u0026#34;fa-solid fa-th\u0026#34; [[menu.main]] parent = \u0026#34;categories\u0026#34; identifier = \u0026#34;linux\u0026#34; pre = \u0026#34;\u0026lt;i class=\u0026#39;fa-brands fa-readme fa-fw fa-sm\u0026#39;\u0026gt;\u0026lt;/i\u0026gt;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;linux\u0026#34; url = \u0026#34;/categories/linux/\u0026#34; title = \u0026#34;\u0026#34; weight = 201 [[menu.main]] parent = \u0026#34;categories\u0026#34; identifier = \u0026#34;skynet\u0026#34; pre = \u0026#34;\u0026lt;i class=\u0026#39;fa-brands fa-readme fa-fw fa-sm\u0026#39;\u0026gt;\u0026lt;/i\u0026gt;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;skynet\u0026#34; url = \u0026#34;/categories/skynet/\u0026#34; title = \u0026#34;\u0026#34; weight = 202 [[menu.main]] parent = \u0026#34;categories\u0026#34; identifier = \u0026#34;vim\u0026#34; pre = \u0026#34;\u0026lt;i class=\u0026#39;fa-brands fa-readme fa-fw fa-sm\u0026#39;\u0026gt;\u0026lt;/i\u0026gt;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;vim\u0026#34; url = \u0026#34;/categories/vim/\u0026#34; title = \u0026#34;\u0026#34; weight = 203 [[menu.main]] parent = \u0026#34;categories\u0026#34; identifier = \u0026#34;development-manual\u0026#34; pre = \u0026#34;\u0026lt;i class=\u0026#39;fa-brands fa-readme fa-fw fa-sm\u0026#39;\u0026gt;\u0026lt;/i\u0026gt;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;开发手册\u0026#34; url = \u0026#34;/categories/development-manual/\u0026#34; title = \u0026#34;\u0026#34; weight = 204 [[menu.main]] identifier = \u0026#34;tags\u0026#34; pre = \u0026#34;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;标签\u0026#34; url = \u0026#34;/tags/\u0026#34; title = \u0026#34;\u0026#34; weight = 3 [menu.main.params] icon = \u0026#34;fa-solid fa-tags\u0026#34; [[menu.main]] identifier = \u0026#34;about\u0026#34; pre = \u0026#34;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;关于\u0026#34; url = \u0026#34;/about/\u0026#34; title = \u0026#34;\u0026#34; weight = 7 [menu.main.params] icon = \u0026#34;fa-solid fa-user-tie\u0026#34; [[menu.main]] identifier = \u0026#34;search\u0026#34; pre = \u0026#34;\u0026lt;i class=\u0026#39;fas fa-fw fa-search\u0026#39;\u0026gt;\u0026lt;/i\u0026gt;\u0026#34; post = \u0026#34;\u0026#34; name = \u0026#34;搜索\u0026#34; url = \u0026#34;/search/\u0026#34; title = \u0026#34;搜索\u0026#34; weight = 8 echats demo demo1: demo2: demo3: demo4: 总结 目前我自己也只是粗略地了解了一下Hugo和它的FixIt主题，其中还有许多细节的东西还不是特别地清楚。后续有空了再折腾一下细节。 参考 https://pre.fixit.lruihao.cn/zh-cn/posts/ https://lruihao.cn/posts/ https://pre.fixit.lruihao.cn/zh-cn/extended-shortcode-echarts/ ","permalink":"https://cfanzp.com/hugo-theme-fixit/","tags":["hugo","fixit"],"title":"Hugo主题FixIt简单介绍"},{"categories":["linux","code","deploy"],"contents":"linux中使用脚本关闭进程 关闭进程脚本 通过ps命令，grep命令以及awk命令找到进程的pid 使用kill命令关闭进程 脚本demo: 1 2 3 4 5 6 7 8 9 10 11 12 13 rootot@dev doc]# cat stop_mdbook_doc.sh #!/bin/bash kill_pid=`ps -ef | grep mdbook | grep 4001 | grep -v grep | awk \u0026#39;{print $2}\u0026#39;` echo \u0026#34;pid = \u0026#34;${kill_pid} if [ -n \u0026#34;${kill_pid}\u0026#34; ] then kill -9 ${kill_pid} echo \u0026#34;mdbook 4001 pid:\u0026#34;${kill_pid}\u0026#34;进程已kill成功\u0026#34; else echo \u0026#34;mdbook 4001 进程已不存在\u0026#34; fi [root@dev doc]# ","permalink":"https://cfanzp.com/linux-stop-process/","tags":["linux","terminal"],"title":"linux中使用脚本关闭进程"},{"categories":["devtools","vim"],"contents":"如何在terminal中使用Joplin并像vim一样移动? 安装 mac 安装方法 1 2 3 4 5 6 brew install node NPM_CONFIG_PREFIX=~/.joplin-bin npm install -g joplin sudo ln -s ~/.joplin-bin/bin/joplin /usr/bin/joplin [zp@localhost bin]$ sudo ln -s ~/.joplin-bin/bin/joplin /usr/bin/joplin ln: /usr/bin/joplin: Read-only file system sudo ln -s ~/.joplin-bin/bin/joplin /usr/local/bin/joplin ubuntu 安装方法 1 2 3 #Important: First, install Node 12+. NPM_CONFIG_PREFIX=~/.joplin-bin npm install -g joplin sudo ln -s ~/.joplin-bin/bin/joplin /usr/bin/joplin 我安装的时候nodejs版本是:v10.19.0,建议按官方要求使用Node 12+ 进入 1 joplin 配置文件同步 同步方式建议用文件同步，尝试了用坚果云的WebDav同步效果不是很好，手机可以采用WebDav,电脑还是用文件同步更稳定些。 1 2 :config sync.target 2 :config sync.2.path /home/cfanzp/jgy/joplin 配置将会被保存在下面文件中 1 ~/.config/joplin/settings.json 快捷键配置 1 ~/.config/joplin/keymap.json 快捷键配置demo keymap.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 [ { \u0026#34;keys\u0026#34;: [\u0026#34;:\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;enter_command_line_mode\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;TAB\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;focus_next\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;SHIFT_TAB\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;focus_previous\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;UP\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;move_up\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;DOWN\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;move_down\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;PAGE_UP\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;page_up\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;PAGE_DOWN\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;page_down\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;ENTER\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;activate\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;DELETE\u0026#34;, \u0026#34;BACKSPACE\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;delete\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34; \u0026#34;], \u0026#34;command\u0026#34;: \u0026#34;todo toggle $n\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;n\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;next_link\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;b\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;previous_link\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;o\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;open_link\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;tc\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;toggle_console\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;tm\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;toggle_metadata\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;/\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;search \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;mn\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;mknote \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;mt\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;mktodo \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;mb\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;mkbook \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;yn\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;cp $n \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;dn\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;mv $n \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 } ] vim快捷键配置demo keymap.json 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 [ { \u0026#34;keys\u0026#34;: [\u0026#34;:\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;enter_command_line_mode\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;TAB\u0026#34;,\u0026#34;l\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;focus_next\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;SHIFT_TAB\u0026#34;,\u0026#34;h\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;focus_previous\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;UP\u0026#34;,\u0026#34;k\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;move_up\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;DOWN\u0026#34;,\u0026#34;j\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;move_down\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;PAGE_UP\u0026#34;,\u0026#34;{\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;page_up\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;PAGE_DOWN\u0026#34;,\u0026#34;}\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;page_down\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;ENTER\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;activate\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;DELETE\u0026#34;, \u0026#34;BACKSPACE\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;delete\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34; \u0026#34;], \u0026#34;command\u0026#34;: \u0026#34;todo toggle $n\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;tc\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;toggle_console\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;tm\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;toggle_metadata\u0026#34; }, { \u0026#34;keys\u0026#34;: [\u0026#34;/\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;search \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;mn\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;mknote \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;mt\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;mktodo \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;mb\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;mkbook \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;yn\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;cp $n \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 }, { \u0026#34;keys\u0026#34;: [\u0026#34;dn\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;mv $n \\\u0026#34;\\\u0026#34;\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -2 } ] vim快捷键添加e进入Vim编辑 1 { \u0026#34;keys\u0026#34;: [\u0026#34;ENTER\u0026#34;,\u0026#34;e\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;function\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;activate\u0026#34; }, vim快捷键添加q退出 1 { \u0026#34;keys\u0026#34;: [\u0026#34;dn\u0026#34;], \u0026#34;type\u0026#34;: \u0026#34;prompt\u0026#34;, \u0026#34;command\u0026#34;: \u0026#34;exit\u0026#34;, \u0026#34;cursorPosition\u0026#34;: -1 } 主要快捷键 key note cmd hjkl 移动 - (SPACE) 完成todo项目 :todo toggle $n / 搜索 :search mn make note 创建笔记 :mknote mt make todo 创建待办 :mktodo mb make book 创建笔记本 :mkbook yn cp当前项目 cp $n dn 删除当前项目 :mv $n q 退出 :exit 配置默认编辑器为Vim 在命令行中执行: 1 joplin config editor \u0026#34;/usr/bin/vim\u0026#34; 或在jopliin内部命令行模式 1 :config editor \u0026#34;/usr/bin/vim\u0026#34; 参考 https://joplinapp.org/terminal https://zhuanlan.zhihu.com/p/107334649 ","permalink":"https://cfanzp.com/joplin-terminal/","tags":["joplin","devtools","vim","terminal"],"title":"如何在terminal中使用Joplin并像vim一样移动?"},{"categories":["others"],"contents":"开发者注意健康饮食习惯 图片来源:腾讯医典,如有侵权，请联系本站删除。 ","permalink":"https://cfanzp.com/health-ls/","tags":["health"],"title":"开发者需要注意健康饮食习惯之一"},{"categories":["language"],"contents":"lua-pbc(lua的protobuf库)如何使用？ lua-pbc是什么? lua-pbc,即lua protocol buffer fro c,是云风写的一个给lua使用的protobuf封包解包的库,如果你想用skynet来写游戏等服务端应用，lua-pbc是不错的选择。 lua-pbc github地址为: https://github.com/cloudwu/pbc 关于pbc的设计，大家可以看一下云风的博客: https://blog.codingnow.com/2011/12/protocol_buffers_for_c.html lua-pbc如何使用？ 这里有几个接个api需要熟悉一下 编写protobuf的proto文件 User.proto 1 2 3 4 package tutorial; message User { optional string name = 1; } 引入模块protobuf 1 local pb = require \u0026#34;protobuf\u0026#34; 注册文件 1 pb.register_file \u0026#34;User.pb\u0026#34; encode 1 2 3 4 local msg_table = { name = \u0026#34;test1\u0026#34; } pb.encode(\u0026#34;tutorial.User\u0026#34;,msg_table}, decode 1 local msg_table = pb.decode(\u0026#34;tutorial.Person\u0026#34;, buf) 使用感受 lua-pbc使用了很长一段时间，官方skynte升级支持lua5.4以后，pbc还是可以正常工作的。 pbc的接口设计是比较简洁的，用起来也非常方便。想深入了解的同学，建议去看看源码。 参考 pbc: https://github.com/cloudwu/pbc pbc binding lua: https://github.com/cloudwu/pbc/blob/master/binding/lua/README.md ","permalink":"https://cfanzp.com/lua-pbc/","tags":["lua","protobuf"],"title":"lua-pbc(lua的protobuf库)如何使用？"},{"categories":["vim"],"contents":"vim交换文件是否应该开启？ 在vim的使用过程中默认会产生交换文件。交换文件会记录文件修改的过程。如果不小心断电或者意外关闭了文件而没有保存，可以通过交换文件进行恢复。 交换文件如何使用？ 启用交换文件 1 set swapfile 关闭交换文件 1 set noswapfile 上述设置方法只是针对当前文件生效，如果想对所有文件生效需要在.vimrc中进行设置。 .vimrc中的设置关闭交换文件的方法也很简单，只需要加上一行: 1 set noswapfile 查看当前交换文件的名称 1 :swapname 查看交换文件的用法 1 :help swap-file 交换文件有哪些作用? 1. 恢复文件 在正常关闭情况下，交换文件会被删除，非正常关闭的情况下，交换文件不会被删除，下次你打开文件的时候，会提示你是否需要从交换文件恢复。 2. 检测多处修改 交换文件还有一个作用，就是避免Vim的多个实例编译同一文件。 总结 在我看来作为程序员应该是需要养成习惯，及时对修改的文件进行保存的。并且做好了一个功能，就应该即使提交到代码库进行保存。如果能保证做到及时保存，及时提交到代码仓库。交换文件是不需要开启的。 如果你是一个Vim新手，建议还是开启swapfile 等你对vim熟悉了，并且有良好的保存习惯，完全可以关闭swapfile ","permalink":"https://cfanzp.com/vim-swap/","tags":["vim"],"title":"vim交换文件是否应该开启？"},{"categories":["vim"],"contents":"Vim常用插件有哪些? Vim的插件真的很多，Vim好用主要原因是它基本的移动命令，几大模式,但是要提高开发效率，插件也是比不可少的。这里简单罗列一下我平时用得比较多的几款插件。 molokai配色方案 1 Plug \u0026#39;git://github.com/tomasr/molokai.git\u0026#39; 树形插件:nerdtree 1 Plug \u0026#39;preservim/nerdtree\u0026#39; 函数标签栏:tagbar 1 Plug \u0026#39;majutsushi/tagbar\u0026#39; 对齐工具:tabular 1 Plug \u0026#39;godlygeek/tabular\u0026#39; 文件查找插件:ctrlp 1 Plug \u0026#39;ctrlpvim/ctrlp.vim\u0026#39; 文本查找插件:ag.vim 1 Plug \u0026#39;git://github.com/rking/ag.vim.git\u0026#39; markdown预览插件 1 Plug \u0026#39;iamcco/markdown-preview.vim\u0026#39; fzf 查找插件 1 Plug \u0026#39;junegunn/fzf.vim\u0026#39; LeaderF查找插件 1 Plug \u0026#39;Yggdroot/LeaderF\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;./install.sh\u0026#39; } 上面罗列的插件已经很多了，平时用上这些插件，对于日常的开发基本就已经够用了。有空详细介绍一下上面的各个插件的用法。 更多vim用发可以浏览: https://cfanzp.com/categories/vim/ ","permalink":"https://cfanzp.com/vim-plug-in/","tags":["vim"],"title":"Vim常用插件有哪些?"},{"categories":["skynet","opensource"],"contents":"skynet学习资源汇总 学习使用skynet已经有一段时间了，最初学习skynet是直接拿着skynet的源码已经官方例子，一点点地自己看，自己跑demo,慢慢才熟悉了skynet。这过程中就踩了不少坑，这里收集了一些skynet的学习资源，在此记录一下。 skynet的github地址: https://github.com/cloudwu/skynet skynet官方帮助文档: https://github.com/cloudwu/skynet/wiki skynet作者博客: https://blog.codingnow.com/ skynet sample: https://github.com/cloudwu/skynet_sample skynet pbc: https://github.com/cloudwu/pbc 我的skynet学习笔记: https://cfanzp.com/categories/skynet/ skynet资源：http://forthxu.com/blog/skynet.html skynet视频教程 4小时玩转skynet: https://www.bilibili.com/video/BV1AV411r71g ","permalink":"https://cfanzp.com/skynet-res/","tags":["skynet"],"title":"skynet学习资源汇总"},{"categories":["golang"],"contents":"Go基本环境配置 下载 https://dl.google.com/go/go1.18.1.linux-amd64.tar.gz 环境变量配置 https://blog.csdn.net/Deronn/article/details/108364612 1 2 3 4 5 export GO111MODULE=on export GOPROXY=https://goproxy.cn export GOROOT=/usr/local/go export GOPATH=~/go/path export PATH=$PATH:$GOROOT/bin:$GOPATH/bin 环境变量生效 1 2 source /etc/profile ##在当前bash环境下读取并执行profile中的命令。 go env 初始化项目 gin demo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 package main import \u0026#34;github.com/gin-gonic/gin\u0026#34; func main() { // 创建一个默认的Gin引擎 r := gin.Default() // 定义一个简单的GET请求路由 r.GET(\u0026#34;/\u0026#34;, func(c *gin.Context) { c.String(200, \u0026#34;Hello, Gin!\u0026#34;) }) // 启动HTTP服务器，监听在 8080 端口 r.Run(\u0026#34;:8080\u0026#34;) } 初始化项目 1 2 3 go mod init example.com/gin_demo go mod tidy go build 编译 1 go build -o main.exe main.go 运行 直接运行编译后的可执行程序 go run 运行源代码 vim配置 https://blog.csdn.net/Jmilk/article/details/107292042 https://zhuanlan.zhihu.com/p/51656877 https://www.sunzhongwei.com/vim-execution-goinstallbinaries-installation-depend-on-failure https://blog.csdn.net/pujiao5201314/article/details/77947885 vim配置vim-go推出时语法检查 相关工具 gocode,errorcheck https://www.imooc.com/wenda/detail/664397 .vimrc 1 let g:syntastic_go_checkers = [\u0026#39;govet\u0026#39;, \u0026#39;errcheck\u0026#39;, \u0026#39;go\u0026#39;] GoBinaryInstall 1 2 go install github.com/nsf/gocode@latest go install github.com/golang/lint@latest vim GoRun报错 1 malformed import path \u0026#34;go: cannot find main module, but found .git/config in /data/test\u0026#34;: invalid ch 常见问题 GO111MODULE https://zhuanlan.zhihu.com/p/374372749 当我们配置好go环境，可以正常使用go命令，但是使用 sudo 权限执行 go 命令，出现“sudo: go：找不到命令”时： 1 2 sudo vim /etc/sudoers Defaults secure_path=\u0026#34;/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin:/snap/bin:/usr/local/go/bin\u0026#34; go mod 模式下如何引入本地包名 https://wenku.baidu.com/view/74dc3f26ecf9aef8941ea76e58fafab068dc445a.html go语言前景 https://zhuanlan.zhihu.com/p/382833278 go框架 一个go语言学习网站:https://www.topgoer.cn/ https://blog.csdn.net/qq_31967569/article/details/105262821 gfast: https://gitee.com/tiger1103/gfast go-zero: https://github.com/zeromicro/go-zero https://zhuanlan.zhihu.com/p/380803333 go-websocket demo: https://github.com/woodylan/go-websocket Gin sonic(字节优化版的json库): https://github.com/bytedance/sonic gjson: github.com/tidwall/gjson https://blog.csdn.net/m0_37322399/article/details/119189507 网络安全 Acra 游戏框架 https://blog.csdn.net/qq_31967569/article/details/105262821 https://github.com/Golangltd/LollipopGo https://github.com/Golangltd/nest m3game https://github.com/Tudongye/m3game 日志库 https://github.com/sirupsen/logrus https://www.cnblogs.com/jiujuan/p/15542743.html 字节内部框架 Hertz:应用在字节跳动自研 Golang HTTP 框 Ginex KiteX:字节自有 RPC 框架 参考 https://learnku.com/docs/the-way-to-go/interact-with-other-languages/3581#2b59d6 The Way to Go: https://learnku.com/docs/the-way-to-go https://github.com/Unknwon/the-way-to-go_ZH_CN ","permalink":"https://cfanzp.com/go-env/","tags":["golang"],"title":"Go基本环境配置"},{"categories":["devtools"],"contents":"在线工具 在线测速:https://www.ping.cn MD5加密:https://md5jiami.bmcx.com/ JSON在线格式化: https://www.bt.cn/tools/json.html https://www.bejson.com ","permalink":"https://cfanzp.com/online-tools/","tags":["devtools"],"title":"在线工具"},{"categories":["linux"],"contents":"linux中jpg格式转化为png格式 linux中将jpg与png进行转化可以用parallel和convert命令 安装方法: 安装arallel 1 sudo apt-get install parallel 安装convert 1 sudo apt-get install imagemagick cfanzp.jpg转化为cfanzp.png 1 parallel convert \u0026#39;{}\u0026#39; \u0026#39;{.}.png\u0026#39; ::: cfanzp.jpg ","permalink":"https://cfanzp.com/linux-jpg2png/","tags":["linux","image"],"title":"linux中jpg格式转化为png格式"},{"categories":["golang","language"],"contents":"GOPROXY配置 最近在使用hugo时需要依赖go环境在安装依赖包的时候，速度很慢，之前都是配置外网环境解决的。其实go环境有国内的替代域名资源可以使用。 在go环境下，需要下载依赖包的时候，如果没有外网环境的话，很多包默认是无法下载下来的，解决办法就是修改一下GOPROXY的配置 1 go env -w GOPROXY=https://goproxy.io,direct ","permalink":"https://cfanzp.com/goproxy/","tags":["golang"],"title":"GOPROXY配置"},{"categories":["lua"],"contents":"lua中如何实现打印行号和当前函数名？ lua中可以使用debug的get_info方法来获取当前的堆栈信息，进而可以打印出相关的环境信息，具体信息包括: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 table: 0x7f92b8f19e80 { isvararg = false , what = Lua , func = function: 0x7f92b7b8d600 , namewhat = , istailcall = true , lastlinedefined = 16 , source = @service/db/db_interactionemotion.lua , linedefined = 7 , currentline = 11 , ntransfer = 0 , short_src = service/db/db_interactionemotion.lua , ftransfer = 0 , nups = 3 , nparams = 0 , } lua中需要打印行号多半是日志需求，下面是一个demo: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 local logger_api = require \u0026#39;common.logger_api\u0026#39; local tag = \u0026#34;test\u0026#34; local test_id = 0 local M = {} local function get_debuginfo(info) --utils.var_dump(info) local d = \u0026#34;\u0026#34; if info ~= nil and info.short_src ~= nil and info.currentline ~= nil then d = info.short_src .. \u0026#34;:\u0026#34; .. info.currentline .. \u0026#34;:\u0026#34; end return d end function M.ELOG(...) local info = debug.getinfo(2) local d = get_debuginfo(info) logger_api.ERROR(string.format(\u0026#34;%s[E]no_%s_%s\u0026#34;,d,test_id,tag),...) end function M.WLOG(...) local info = debug.getinfo(2) local d = get_debuginfo(info) logger_api.WARN(string.format(\u0026#34;%s[W]no_%s_%s\u0026#34;,d,test_id,tag),...) end function M.NLOG(...) logger_api.INFO(string.format(\u0026#34;[N]no_%s_%s\u0026#34;, test_id,tag), ...) end function M.DLOG(...) local info = debug.getinfo(2) local d = get_debuginfo(info) logger_api.DEBUG(string.format(\u0026#34;%s[D]no_%s_%s\u0026#34;,d,test_id,tag),...) end return M ","permalink":"https://cfanzp.com/lua-debug/","tags":["lua"],"title":"lua中如何实现打印行号和当前函数名？"},{"categories":["mysql"],"contents":"mysql存储过程 FAQ 如何创建存储过程? 下面是一个创建存储过程的demo: 存储过程名为:p_login 存储过程有3个参数:a_platform,a_account,a_password 1 2 3 4 5 6 7 8 9 10 CREATE DEFINER=`root`@`%` PROCEDURE `p_login`(in a_platform int, in a_account varchar(64), in a_password varchar(32)) begin SELECT *,userid as uid FROM tb_account WHERE account=a_account AND platform=a_platform AND `password`=a_password AND nullity = \u0026#39;0\u0026#39; AND android = \u0026#39;0\u0026#39;; end 如何调用存储过程? 1 CALL p_login(1,\u0026#34;aaa\u0026#34;,\u0026#34;password\u0026#34;); 存储过程中常用的函数有哪些？ 获取当前时间搓 1 current_timestamp() 获取时间 1 NOW() 获取当前日期 1 curdate() 获取最后一个标识值 在一条 INSERT、SELECT INTO 或大容量复制语句完成后，@@IDENTITY 中包含语句生成的最后一个标识值 1 select @@IDENTITY 获取今天，昨天，前天的当前时间 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 CREATE DEFINER=`root`@`%` PROCEDURE `p_demo_get_daily_login_report`(IN `a_step` int) BEGIN DECLARE start_day TIMESTAMP; DECLARE end_day TIMESTAMP; # a_step=0 今天 # a_step=1 昨天 # a_step=2 前天 SET start_day = (CAST(SYSDATE()AS DATE) - INTERVAL a_step DAY); SET end_day = (CAST(SYSDATE()AS DATE) + INTERVAL 1 DAY - INTERVAL a_step DAY); select a.userid,a.channel_id,b.nickname,COUNT(a.userid) as cnt from t_record_login as a,t_account as b where a.insert_date \u0026gt; start_day and a.insert_date \u0026lt; end_day and a.userid = b.userid group by a.userid order by cnt desc limit 10; END ","permalink":"https://cfanzp.com/mysql-procedure/","tags":["mysql"],"title":"mysql存储过程"},{"categories":["devtools"],"contents":"vscode使用笔记 FAQ vscode必备插件有哪些？ vim Lua Vscode-lua Go Rainbow Brackets Thunder Client 如何给vscode添加ruler? 按语言添加: 1 2 3 \u0026#34;[lua]\u0026#34;:{ \u0026#34;editor.rulers\u0026#34;:[80], } vscode配置vim插件jk退出插入模式 https://www.cnblogs.com/YunyaSir/p/15522565.html 1 2 3 4 5 6 7 8 9 10 11 \u0026#34;vim.insertModeKeyBindings\u0026#34;: [ { \u0026#34;before\u0026#34;: [ \u0026#34;j\u0026#34;, \u0026#34;k\u0026#34; ], \u0026#34;after\u0026#34;: [ \u0026#34;\u0026lt;Esc\u0026gt;\u0026#34; ] }, ], vscode 在mac上无法连续输入k如何解决？ 1 2 3 4 5 defaults write com.microsoft.VSCode ApplePressAndHoldEnabled -bool false # For VS Code defaults write com.microsoft.VSCodeInsiders ApplePressAndHoldEnabled -bool false # For VS Code Insider defaults write com.visualstudio.code.oss ApplePressAndHoldEnabled -bool false # For VS Codium defaults write com.microsoft.VSCodeExploration ApplePressAndHoldEnabled -bool false # For VS Codium Exploration users defaults delete -g ApplePressAndHoldEnabled ","permalink":"https://cfanzp.com/edit-vscode/","tags":["vscode"],"title":"vscode的使用"},{"categories":["devtools","git"],"contents":"git常见问题 FAQ git如何清除提交记录？ 项目如果走过了一个很长的开发周期以后，提交历史会很长，如果提交记录不重要，这种情况下可以删除掉历时记录。 创建一个干净的分支 使用--orphan参数 添加当前的所有文件 提交注释 删除原来的分支master 把当前分支重命名为master 把当前分支强行推送到远端 1 2 3 4 5 6 git checkout --orphan test git add . git commit -m \u0026#34;init\u0026#34; git branch -D master git branch -m master git push -f origin master git如何查看空间占用? 1 2 git count-objects -v # 查看 git 相关文件占用的空间 du -sh .git # 查看 .git 文件夹占用磁盘空间 如何查找git提交中涉及的大文件? 1 git rev-list --objects --all | grep \u0026#34;$(git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -5 | awk \u0026#39;{print$1}\u0026#39;)\u0026#34; 如何删除大文件? 1 2 3 4 5 6 7 git filter-branch -f --prune-empty --index-filter \u0026#39;git rm -rf --cached --ignore-unmatch big_file_name\u0026#39; --tag-name-filter cat -- --all rm -Rf .git/refs/original rm -Rf .git/logs/ git gc git prune git push --force 如何删除文件名为tags的文件 1 2 3 4 5 6 7 git filter-branch -f --prune-empty --index-filter \u0026#39;git rm -rf --cached --ignore-unmatch tags\u0026#39; --tag-name-filter cat -- --all rm -Rf .git/refs/original rm -Rf .git/logs/ git gc git prune git push --force git如何查看文件? 1 git rev-list --objects --all | grep \u0026#34;$(git verify-pack -v .git/objects/pack/*.idx | sort -k 3 -n | tail -18 | awk \u0026#39;{print$1}\u0026#39;)\u0026#34; git 使用config文件配置快捷访问 创建文件 1 touch ~/.ssh/config 配置文件 1 2 3 4 5 6 7 8 9 10 11 12 vim ~/.ssh/config Host server1 HostName 127.0.0.1 Port 22 User root IdentityFile ~/.ssh/id_rsa Host server2 HostName 192.168.0.1 Port 22 User root IdentityFile ~/.ssh/id_rsa 使用 连接server1服务器 1 ssh server1 连接server2服务器 1 ssh server2 git reset,git checkout 后依旧显示有修改,实际上没有修改怎么办？ 比较被修改的文件，发现实际没有任何修改提示： 1 File mode changed from 100755 to 100644 原因：主要原因是因为文件的权限被修改了。 解决办法可参考: https://blog.csdn.net/qq_41872247/article/details/116457169 1 git config --global --add core.filemode false 参考 git 删除历史已提交的大文件 Git删除历史记录（已提交）中的大文件 gitLab清理大文件_包括历史记录中的大文件 git-filter-repo ","permalink":"https://cfanzp.com/git-faq/","tags":["git"],"title":"git常见问题"},{"categories":["devtools"],"contents":"解决gitlab占用内存太大的问题 最近gitlab服务器出现了占用内存太大的问题。虚拟机里的linux系统内存\u0026gt;4G都被几乎用完了。 网上查询了相关资料，解决方法主要是修改一下配置。或者更换git服务器工具，比如更换为gogs或者gitea等。 因为时间关系暂且改一下配置解决一下问题: 配置文件路径为: 1 /etc/gitlab/gitlab.rb 修改相关参数 1 2 3 4 5 6 postgresql[\u0026#39;shared_buffers\u0026#39;] = \u0026#34;64MB\u0026#34; postgresql[\u0026#39;max_worker_processes\u0026#39;] = 2 sidekiq[\u0026#39;max-concurrency\u0026#39;]=5 #禁用prometheus，可以进一步减少内存占用 prometheus_monitoring[\u0026#39;enable\u0026#39;] = false sidekiq[\u0026#39;concurrency\u0026#39;] = 25 重启服务 1 2 gitlab-ctl reconfigure gitlab-ctl restart 精简gitlab服务:https://zhuanlan.zhihu.com/p/389717047 参考资料 https://zhuanlan.zhihu.com/p/348813603 https://my.oschina.net/sunhualong/blog/4275867 ","permalink":"https://cfanzp.com/gitlab-config/","tags":["gitlab"],"title":"解决gitlab占用内存太大的问题"},{"categories":["硬件"],"contents":"cpu天梯图 在购买电脑的时候不知道怎么选电脑? 选电脑选好主要的cpu,显卡，主板等就不会吃大亏。这里给大家展示一下本人在百度贴吧找到的今年7月分最新的cpu天梯图。 天梯图 图片原址:https://tieba.baidu.com/p/5005825360?pn=19 (在这里感谢原作者分享，图片如有侵权，请联系本站删除。) cpu代数越高就越好吗？ 大的趋势是技术在进步，后面 出的cpu总地来说会更好，但是进步是需要踩坑的，也需要时间一代一代地迭代，中间版本过渡过程中，新的一代不一定就比旧的强。 本人家里的旧电脑cpu是i5-4590,公司用的旧电脑cpu是i5-6400,直观地看公司的电脑cpu似乎更好，但是看看天梯图，却发现其实i5-4590性能更强一些。 再去多查一些资料，根据网友的反馈来看，总体来看: 从性能上来说,4590比6400还要稍微强一点点 6代的6400比4代的4590功耗更低 6400是14nm工艺，4590是22nm工艺 对于现在而言都是很差的cpu了。不过平时办公日常需求也够用了。平时选购cpu时参考一下天梯图，再查查网友的使用对比，会比较 稳妥一些。 参考 2个cpu参数对比:https://cpu.bmcx.com/1537_1506_1496__cpu/ B站2个cpu的对比视频:https://www.bilibili.com/video/av5101266 ","permalink":"https://cfanzp.com/cpu_ttt/","tags":["硬件"],"title":"cpu天梯图"},{"categories":[],"contents":"web压力测试工具:httperf 下载地址: 使用demo: 1 httperf --client=0/1 --server 192.168.2.127 --port 7100 --uri /loginReq --num-conns 30000 --rate 30000 --hog 教程: https://blog.csdn.net/qq_33391644/article/details/103794115 https://www.cnblogs.com/cllovewxq/p/5533487.html ","permalink":"https://cfanzp.com/httperf/","tags":[],"title":"Httperf"},{"categories":["os","linux"],"contents":"linux查看打开文件情况 查看进程skynet(config.login)的pid 1 2 3 4 5 [root@dev127 login]# ps -ef | grep login root 657 1 0 6月20 ? 00:00:49 /usr/lib/systemd/systemd-logind root 113262 1 8 15:27 ? 00:02:19 /data/myb/sh/../skynet/skynet /data/myb/sh/login/config.login root 113983 107342 0 15:42 pts/4 00:00:02 tail login.20220819.log -f root 114702 112029 0 15:55 pts/2 00:00:00 grep --color=auto login 查看进程能打开的最大文件数目 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 [root@dev127 login]# cat /proc/113262/limits Limit Soft Limit Hard Limit Units Max cpu time unlimited unlimited seconds Max file size unlimited unlimited bytes Max data size unlimited unlimited bytes Max stack size 8388608 unlimited bytes Max core file size unlimited unlimited bytes Max resident set unlimited unlimited bytes Max processes 26047 26047 processes Max open files 1024 4096 files Max locked memory 65536 65536 bytes Max address space unlimited unlimited bytes Max file locks unlimited unlimited locks Max pending signals 26047 26047 signals Max msgqueue size 819200 819200 bytes Max nice priority 0 0 Max realtime priority 0 0 Max realtime timeout unlimited unlimited us [root@dev127 login]# 参考链接 https://blog.csdn.net/jsugs/article/details/122056916 ","permalink":"https://cfanzp.com/lsof/","tags":["lsof"],"title":"linux查看打开文件情况"},{"categories":["devtools"],"contents":"常用工具下载地址汇总 在线工具 tool.lu: https://tool.lu 智能命名工具 CODELF: https://unbug.github.io/codelf ssh远程连接 WindTerm: https://github.com/kingToolbox/WindTerm/releases git: https://git-scm.com/download/ windows版本的安装后会自带ssh客户端，配合.ssh/文件夹下的config文件使用也是非常方便的。 Xshell: https://www.xshell.com/zh/xshell/ git git: https://git-scm.com/download/ linux常用软件 截图工具flameshot: https://github.com/flameshot-org/flameshot wechat: https://www.ubuntukylin.com/applications/106-cn.html 飞书: https://www.feishu.cn/download 有道云笔记: https://note.youdao.com/download.html 流程图软件Dia: https://zhuanlan.zhihu.com/p/366116011 wps: https://www.wps.cn/product/wpslinux 安装:sudo apt install ./wps-office_11.1.0.11664_amd64.deb 字体问题: https://zhuanlan.zhihu.com/p/145114644 字体下载,链接: https://pan.baidu.com/s/18PWLr_t6Lub9PoEg9zUSzg 提取码: isiz linux开发工具 httpperf: https://github.com/httperf/httperf 教程: https://www.cnblogs.com/cllovewxq/p/5533487.html 搜索资源工具 Bing: https://cn.bing.com/ DuckDuckGo: https://duckduckgo.com/ 不搜集用户信息，没有广告 Stack Overflow: https://stackoverflow.com/ 技术问题可以直接查这个网站 Gitlogs: https://www.gitlogs.com/ 搜索GitHub项目的搜索引擎 jiumo search: https://www.jiumodiary.com/ 文档搜索引擎 鸠摩搜书 pexels: https://www.pexels.com/ 高质量的图片网站。 在线画图,ProcessOn: https://www.processon.com/ draw.io: https://app.diagrams.net/ 参考 https://www.toutiao.com/question/6689398047425691907 ","permalink":"https://cfanzp.com/tools_download/","tags":["devtools"],"title":"常用工具下载地址汇总"},{"categories":["devtools"],"contents":"markdown 基础 标题 1 2 3 4 5 6 # 标题1 ## 标题2 ### 标题3 #### 标题4 ##### 标题5 ###### 标题6 效果: 标题1 标题2 标题3 标题4 标题5 标题6 分割线 可以使用三个及以上的星号、减号、下划线来表示一条分割线 1 2 3 --- *** ___ 效果: 删除线 1 ~~ del line ~~ 效果: del line 图片链接 1 ![公众号二维码](/images/gzh.jpeg#pic_center \u0026#34;公众号\u0026#34;) 效果: 公众号 脚注 1 2 cfanzp主页[^cfanzp] [^cfanzp]: 主页地址:[https://cfanzp.com](https://cfanzp.com) 效果: cfanzp主页1 列表 无序列表 1 2 - item1 - item2 效果: item1 item2 有序列表 1 2 1. item1 2. item2 效果: item1 item2 表格 :-标题栏左对齐 -:标题栏右边对齐 :-:标题栏中间对齐 1 2 3 | 左对齐 | 居中对齐 | 右对齐 | | :--- | :---: | ---: | | item1 | item2 | item3 | 效果: 左对齐 居中对齐 右对齐 item1 item2 item3 Emoji表情 emoji表情参照表 使用:code:的方式使用,例如code为dog:使用: dog :,中间没有空格。 code icon code icon joy \u0026#x1f602; dog \u0026#x1f436; smile \u0026#x1f604; cat \u0026#x1f431; ok \u0026#x1f197; +1 \u0026#x1f44d; 官方教程 https://blog.csdn.net/u012102104/article/details/78950290 代码块高亮 emoji表情 Emoji Unicode Tables github emoji-cheat-sheet emoji表情 来源 People :bowtie: :bowtie: \u0026#x1f604; :smile: \u0026#x1f606; :laughing: \u0026#x1f60a; :blush: \u0026#x1f603; :smiley: \u0026#x263a;\u0026#xfe0f; :relaxed: \u0026#x1f60f; :smirk: \u0026#x1f60d; :heart_eyes: \u0026#x1f618; :kissing_heart: \u0026#x1f61a; :kissing_closed_eyes: \u0026#x1f633; :flushed: \u0026#x1f60c; :relieved: \u0026#x1f606; :satisfied: \u0026#x1f601; :grin: \u0026#x1f609; :wink: \u0026#x1f61c; :stuck_out_tongue_winking_eye: \u0026#x1f61d; :stuck_out_tongue_closed_eyes: \u0026#x1f600; :grinning: \u0026#x1f617; :kissing: \u0026#x1f619; :kissing_smiling_eyes: \u0026#x1f61b; :stuck_out_tongue: \u0026#x1f634; :sleeping: \u0026#x1f61f; :worried: \u0026#x1f626; :frowning: \u0026#x1f627; :anguished: \u0026#x1f62e; :open_mouth: \u0026#x1f62c; :grimacing: \u0026#x1f615; :confused: \u0026#x1f62f; :hushed: \u0026#x1f611; :expressionless: \u0026#x1f612; :unamused: \u0026#x1f605; :sweat_smile: \u0026#x1f613; :sweat: \u0026#x1f625; :disappointed_relieved: \u0026#x1f629; :weary: \u0026#x1f614; :pensive: \u0026#x1f61e; :disappointed: \u0026#x1f616; :confounded: \u0026#x1f628; :fearful: \u0026#x1f630; :cold_sweat: \u0026#x1f623; :persevere: \u0026#x1f622; :cry: \u0026#x1f62d; :sob: \u0026#x1f602; :joy: \u0026#x1f632; :astonished: \u0026#x1f631; :scream: :neckbeard: :neckbeard: \u0026#x1f62b; :tired_face: \u0026#x1f620; :angry: \u0026#x1f621; :rage: \u0026#x1f624; :triumph: \u0026#x1f62a; :sleepy: \u0026#x1f60b; :yum: \u0026#x1f637; :mask: \u0026#x1f60e; :sunglasses: \u0026#x1f635; :dizzy_face: \u0026#x1f47f; :imp: \u0026#x1f608; :smiling_imp: \u0026#x1f610; :neutral_face: \u0026#x1f636; :no_mouth: \u0026#x1f607; :innocent: \u0026#x1f47d; :alien: \u0026#x1f49b; :yellow_heart: \u0026#x1f499; :blue_heart: \u0026#x1f49c; :purple_heart: \u0026#x2764;\u0026#xfe0f; :heart: \u0026#x1f49a; :green_heart: \u0026#x1f494; :broken_heart: \u0026#x1f493; :heartbeat: \u0026#x1f497; :heartpulse: \u0026#x1f495; :two_hearts: \u0026#x1f49e; :revolving_hearts: \u0026#x1f498; :cupid: \u0026#x1f496; :sparkling_heart: \u0026#x2728; :sparkles: \u0026#x2b50; :star: \u0026#x1f31f; :star2: \u0026#x1f4ab; :dizzy: \u0026#x1f4a5; :boom: \u0026#x1f4a5; :collision: \u0026#x1f4a2; :anger: \u0026#x2757; :exclamation: \u0026#x2753; :question: \u0026#x2755; :grey_exclamation: \u0026#x2754; :grey_question: \u0026#x1f4a4; :zzz: \u0026#x1f4a8; :dash: \u0026#x1f4a6; :sweat_drops: \u0026#x1f3b6; :notes: \u0026#x1f3b5; :musical_note: \u0026#x1f525; :fire: \u0026#x1f4a9; :hankey: \u0026#x1f4a9; :poop: \u0026#x1f4a9; :shit: \u0026#x1f44d; :+1: \u0026#x1f44d; :thumbsup: \u0026#x1f44e; :-1: \u0026#x1f44e; :thumbsdown: \u0026#x1f44c; :ok_hand: \u0026#x1f44a; :punch: \u0026#x1f44a; :facepunch: \u0026#x270a; :fist: \u0026#x270c;\u0026#xfe0f; :v: \u0026#x1f44b; :wave: \u0026#x270b; :hand: \u0026#x270b; :raised_hand: \u0026#x1f450; :open_hands: \u0026#x261d;\u0026#xfe0f; :point_up: \u0026#x1f447; :point_down: \u0026#x1f448; :point_left: \u0026#x1f449; :point_right: \u0026#x1f64c; :raised_hands: \u0026#x1f64f; :pray: \u0026#x1f446; :point_up_2: \u0026#x1f44f; :clap: \u0026#x1f4aa; :muscle: \u0026#x1f918; :metal: \u0026#x1f595; :fu: \u0026#x1f6b6; :walking: \u0026#x1f3c3; :runner: \u0026#x1f3c3; :running: \u0026#x1f46b; :couple: \u0026#x1f46a; :family: \u0026#x1f46c; :two_men_holding_hands: \u0026#x1f46d; :two_women_holding_hands: \u0026#x1f483; :dancer: \u0026#x1f46f; :dancers: \u0026#x1f646;\u0026zwj;\u0026#x2640;\u0026#xfe0f; :ok_woman: \u0026#x1f645; :no_good: \u0026#x1f481; :information_desk_person: \u0026#x1f64b; :raising_hand: \u0026#x1f470;\u0026zwj;\u0026#x2640;\u0026#xfe0f; :bride_with_veil: :person_with_pouting_face: :person_with_pouting_face: :person_frowning: :person_frowning: \u0026#x1f647; :bow: \u0026#x1f48f; :couplekiss: \u0026#x1f491; :couple_with_heart: \u0026#x1f486; :massage: \u0026#x1f487; :haircut: \u0026#x1f485; :nail_care: \u0026#x1f466; :boy: \u0026#x1f467; :girl: \u0026#x1f469; :woman: \u0026#x1f468; :man: \u0026#x1f476; :baby: \u0026#x1f475; :older_woman: \u0026#x1f474; :older_man: :person_with_blond_hair: :person_with_blond_hair: \u0026#x1f472; :man_with_gua_pi_mao: \u0026#x1f473;\u0026zwj;\u0026#x2642;\u0026#xfe0f; :man_with_turban: \u0026#x1f477; :construction_worker: \u0026#x1f46e; :cop: \u0026#x1f47c; :angel: \u0026#x1f478; :princess: \u0026#x1f63a; :smiley_cat: \u0026#x1f638; :smile_cat: \u0026#x1f63b; :heart_eyes_cat: \u0026#x1f63d; :kissing_cat: \u0026#x1f63c; :smirk_cat: \u0026#x1f640; :scream_cat: \u0026#x1f63f; :crying_cat_face: \u0026#x1f639; :joy_cat: \u0026#x1f63e; :pouting_cat: \u0026#x1f479; :japanese_ogre: \u0026#x1f47a; :japanese_goblin: \u0026#x1f648; :see_no_evil: \u0026#x1f649; :hear_no_evil: \u0026#x1f64a; :speak_no_evil: \u0026#x1f482;\u0026zwj;\u0026#x2642;\u0026#xfe0f; :guardsman: \u0026#x1f480; :skull: \u0026#x1f43e; :feet: \u0026#x1f444; :lips: \u0026#x1f48b; :kiss: \u0026#x1f4a7; :droplet: \u0026#x1f442; :ear: \u0026#x1f440; :eyes: \u0026#x1f443; :nose: \u0026#x1f445; :tongue: \u0026#x1f48c; :love_letter: \u0026#x1f464; :bust_in_silhouette: \u0026#x1f465; :busts_in_silhouette: \u0026#x1f4ac; :speech_balloon: \u0026#x1f4ad; :thought_balloon: :feelsgood: :feelsgood: :finnadie: :finnadie: :goberserk: :goberserk: :godmode: :godmode: :hurtrealbad: :hurtrealbad: :rage1: :rage1: :rage2: :rage2: :rage3: :rage3: :rage4: :rage4: :suspect: :suspect: :trollface: :trollface: Nature \u0026#x2600;\u0026#xfe0f; :sunny: \u0026#x2614; :umbrella: \u0026#x2601;\u0026#xfe0f; :cloud: \u0026#x2744;\u0026#xfe0f; :snowflake: \u0026#x26c4; :snowman: \u0026#x26a1; :zap: \u0026#x1f300; :cyclone: \u0026#x1f301; :foggy: \u0026#x1f30a; :ocean: \u0026#x1f431; :cat: \u0026#x1f436; :dog: \u0026#x1f42d; :mouse: \u0026#x1f439; :hamster: \u0026#x1f430; :rabbit: \u0026#x1f43a; :wolf: \u0026#x1f438; :frog: \u0026#x1f42f; :tiger: \u0026#x1f428; :koala: \u0026#x1f43b; :bear: \u0026#x1f437; :pig: \u0026#x1f43d; :pig_nose: \u0026#x1f42e; :cow: \u0026#x1f417; :boar: \u0026#x1f435; :monkey_face: \u0026#x1f412; :monkey: \u0026#x1f434; :horse: \u0026#x1f40e; :racehorse: \u0026#x1f42b; :camel: \u0026#x1f411; :sheep: \u0026#x1f418; :elephant: \u0026#x1f43c; :panda_face: \u0026#x1f40d; :snake: \u0026#x1f426; :bird: \u0026#x1f424; :baby_chick: \u0026#x1f425; :hatched_chick: \u0026#x1f423; :hatching_chick: \u0026#x1f414; :chicken: \u0026#x1f427; :penguin: \u0026#x1f422; :turtle: \u0026#x1f41b; :bug: \u0026#x1f41d; :honeybee: \u0026#x1f41c; :ant: \u0026#x1fab2; :beetle: \u0026#x1f40c; :snail: \u0026#x1f419; :octopus: \u0026#x1f420; :tropical_fish: \u0026#x1f41f; :fish: \u0026#x1f433; :whale: \u0026#x1f40b; :whale2: \u0026#x1f42c; :dolphin: \u0026#x1f404; :cow2: \u0026#x1f40f; :ram: \u0026#x1f400; :rat: \u0026#x1f403; :water_buffalo: \u0026#x1f405; :tiger2: \u0026#x1f407; :rabbit2: \u0026#x1f409; :dragon: \u0026#x1f410; :goat: \u0026#x1f413; :rooster: \u0026#x1f415; :dog2: \u0026#x1f416; :pig2: \u0026#x1f401; :mouse2: \u0026#x1f402; :ox: \u0026#x1f432; :dragon_face: \u0026#x1f421; :blowfish: \u0026#x1f40a; :crocodile: \u0026#x1f42a; :dromedary_camel: \u0026#x1f406; :leopard: \u0026#x1f408; :cat2: \u0026#x1f429; :poodle: \u0026#x1f43e; :paw_prints: \u0026#x1f490; :bouquet: \u0026#x1f338; :cherry_blossom: \u0026#x1f337; :tulip: \u0026#x1f340; :four_leaf_clover: \u0026#x1f339; :rose: \u0026#x1f33b; :sunflower: \u0026#x1f33a; :hibiscus: \u0026#x1f341; :maple_leaf: \u0026#x1f343; :leaves: \u0026#x1f342; :fallen_leaf: \u0026#x1f33f; :herb: \u0026#x1f344; :mushroom: \u0026#x1f335; :cactus: \u0026#x1f334; :palm_tree: \u0026#x1f332; :evergreen_tree: \u0026#x1f333; :deciduous_tree: \u0026#x1f330; :chestnut: \u0026#x1f331; :seedling: \u0026#x1f33c; :blossom: \u0026#x1f33e; :ear_of_rice: \u0026#x1f41a; :shell: \u0026#x1f310; :globe_with_meridians: \u0026#x1f31e; :sun_with_face: \u0026#x1f31d; :full_moon_with_face: \u0026#x1f31a; :new_moon_with_face: \u0026#x1f311; :new_moon: \u0026#x1f312; :waxing_crescent_moon: \u0026#x1f313; :first_quarter_moon: \u0026#x1f314; :waxing_gibbous_moon: \u0026#x1f315; :full_moon: \u0026#x1f316; :waning_gibbous_moon: \u0026#x1f317; :last_quarter_moon: \u0026#x1f318; :waning_crescent_moon: \u0026#x1f31c; :last_quarter_moon_with_face: \u0026#x1f31b; :first_quarter_moon_with_face: \u0026#x1f314; :moon: \u0026#x1f30d; :earth_africa: \u0026#x1f30e; :earth_americas: \u0026#x1f30f; :earth_asia: \u0026#x1f30b; :volcano: \u0026#x1f30c; :milky_way: \u0026#x26c5; :partly_sunny: :octocat: :octocat: :squirrel: :squirrel: Objects \u0026#x1f38d; :bamboo: \u0026#x1f49d; :gift_heart: \u0026#x1f38e; :dolls: \u0026#x1f392; :school_satchel: \u0026#x1f393; :mortar_board: \u0026#x1f38f; :flags: \u0026#x1f386; :fireworks: \u0026#x1f387; :sparkler: \u0026#x1f390; :wind_chime: \u0026#x1f391; :rice_scene: \u0026#x1f383; :jack_o_lantern: \u0026#x1f47b; :ghost: \u0026#x1f385; :santa: \u0026#x1f384; :christmas_tree: \u0026#x1f381; :gift: \u0026#x1f514; :bell: \u0026#x1f515; :no_bell: \u0026#x1f38b; :tanabata_tree: \u0026#x1f389; :tada: \u0026#x1f38a; :confetti_ball: \u0026#x1f388; :balloon: \u0026#x1f52e; :crystal_ball: \u0026#x1f4bf; :cd: \u0026#x1f4c0; :dvd: \u0026#x1f4be; :floppy_disk: \u0026#x1f4f7; :camera: \u0026#x1f4f9; :video_camera: \u0026#x1f3a5; :movie_camera: \u0026#x1f4bb; :computer: \u0026#x1f4fa; :tv: \u0026#x1f4f1; :iphone: \u0026#x260e;\u0026#xfe0f; :phone: \u0026#x260e;\u0026#xfe0f; :telephone: \u0026#x1f4de; :telephone_receiver: \u0026#x1f4df; :pager: \u0026#x1f4e0; :fax: \u0026#x1f4bd; :minidisc: \u0026#x1f4fc; :vhs: \u0026#x1f509; :sound: \u0026#x1f508; :speaker: \u0026#x1f507; :mute: \u0026#x1f4e2; :loudspeaker: \u0026#x1f4e3; :mega: \u0026#x231b; :hourglass: \u0026#x23f3; :hourglass_flowing_sand: \u0026#x23f0; :alarm_clock: \u0026#x231a; :watch: \u0026#x1f4fb; :radio: \u0026#x1f4e1; :satellite: \u0026#x27bf; :loop: \u0026#x1f50d; :mag: \u0026#x1f50e; :mag_right: \u0026#x1f513; :unlock: \u0026#x1f512; :lock: \u0026#x1f50f; :lock_with_ink_pen: \u0026#x1f510; :closed_lock_with_key: \u0026#x1f511; :key: \u0026#x1f4a1; :bulb: \u0026#x1f526; :flashlight: \u0026#x1f506; :high_brightness: \u0026#x1f505; :low_brightness: \u0026#x1f50c; :electric_plug: \u0026#x1f50b; :battery: \u0026#x1f4f2; :calling: \u0026#x1f4e7; :email: \u0026#x1f4eb; :mailbox: \u0026#x1f4ee; :postbox: \u0026#x1f6c0; :bath: \u0026#x1f6c1; :bathtub: \u0026#x1f6bf; :shower: \u0026#x1f6bd; :toilet: \u0026#x1f527; :wrench: \u0026#x1f529; :nut_and_bolt: \u0026#x1f528; :hammer: \u0026#x1f4ba; :seat: \u0026#x1f4b0; :moneybag: \u0026#x1f4b4; :yen: \u0026#x1f4b5; :dollar: \u0026#x1f4b7; :pound: \u0026#x1f4b6; :euro: \u0026#x1f4b3; :credit_card: \u0026#x1f4b8; :money_with_wings: \u0026#x1f4e7; :e-mail: \u0026#x1f4e5; :inbox_tray: \u0026#x1f4e4; :outbox_tray: \u0026#x2709;\u0026#xfe0f; :envelope: \u0026#x1f4e8; :incoming_envelope: \u0026#x1f4ef; :postal_horn: \u0026#x1f4ea; :mailbox_closed: \u0026#x1f4ec; :mailbox_with_mail: \u0026#x1f4ed; :mailbox_with_no_mail: \u0026#x1f6aa; :door: \u0026#x1f6ac; :smoking: \u0026#x1f4a3; :bomb: \u0026#x1f52b; :gun: \u0026#x1f52a; :hocho: \u0026#x1f48a; :pill: \u0026#x1f489; :syringe: \u0026#x1f4c4; :page_facing_up: \u0026#x1f4c3; :page_with_curl: \u0026#x1f4d1; :bookmark_tabs: \u0026#x1f4ca; :bar_chart: \u0026#x1f4c8; :chart_with_upwards_trend: \u0026#x1f4c9; :chart_with_downwards_trend: \u0026#x1f4dc; :scroll: \u0026#x1f4cb; :clipboard: \u0026#x1f4c6; :calendar: \u0026#x1f4c5; :date: \u0026#x1f4c7; :card_index: \u0026#x1f4c1; :file_folder: \u0026#x1f4c2; :open_file_folder: \u0026#x2702;\u0026#xfe0f; :scissors: \u0026#x1f4cc; :pushpin: \u0026#x1f4ce; :paperclip: \u0026#x2712;\u0026#xfe0f; :black_nib: \u0026#x270f;\u0026#xfe0f; :pencil2: \u0026#x1f4cf; :straight_ruler: \u0026#x1f4d0; :triangular_ruler: \u0026#x1f4d5; :closed_book: \u0026#x1f4d7; :green_book: \u0026#x1f4d8; :blue_book: \u0026#x1f4d9; :orange_book: \u0026#x1f4d3; :notebook: \u0026#x1f4d4; :notebook_with_decorative_cover: \u0026#x1f4d2; :ledger: \u0026#x1f4da; :books: \u0026#x1f516; :bookmark: \u0026#x1f4db; :name_badge: \u0026#x1f52c; :microscope: \u0026#x1f52d; :telescope: \u0026#x1f4f0; :newspaper: \u0026#x1f3c8; :football: \u0026#x1f3c0; :basketball: \u0026#x26bd; :soccer: \u0026#x26be; :baseball: \u0026#x1f3be; :tennis: \u0026#x1f3b1; :8ball: \u0026#x1f3c9; :rugby_football: \u0026#x1f3b3; :bowling: \u0026#x26f3; :golf: \u0026#x1f6b5; :mountain_bicyclist: \u0026#x1f6b4; :bicyclist: \u0026#x1f3c7; :horse_racing: \u0026#x1f3c2; :snowboarder: \u0026#x1f3ca; :swimmer: \u0026#x1f3c4; :surfer: \u0026#x1f3bf; :ski: \u0026#x2660;\u0026#xfe0f; :spades: \u0026#x2665;\u0026#xfe0f; :hearts: \u0026#x2663;\u0026#xfe0f; :clubs: \u0026#x2666;\u0026#xfe0f; :diamonds: \u0026#x1f48e; :gem: \u0026#x1f48d; :ring: \u0026#x1f3c6; :trophy: \u0026#x1f3bc; :musical_score: \u0026#x1f3b9; :musical_keyboard: \u0026#x1f3bb; :violin: \u0026#x1f47e; :space_invader: \u0026#x1f3ae; :video_game: \u0026#x1f0cf; :black_joker: \u0026#x1f3b4; :flower_playing_cards: \u0026#x1f3b2; :game_die: \u0026#x1f3af; :dart: \u0026#x1f004; :mahjong: \u0026#x1f3ac; :clapper: \u0026#x1f4dd; :memo: \u0026#x1f4dd; :pencil: \u0026#x1f4d6; :book: \u0026#x1f3a8; :art: \u0026#x1f3a4; :microphone: \u0026#x1f3a7; :headphones: \u0026#x1f3ba; :trumpet: \u0026#x1f3b7; :saxophone: \u0026#x1f3b8; :guitar: \u0026#x1f45e; :shoe: \u0026#x1f461; :sandal: \u0026#x1f460; :high_heel: \u0026#x1f484; :lipstick: \u0026#x1f462; :boot: \u0026#x1f455; :shirt: \u0026#x1f455; :tshirt: \u0026#x1f454; :necktie: \u0026#x1f45a; :womans_clothes: \u0026#x1f457; :dress: \u0026#x1f3bd; :running_shirt_with_sash: \u0026#x1f456; :jeans: \u0026#x1f458; :kimono: \u0026#x1f459; :bikini: \u0026#x1f380; :ribbon: \u0026#x1f3a9; :tophat: \u0026#x1f451; :crown: \u0026#x1f452; :womans_hat: \u0026#x1f45e; :mans_shoe: \u0026#x1f302; :closed_umbrella: \u0026#x1f4bc; :briefcase: \u0026#x1f45c; :handbag: \u0026#x1f45d; :pouch: \u0026#x1f45b; :purse: \u0026#x1f453; :eyeglasses: \u0026#x1f3a3; :fishing_pole_and_fish: \u0026#x2615; :coffee: \u0026#x1f375; :tea: \u0026#x1f376; :sake: \u0026#x1f37c; :baby_bottle: \u0026#x1f37a; :beer: \u0026#x1f37b; :beers: \u0026#x1f378; :cocktail: \u0026#x1f379; :tropical_drink: \u0026#x1f377; :wine_glass: \u0026#x1f374; :fork_and_knife: \u0026#x1f355; :pizza: \u0026#x1f354; :hamburger: \u0026#x1f35f; :fries: \u0026#x1f357; :poultry_leg: \u0026#x1f356; :meat_on_bone: \u0026#x1f35d; :spaghetti: \u0026#x1f35b; :curry: \u0026#x1f364; :fried_shrimp: \u0026#x1f371; :bento: \u0026#x1f363; :sushi: \u0026#x1f365; :fish_cake: \u0026#x1f359; :rice_ball: \u0026#x1f358; :rice_cracker: \u0026#x1f35a; :rice: \u0026#x1f35c; :ramen: \u0026#x1f372; :stew: \u0026#x1f362; :oden: \u0026#x1f361; :dango: \u0026#x1f95a; :egg: \u0026#x1f35e; :bread: \u0026#x1f369; :doughnut: \u0026#x1f36e; :custard: \u0026#x1f366; :icecream: \u0026#x1f368; :ice_cream: \u0026#x1f367; :shaved_ice: \u0026#x1f382; :birthday: \u0026#x1f370; :cake: \u0026#x1f36a; :cookie: \u0026#x1f36b; :chocolate_bar: \u0026#x1f36c; :candy: \u0026#x1f36d; :lollipop: \u0026#x1f36f; :honey_pot: \u0026#x1f34e; :apple: \u0026#x1f34f; :green_apple: \u0026#x1f34a; :tangerine: \u0026#x1f34b; :lemon: \u0026#x1f352; :cherries: \u0026#x1f347; :grapes: \u0026#x1f349; :watermelon: \u0026#x1f353; :strawberry: \u0026#x1f351; :peach: \u0026#x1f348; :melon: \u0026#x1f34c; :banana: \u0026#x1f350; :pear: \u0026#x1f34d; :pineapple: \u0026#x1f360; :sweet_potato: \u0026#x1f346; :eggplant: \u0026#x1f345; :tomato: \u0026#x1f33d; :corn: Places \u0026#x1f3e0; :house: \u0026#x1f3e1; :house_with_garden: \u0026#x1f3eb; :school: \u0026#x1f3e2; :office: \u0026#x1f3e3; :post_office: \u0026#x1f3e5; :hospital: \u0026#x1f3e6; :bank: \u0026#x1f3ea; :convenience_store: \u0026#x1f3e9; :love_hotel: \u0026#x1f3e8; :hotel: \u0026#x1f492; :wedding: \u0026#x26ea; :church: \u0026#x1f3ec; :department_store: \u0026#x1f3e4; :european_post_office: \u0026#x1f307; :city_sunrise: \u0026#x1f306; :city_sunset: \u0026#x1f3ef; :japanese_castle: \u0026#x1f3f0; :european_castle: \u0026#x26fa; :tent: \u0026#x1f3ed; :factory: \u0026#x1f5fc; :tokyo_tower: \u0026#x1f5fe; :japan: \u0026#x1f5fb; :mount_fuji: \u0026#x1f304; :sunrise_over_mountains: \u0026#x1f305; :sunrise: \u0026#x1f320; :stars: \u0026#x1f5fd; :statue_of_liberty: \u0026#x1f309; :bridge_at_night: \u0026#x1f3a0; :carousel_horse: \u0026#x1f308; :rainbow: \u0026#x1f3a1; :ferris_wheel: \u0026#x26f2; :fountain: \u0026#x1f3a2; :roller_coaster: \u0026#x1f6a2; :ship: \u0026#x1f6a4; :speedboat: \u0026#x26f5; :boat: \u0026#x26f5; :sailboat: \u0026#x1f6a3; :rowboat: \u0026#x2693; :anchor: \u0026#x1f680; :rocket: \u0026#x2708;\u0026#xfe0f; :airplane: \u0026#x1f681; :helicopter: \u0026#x1f682; :steam_locomotive: \u0026#x1f68a; :tram: \u0026#x1f69e; :mountain_railway: \u0026#x1f6b2; :bike: \u0026#x1f6a1; :aerial_tramway: \u0026#x1f69f; :suspension_railway: \u0026#x1f6a0; :mountain_cableway: \u0026#x1f69c; :tractor: \u0026#x1f699; :blue_car: \u0026#x1f698; :oncoming_automobile: \u0026#x1f697; :car: \u0026#x1f697; :red_car: \u0026#x1f695; :taxi: \u0026#x1f696; :oncoming_taxi: \u0026#x1f69b; :articulated_lorry: \u0026#x1f68c; :bus: \u0026#x1f68d; :oncoming_bus: \u0026#x1f6a8; :rotating_light: \u0026#x1f693; :police_car: \u0026#x1f694; :oncoming_police_car: \u0026#x1f692; :fire_engine: \u0026#x1f691; :ambulance: \u0026#x1f690; :minibus: \u0026#x1f69a; :truck: \u0026#x1f68b; :train: \u0026#x1f689; :station: \u0026#x1f686; :train2: \u0026#x1f685; :bullettrain_front: \u0026#x1f684; :bullettrain_side: \u0026#x1f688; :light_rail: \u0026#x1f69d; :monorail: \u0026#x1f683; :railway_car: \u0026#x1f68e; :trolleybus: \u0026#x1f3ab; :ticket: \u0026#x26fd; :fuelpump: \u0026#x1f6a6; :vertical_traffic_light: \u0026#x1f6a5; :traffic_light: \u0026#x26a0;\u0026#xfe0f; :warning: \u0026#x1f6a7; :construction: \u0026#x1f530; :beginner: \u0026#x1f3e7; :atm: \u0026#x1f3b0; :slot_machine: \u0026#x1f68f; :busstop: \u0026#x1f488; :barber: \u0026#x2668;\u0026#xfe0f; :hotsprings: \u0026#x1f3c1; :checkered_flag: \u0026#x1f38c; :crossed_flags: \u0026#x1f3ee; :izakaya_lantern: \u0026#x1f5ff; :moyai: \u0026#x1f3aa; :circus_tent: \u0026#x1f3ad; :performing_arts: \u0026#x1f4cd; :round_pushpin: \u0026#x1f6a9; :triangular_flag_on_post: \u0026#x1f1ef;\u0026#x1f1f5; :jp: \u0026#x1f1f0;\u0026#x1f1f7; :kr: \u0026#x1f1e8;\u0026#x1f1f3; :cn: \u0026#x1f1fa;\u0026#x1f1f8; :us: \u0026#x1f1eb;\u0026#x1f1f7; :fr: \u0026#x1f1ea;\u0026#x1f1f8; :es: \u0026#x1f1ee;\u0026#x1f1f9; :it: \u0026#x1f1f7;\u0026#x1f1fa; :ru: \u0026#x1f1ec;\u0026#x1f1e7; :gb: \u0026#x1f1ec;\u0026#x1f1e7; :uk: \u0026#x1f1e9;\u0026#x1f1ea; :de: Symbols \u0026#x31;\u0026#xfe0f;\u0026#x20e3; :one: \u0026#x32;\u0026#xfe0f;\u0026#x20e3; :two: \u0026#x33;\u0026#xfe0f;\u0026#x20e3; :three: \u0026#x34;\u0026#xfe0f;\u0026#x20e3; :four: \u0026#x35;\u0026#xfe0f;\u0026#x20e3; :five: \u0026#x36;\u0026#xfe0f;\u0026#x20e3; :six: \u0026#x37;\u0026#xfe0f;\u0026#x20e3; :seven: \u0026#x38;\u0026#xfe0f;\u0026#x20e3; :eight: \u0026#x39;\u0026#xfe0f;\u0026#x20e3; :nine: \u0026#x1f51f; :keycap_ten: \u0026#x1f522; :1234: \u0026#x30;\u0026#xfe0f;\u0026#x20e3; :zero: \u0026#x23;\u0026#xfe0f;\u0026#x20e3; :hash: \u0026#x1f523; :symbols: \u0026#x25c0;\u0026#xfe0f; :arrow_backward: \u0026#x2b07;\u0026#xfe0f; :arrow_down: \u0026#x25b6;\u0026#xfe0f; :arrow_forward: \u0026#x2b05;\u0026#xfe0f; :arrow_left: \u0026#x1f520; :capital_abcd: \u0026#x1f521; :abcd: \u0026#x1f524; :abc: \u0026#x2199;\u0026#xfe0f; :arrow_lower_left: \u0026#x2198;\u0026#xfe0f; :arrow_lower_right: \u0026#x27a1;\u0026#xfe0f; :arrow_right: \u0026#x2b06;\u0026#xfe0f; :arrow_up: \u0026#x2196;\u0026#xfe0f; :arrow_upper_left: \u0026#x2197;\u0026#xfe0f; :arrow_upper_right: \u0026#x23ec; :arrow_double_down: \u0026#x23eb; :arrow_double_up: \u0026#x1f53d; :arrow_down_small: \u0026#x2935;\u0026#xfe0f; :arrow_heading_down: \u0026#x2934;\u0026#xfe0f; :arrow_heading_up: \u0026#x21a9;\u0026#xfe0f; :leftwards_arrow_with_hook: \u0026#x21aa;\u0026#xfe0f; :arrow_right_hook: \u0026#x2194;\u0026#xfe0f; :left_right_arrow: \u0026#x2195;\u0026#xfe0f; :arrow_up_down: \u0026#x1f53c; :arrow_up_small: \u0026#x1f503; :arrows_clockwise: \u0026#x1f504; :arrows_counterclockwise: \u0026#x23ea; :rewind: \u0026#x23e9; :fast_forward: \u0026#x2139;\u0026#xfe0f; :information_source: \u0026#x1f197; :ok: \u0026#x1f500; :twisted_rightwards_arrows: \u0026#x1f501; :repeat: \u0026#x1f502; :repeat_one: \u0026#x1f195; :new: \u0026#x1f51d; :top: \u0026#x1f199; :up: \u0026#x1f192; :cool: \u0026#x1f193; :free: \u0026#x1f196; :ng: \u0026#x1f3a6; :cinema: \u0026#x1f201; :koko: \u0026#x1f4f6; :signal_strength: \u0026#x1f239; :u5272: \u0026#x1f234; :u5408: \u0026#x1f23a; :u55b6: \u0026#x1f22f; :u6307: \u0026#x1f237;\u0026#xfe0f; :u6708: \u0026#x1f236; :u6709: \u0026#x1f235; :u6e80: \u0026#x1f21a; :u7121: \u0026#x1f238; :u7533: \u0026#x1f233; :u7a7a: \u0026#x1f232; :u7981: \u0026#x1f202;\u0026#xfe0f; :sa: \u0026#x1f6bb; :restroom: \u0026#x1f6b9; :mens: \u0026#x1f6ba; :womens: \u0026#x1f6bc; :baby_symbol: \u0026#x1f6ad; :no_smoking: \u0026#x1f17f;\u0026#xfe0f; :parking: \u0026#x267f; :wheelchair: \u0026#x1f687; :metro: \u0026#x1f6c4; :baggage_claim: \u0026#x1f251; :accept: \u0026#x1f6be; :wc: \u0026#x1f6b0; :potable_water: \u0026#x1f6ae; :put_litter_in_its_place: \u0026#x3299;\u0026#xfe0f; :secret: \u0026#x3297;\u0026#xfe0f; :congratulations: \u0026#x24c2;\u0026#xfe0f; :m: \u0026#x1f6c2; :passport_control: \u0026#x1f6c5; :left_luggage: \u0026#x1f6c3; :customs: \u0026#x1f250; :ideograph_advantage: \u0026#x1f191; :cl: \u0026#x1f198; :sos: \u0026#x1f194; :id: \u0026#x1f6ab; :no_entry_sign: \u0026#x1f51e; :underage: \u0026#x1f4f5; :no_mobile_phones: \u0026#x1f6af; :do_not_litter: \u0026#x1f6b1; :non-potable_water: \u0026#x1f6b3; :no_bicycles: \u0026#x1f6b7; :no_pedestrians: \u0026#x1f6b8; :children_crossing: \u0026#x26d4; :no_entry: \u0026#x2733;\u0026#xfe0f; :eight_spoked_asterisk: \u0026#x2734;\u0026#xfe0f; :eight_pointed_black_star: \u0026#x1f49f; :heart_decoration: \u0026#x1f19a; :vs: \u0026#x1f4f3; :vibration_mode: \u0026#x1f4f4; :mobile_phone_off: \u0026#x1f4b9; :chart: \u0026#x1f4b1; :currency_exchange: \u0026#x2648; :aries: \u0026#x2649; :taurus: \u0026#x264a; :gemini: \u0026#x264b; :cancer: \u0026#x264c; :leo: \u0026#x264d; :virgo: \u0026#x264e; :libra: \u0026#x264f; :scorpius: \u0026#x2650; :sagittarius: \u0026#x2651; :capricorn: \u0026#x2652; :aquarius: \u0026#x2653; :pisces: \u0026#x26ce; :ophiuchus: \u0026#x1f52f; :six_pointed_star: \u0026#x274e; :negative_squared_cross_mark: \u0026#x1f170;\u0026#xfe0f; :a: \u0026#x1f171;\u0026#xfe0f; :b: \u0026#x1f18e; :ab: \u0026#x1f17e;\u0026#xfe0f; :o2: \u0026#x1f4a0; :diamond_shape_with_a_dot_inside: \u0026#x267b;\u0026#xfe0f; :recycle: \u0026#x1f51a; :end: \u0026#x1f51b; :on: \u0026#x1f51c; :soon: \u0026#x1f550; :clock1: \u0026#x1f55c; :clock130: \u0026#x1f559; :clock10: \u0026#x1f565; :clock1030: \u0026#x1f55a; :clock11: \u0026#x1f566; :clock1130: \u0026#x1f55b; :clock12: \u0026#x1f567; :clock1230: \u0026#x1f551; :clock2: \u0026#x1f55d; :clock230: \u0026#x1f552; :clock3: \u0026#x1f55e; :clock330: \u0026#x1f553; :clock4: \u0026#x1f55f; :clock430: \u0026#x1f554; :clock5: \u0026#x1f560; :clock530: \u0026#x1f555; :clock6: \u0026#x1f561; :clock630: \u0026#x1f556; :clock7: \u0026#x1f562; :clock730: \u0026#x1f557; :clock8: \u0026#x1f563; :clock830: \u0026#x1f558; :clock9: \u0026#x1f564; :clock930: \u0026#x1f4b2; :heavy_dollar_sign: \u0026#xa9;\u0026#xfe0f; :copyright: \u0026#xae;\u0026#xfe0f; :registered: \u0026#x2122;\u0026#xfe0f; :tm: \u0026#x274c; :x: \u0026#x2757; :heavy_exclamation_mark: \u0026#x203c;\u0026#xfe0f; :bangbang: \u0026#x2049;\u0026#xfe0f; :interrobang: \u0026#x2b55; :o: \u0026#x2716;\u0026#xfe0f; :heavy_multiplication_x: \u0026#x2795; :heavy_plus_sign: \u0026#x2796; :heavy_minus_sign: \u0026#x2797; :heavy_division_sign: \u0026#x1f4ae; :white_flower: \u0026#x1f4af; :100: \u0026#x2714;\u0026#xfe0f; :heavy_check_mark: \u0026#x2611;\u0026#xfe0f; :ballot_box_with_check: \u0026#x1f518; :radio_button: \u0026#x1f517; :link: \u0026#x27b0; :curly_loop: \u0026#x3030;\u0026#xfe0f; :wavy_dash: \u0026#x303d;\u0026#xfe0f; :part_alternation_mark: \u0026#x1f531; :trident: :black_square: :black_square: :white_square: :white_square: \u0026#x2705; :white_check_mark: \u0026#x1f532; :black_square_button: \u0026#x1f533; :white_square_button: \u0026#x26ab; :black_circle: \u0026#x26aa; :white_circle: \u0026#x1f534; :red_circle: \u0026#x1f535; :large_blue_circle: \u0026#x1f537; :large_blue_diamond: \u0026#x1f536; :large_orange_diamond: \u0026#x1f539; :small_blue_diamond: \u0026#x1f538; :small_orange_diamond: \u0026#x1f53a; :small_red_triangle: \u0026#x1f53b; :small_red_triangle_down: :shipit: :shipit: 学习资源扩展 GitHub风格的Markdown规范:https://gfm.docschina.org/zh-hans/ 主页地址:https://cfanzp.com\u0026#160;\u0026#x21a9;\u0026#xfe0e; ","permalink":"https://cfanzp.com/markdown/","tags":["markdown"],"title":"Markdown需要掌握的基础"},{"categories":["devtools"],"contents":"弱网测试环境的搭建 最近有一个线上项目反馈在弱网环境下，容易掉线。我们自己测试的时候网络环境都还比较好，想模拟一下弱网环境，这里介绍一下几个方案。 路由器限速 路由器可以直接对某个设备进行限速，这个登录路由器就可以配置了，方法比较简单，这里就不赘述了。 chrome开发者工具 chrome开发者工具自带网络限速功能，可以限制速度,可以自定义各种网络带宽，使用比较方便。 使用Charles设置代理限速 这种方法配置起来相比前面2种情况，稍微麻烦一些,另外有一个缺点，websockt限速好像没办法设置(Charles 4.6.2)。 ","permalink":"https://cfanzp.com/weak-net/","tags":["devtools"],"title":"弱网测试环境的搭建"},{"categories":["lua"],"contents":"lua中的self self的用法 使用:定义的函数默认接收第一个参数是self 使用:调用函数默认传入第一个参数是调用者 使用.定义和调用函数不会接受或传入self :为我们省下了一个参数，下面例子中的A:Add()与A.Add(t)是等价的 1 2 3 4 5 6 7 local A = {x = 1, y = 2} function t:Add() return (self.x + self.y) end print(A:Add()) print(A.Add(A)) ","permalink":"https://cfanzp.com/lua-self/","tags":["lua"],"title":"lua中的self"},{"categories":[],"contents":"git tag排序,解决默认看到的最后一个不是最新的tag的问题 git tag的问题 在使用git tag查看标签的时候，默认是按tag的字符串排序的，只有命名的顺序与字符串排序相同的时候,显示在最后的tag才是最新的,例如,有下面几个标签: 1 2 v0.9.0 v0.10.0 v0.10.0按字符串排序会默认显示在上面: 1 2 v0.10.0 v0.9.0 git tag加上排序 让git按照打标签的时间进行排序，加上参数\u0026ndash;sort=taggerdate 1 git tag -n --sort=taggerdate 为了方便平时输入在.gitconfig上加上缩写 1 2 [alias] stag = tag -n --sort=taggerdate 1 git tag -n --sort=taggerdate ","permalink":"https://cfanzp.com/git-tag-sort/","tags":[],"title":"git tag排序,解决默认看到的最后一个不是最新的tag的问题"},{"categories":["tools"],"contents":"hugo学习笔记 hugo 下载 linux,ubuntu 1 wget https://github.com/gohugoio/hugo/releases/download/v0.101.0/hugo_0.101.0_Linux-64bit.tar.gz 扩展版本 1 wget https://github.com/gohugoio/hugo/releases/download/v0.101.0/hugo_extended_0.101.0_Linux-64bit.tar.gz macos 1 wget https://github.com/gohugoio/hugo/releases/download/v0.101.0/hugo_0.101.0_macOS-64bit.tar.gz 如果是需要使用custom.scss配置需要使用扩展版本: 1 wget https://github.com/gohugoio/hugo/releases/download/v0.101.0/hugo_extended_0.101.0_macOS-64bit.tar.gz m1 https://github.com/gohugoio/hugo/releases/download/v0.111.3/hugo_extended_0.111.3_darwin-universal.tar.gz hugo集成搜索 hugo在集成搜索的时候还是有多种方案的，LoveIt默认的方案个人不太喜欢。这里个人测试了hugo-search-fuse-js的方案和gcse的方案，目前在使用的是hugo-search-fuse-js的方案。 注意 hugo-search-fuse-js 在配置搜索时，默认显示有点不正常,需要添加一点自定义的css样式到_custom.scss中。 这里的hugo需要安装扩展版本的。 hugo集成hugo-search-fuse-js hugo-search-fuse-js:https://github.com/kaushalmodi/hugo-search-fuse-js 添加站内搜索(gcse) mac m1 hugo-search-fuse-js报错 1 Error: Error building site: failed to render pages: render of \u0026#34;page\u0026#34; failed: \u0026#34;/linux_dev_blog/themes/hugo-search-fuse-js/layouts/_default/search.html:124:66\u0026#34;: execute of template failed: template: _default/search.html:124:66: executing \u0026#34;footer\u0026#34; at \u0026lt;fingerprint\u0026gt;: error calling fingerprint: \u0026lt;nil\u0026gt; can not be transformed 默认启动端口 1313 hugo推荐主题LoveIt LoveIt LoveIt主题使用demo网站 https://hugoloveit.com/ https://dillonzq.com/ https://lewky.cn/ https://cfanzp.com https://i.scwy.net/ https://kevin-shi.gitee.io/ ","permalink":"https://cfanzp.com/hugo-note/","tags":["hugo"],"title":"Hugo学习笔记"},{"categories":["devtools"],"contents":"tmux常用快捷键 注意 c-a:表示ctrl+a,我这里修改了默认的ctrl+b为ctrl+a 常用快捷键 c-a +z:在全屏和窗口之间切换 c-a +c:创建一个新的窗口 c-a+%:竖直创建一个新的pannel c-a+,:水平创建一个新的pannel c-a+(h,j,kl):在各个pannel间切换，需要在.tmux.conf配置文件中配置 c-a+[:进入复制模式，q:退出复制模式 c-a+w:查看所有窗口列表 c-a+$:重命名当前的session ","permalink":"https://cfanzp.com/tmux-shortcut-key/","tags":["tmux","快捷键","terminal"],"title":"tmux常用快捷键"},{"categories":["mac"],"contents":"mac快捷键汇总 注意 这里Win键对应mac键盘的Command键 常用快捷键 command + backspace: 删除文件 选中文件+enter: 重命名文件 打开搜索 win/command+space：打开搜索 切换应用 win/command+tab:切换应用 刷新chrome网页 win+r:刷新chrome网页 terminal 新建一个terminal command+N:新建一个terminal 多个terminal之间切换 command+`:在多个terminal之间切换 这个时非常实用的，但是每次想用的时候都不记得快捷键了，相当尴尬。。。 切换输入法 ctrl+space:切换输入法 在全屏和窗口模式间相互切换 ctrl+command+F:在全屏和窗口模式间相互切换 mac要进入窗口最大化的方式就是双击标题栏，而没有键盘快捷键，这个有点不太友好。 取而代之的时mac推荐用command + control + F进入全屏模式专注于当前的工作 ","permalink":"https://cfanzp.com/mac-shortcut-key/","tags":["mac","快捷键"],"title":"mac快捷键汇总"},{"categories":["devtools"],"contents":"http测试工具 curl 官网:https://curl.se/ Postman 官网:https://www.postman.com/ Apifox 官网:https://www.apifox.cn/ VSCode插件Thunder Client 用法:https://github.com/rangav/thunder-client-support#usage ","permalink":"https://cfanzp.com/http-req/","tags":["devtools"],"title":"http测试工具"},{"categories":["devtools"],"contents":"常用的http请求分析工具 charles(收费) fiddler(windows免费) ","permalink":"https://cfanzp.com/http-proxy-package/","tags":["devtools","http"],"title":"常用的http请求分析工具"},{"categories":["lua","language"],"contents":"lua面向对象编程 对象定义: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 local logger = require \u0026#34;common.logger\u0026#34; local date = require \u0026#34;common.date\u0026#34; local uuid = require \u0026#34;uuid\u0026#34; uuid.seed() -- 初始化uuid种子 local Tracer = { tid = \u0026#34;\u0026#34;, uid = 0, msgid = 0, start_time = 0, end_time = 0 } local function get_new_id() local tmp_uuid = uuid() local new_uuid = string.gsub(tmp_uuid,\u0026#34;-\u0026#34;,\u0026#34;\u0026#34;) return new_uuid end local function get_traceid(a_uid,a_msgid,start_time) local uid = a_uid if a_uid == nil then uid = \u0026#34;\u0026#34; end local msgid = a_msgid if a_msgid == nil then msgid = \u0026#34;\u0026#34; end local id = get_new_id() local tid = \u0026#34;utid_\u0026#34; .. tostring(uid) .. \u0026#34;_\u0026#34; ..msgid .. \u0026#34;_\u0026#34;.. id tid = tid .. \u0026#34;_\u0026#34; .. tostring(start_time) return tid,start_time end function Tracer:new(a_uid,a_msgid) local o = {} self.__index = self setmetatable(o,self) o.uid = a_uid o.msgid = a_msgid o.start_time = date.skynet_time() local tid = get_gate_traceid(a_uid,a_msgid,o.start_time) o.tid = tid return o end function Tracer:get_tid() return self.tid end local function check_time(tid,start_time,end_time,...) local diff_time = math.floor(end_time - start_time) if diff_time \u0026gt; ERROR_TIME then local str_time = string.format(\u0026#34;\\x1b[31mERROR NEED UPDATE-%dms\\x1b[0m\u0026#34;, diff_time) ELOG(string.format(\u0026#34;[%s][%s]\u0026#34;, tid, str_time ),...) elseif diff_time \u0026gt; WARN_TIME then local str_time = string.format(\u0026#34;\\x1b[33mTOO SLOW-%dms\\x1b[0m\u0026#34;, diff_time) WLOG(string.format(\u0026#34;[%s][%s]\u0026#34;, tid, str_time ),...) elseif diff_time \u0026gt; DEBUG_TIME then local str_time = string.format(\u0026#34;\\x1b[34mSLOW-%dms\\x1b[0m\u0026#34;, diff_time) WLOG(string.format(\u0026#34;[%s][%s]\u0026#34;, tid, str_time),...) else local str_time = string.format(\u0026#34;\\x1b[32mFAST-%dms\\x1b[0m\u0026#34;, diff_time) NLOG(string.format(\u0026#34;[%s][%s]\u0026#34;, tid, str_time),...) end end function Tracer:trace_ret(end_time,...) self.end_time = end_time --ELOG(\u0026#34;self.start_time:\u0026#34;,self.start_time) check_time(self.tid,self.start_time,end_time,...) end return Tracer 使用举例: 1 2 3 4 5 6 7 local Tracer = require \u0026#34;common.tracer\u0026#34; local cur_tracer = Tracer:new(msg.uid,msgid) local tid = cur_tracer:get_tid() DLOG(tid,\u0026#34;req:\u0026#34;,msgid,utils.dump(body_req)) local ret = msg_helper.calllobby_byhttpgate(msg,tid) --WLOG(tid,\u0026#34;calllobby_byhttpgate_ret:\u0026#34;,msgid,utils.dump(ret)) cur_tracer:trace_ret(date.skynet_time(),\u0026#34;calllobby_byhttpgate_ret\u0026#34;,msgid,utils.dump(ret)) 我们可以用.来访问属性: 1 2 local tid = cur_tracer.tid local uid = cur_tracer.uid 参考链接: lua面向对象 ","permalink":"https://cfanzp.com/lua-new/","tags":["lua"],"title":"lua面向对象编程"},{"categories":["vim"],"contents":"vim-surround插件用法 vim-surround插件有什么用？ vim-surround插件能够帮助我们方便地处理代码中成对的符号，包括: 成对增加符号 成对修改符号 成对删除符号 使用plug插件管理器安装方法 在.vimrc中加入如下配置: 1 Plug \u0026#39;tpope/vim-surround\u0026#39; 如何使用vim-surround? 普通模式使用vim-surround-添加成对符号 普通模式在单词2边加上双引号: 1 ysiw\u0026#34; 普通模式在整行加上双引号: 1 yss\u0026#34; 普通模式使用vim-surround-修改成对符号 普通模式在单词2边加上双引号改为单引号: 1 cs\u0026#34;\u0026#39; 普通模式使用vim-surround-删除成对符号 普通模式删除单词2边双引号: 1 ds\u0026#34; 参考链接 https://github.com/tpope/vim-surround https://zhuanlan.zhihu.com/p/158604935/ 总结 上面列举的是个人觉得比较实用的几种用法，更多用法可以参考一下上面的参考链接。 ","permalink":"https://cfanzp.com/vim-surround/","tags":["vim"],"title":"vim-surround插件用法"},{"categories":["nginx"],"contents":"nginx如何检查配置文件是否正确？ nginx如何检查配置文件是否正确？当然是靠自己了，只有自己才知道自己想用nginx干啥，当然你还可叫上你的同事、朋友帮你看看配置是否有错。nginx其实可以帮助你检查一些基础的语法错误。命令很简单: 1 nginx -t -c /etc/nginx/nginx.conf 有些情况线上需要修改配置文件怎么办？ 保险的做法是: 先检查一下配置文件 1 nginx -t 然后热加载配置 1 nginx -s reload 最后去检查一下业务是否能够正常访问 ","permalink":"https://cfanzp.com/nginx-config-check/","tags":["nginx"],"title":"nginx如何检查配置文件是否正确？"},{"categories":["linux","devtools"],"contents":"ranger如何配置预览图片？ ranger的配置文件在目录~/.config/ranger/rc.conf中，配置预览只需要在配置文件中加入2项配置即可: 1 2 set preview_images true set preview_images_method w3m 更多 其它ranger的使用技巧可以参考这篇文件: https://zhuanlan.zhihu.com/p/476289339 ","permalink":"https://cfanzp.com/ranger-config/","tags":["linux","ranger"],"title":"ranger如何配置预览图片？"},{"categories":["git"],"contents":"git配置文件.gitconfig .gitconfig 配置 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 [alias] co = checkout ci = commit st = status sh = stash sa = stash apply sp = stash pop ap = add -p br = branch cp = checkout -p cv = commit -v dc = diff --cached d = difftool pr = pull --rebase ps = push l = log --graph --pretty=format:\u0026#39;%C(yellow)%h%Creset %C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u0026lt;%an\u0026gt;%Creset\u0026#39; --abbrev-commit --date=short --all lg = log --color --graph --pretty=format:\u0026#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u0026lt;%an\u0026gt;%Creset\u0026#39; --abbrev-commit --all lgfile = log --name-status --color --graph --pretty=format:\u0026#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u0026lt;%an\u0026gt;%Creset\u0026#39; --abbrev-commit --all [user] email = cfanzp@qq.com name = mac_zp [diff] tool = vimdiff [difftool] prompt = false [color] status = auto diff = auto branch = auto interactive = auto [core] editor = vim whitespace = cr-at-eol autocrlf = input ","permalink":"https://cfanzp.com/config-git/","tags":["git","config"],"title":"git配置文件.gitconfig"},{"categories":["vim"],"contents":"vimrc配置文件.vimrc 下面是我的vim配置，这里记录一下 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 304 305 306 307 308 309 310 311 312 313 314 315 316 317 318 319 320 321 322 323 324 325 326 327 328 329 330 331 332 333 334 335 336 337 338 339 340 341 342 343 344 345 346 347 348 349 350 351 352 353 354 355 356 357 358 359 360 361 362 363 364 365 366 367 368 369 370 371 372 373 374 375 376 377 378 379 380 381 382 383 384 385 386 387 388 389 390 391 392 393 394 395 396 397 398 399 400 401 402 403 404 405 406 407 408 409 410 411 412 413 414 415 416 417 418 419 420 421 422 423 424 425 426 427 428 429 430 431 432 433 434 435 436 437 438 439 440 441 442 443 444 445 446 447 448 449 450 451 452 453 454 455 456 457 458 459 460 461 462 463 464 465 466 467 468 469 470 471 472 473 474 475 476 477 478 479 480 481 482 483 484 485 486 487 488 489 490 491 492 493 494 \u0026#34;set term=screen set ruler set laststatus=2 \u0026#34; make the last line where the status is two lines deep so you can see status always set backspace=indent,eol,start \u0026#34; make that backspace key work the way it should set nocompatible \u0026#34; vi compatible is LAME set showmode \u0026#34; show the current mode syntax on \u0026#34; turn syntax highlighting on by default \u0026#34;set fdm=indent \u0026#34; \u0026#34;\u0026#34;行号{ set nu! \u0026#34;set relativenumber \u0026#34;} \u0026#34; \u0026#34;set guifont=h12 set hls \u0026#34;set background=dark set t_Co=256 \u0026#34;设置配色方案{ left g:molokai_original = 1 let g:rehash256 = 1 \u0026#34;desert \u0026#34;colorscheme solarized molokai github lucius desert \u0026#34;} \u0026#34; markdown theme \u0026#34;let g:detorte_theme_mode = \u0026#39;dark\u0026#39; \u0026#34;tab{ set tabstop=2 set expandtab \u0026#34;\u0026#34;} filetype off call plug#begin(\u0026#39;~/.vim/plugged\u0026#39;) Plug \u0026#39;git://github.com/tomasr/molokai.git\u0026#39; Plug \u0026#39;preservim/nerdtree\u0026#39; \u0026#34;jPlug \u0026#39;preservim/nerdtree\u0026#39; | \u0026#34; \\ Plug \u0026#39;xuyuanp/nerdtree-git-plugin\u0026#39; | \u0026#34; \\ Plug \u0026#39;ryanoasis/vim-devicons\u0026#39; Plug \u0026#39;tiagofumo/vim-nerdtree-syntax-highlight\u0026#39; Plug \u0026#39;vim-airline/vim-airline\u0026#39; Plug \u0026#39;vim-airline/vim-airline-themes\u0026#39; Plug \u0026#39;michaelHL/awesome-vim-colorschemes\u0026#39; Plug \u0026#39;majutsushi/tagbar\u0026#39; Plug \u0026#39;godlygeek/tabular\u0026#39; Plug \u0026#39;ctrlpvim/ctrlp.vim\u0026#39; \u0026#34;Plug \u0026#39;ack.vim\u0026#39; \u0026#34;Plug \u0026#39;vim-scripts/luainspect.vim\u0026#39; \u0026#34;Plug \u0026#39;xolox/vim-misc\u0026#39; \u0026#34;Plug \u0026#39;xolox/vim-lua-ftplugin\u0026#39; Plug \u0026#39;Shougo/neocomplcache\u0026#39; Plug \u0026#39;nathanaelkane/vim-indent-guides\u0026#39; Plug \u0026#39;Yggdroot/indentLine\u0026#39; Plug \u0026#39;airblade/vim-gitgutter\u0026#39; Plug \u0026#39;gregsexton/gitv\u0026#39; \u0026#34;Plug \u0026#39;tpope/vim-fugitive\u0026#39; Plug \u0026#39;git://github.com/rking/ag.vim.git\u0026#39; \u0026#34; Multiple Plug commands can be written in a single line using | separators \u0026#34;Plug \u0026#39;SirVer/ultisnips\u0026#39; | Plug \u0026#39;honza/vim-snippets\u0026#39; Plug \u0026#39;tpope/vim-surround\u0026#39; Plug \u0026#39;scrooloose/syntastic\u0026#39; Plug \u0026#39;Chiel92/vim-autoformat\u0026#39; Plug \u0026#39;tpope/vim-commentary\u0026#39; Plug \u0026#39;junegunn/fzf\u0026#39;, { \u0026#39;dir\u0026#39;: \u0026#39;~/.fzf\u0026#39;, \u0026#39;do\u0026#39;: \u0026#39;./install --all\u0026#39; } \u0026#34;Plug \u0026#39;/usr/bin/fzf\u0026#39; Plug \u0026#39;junegunn/fzf.vim\u0026#39; \u0026#34;Plug \u0026#39;Yggdroot/LeaderF\u0026#39;, { \u0026#39;do\u0026#39;: \u0026#39;./install.sh\u0026#39; } Plug \u0026#39;mg979/vim-visual-multi\u0026#39; \u0026#34;Plug \u0026#39;voldikss/vim-browser-search\u0026#39; Plug \u0026#39;kien/rainbow_parentheses.vim\u0026#39; Plug \u0026#39;uarun/vim-protobuf\u0026#39; \u0026#34;Plug \u0026#39;tpope/vim-abolish\u0026#39; \u0026#34;Plug \u0026#39;fatih/vim-go\u0026#39; \u0026#34;Plug \u0026#39;w0rp/ale\u0026#39; \u0026#34;Plug \u0026#39;tamlok/detorte\u0026#39; \u0026#34;Plug \u0026#39;tamlok/vim-markdown\u0026#39; Plug \u0026#39;iamcco/mathjax-support-for-mkdp\u0026#39; Plug \u0026#39;iamcco/markdown-preview.vim\u0026#39; \u0026#34;Plug \u0026#39;neoclide/coc.nvim\u0026#39;, {\u0026#39;branch\u0026#39;: \u0026#39;release\u0026#39;} \u0026#34; Initialize plugin system call plug#end() colorscheme molokai \u0026#34;neon evening molokai solarized molokai github lucius filetype plugin indent on \u0026#34; required \u0026#34;set runtimepath^=~/.vim/bundle/ag set runtimepath^=~/.vim/plugged/ag \u0026#34;path{ set path=./,../, \u0026#34;set path=./,/usr/include,,..,../lualib, \u0026#34;} \u0026#34; vim-indent-guides { \u0026#34;let g:indent_guides_enable_on_vim_startup = 1 \u0026#34;添加行，vim启动时启用 \u0026#34;let g:indent_guides_start_level = 1 \u0026#34;添加行，开始显示对齐线的缩进级别 \u0026#34;let g:indent_guides_guide_size = 1 \u0026#34;添加行，对齐线的宽度，（1字符） \u0026#34;let g:indent_guides_tab_guides = 0 \u0026#34;添加行，对tab对齐的禁用 \u0026#34;} \u0026#34; \u0026#34;indentLine{ \u0026#34;let g:indentLine_char=\u0026#39;|\u0026#39; let g:indentLine_char=\u0026#39;|\u0026#39; let g:indentLine_enabled = 1 \u0026#34;} \u0026#34;ctrlp{ let g:ctrlp_cmd = \u0026#39;CtrlP\u0026#39; let g:ctrlp_map = \u0026#39;\u0026lt;c-p\u0026gt;\u0026#39; set wildignore+=*.o,*.exe,*.git,*.pdb,*.bak,*.so,*.a let g:ctrlp_by_filename = 1 \u0026#34; only lookup file name let g:ctrlp_max_height = 15 let g:ctrlp_clear_cache_on_exit = 0 let g:ctrlp_cache_dir = $HOME.\u0026#39;/.ctrlp/cache/\u0026#39; let g:ctrlp_working_path_mode = \u0026#39;rw\u0026#39; let g:ctrlp_custom_ignore = { \\ \u0026#39;dir\u0026#39;: \u0026#39;\\v[\\/]\\.(git|hg|svn)$\u0026#39;, \\ \u0026#39;file\u0026#39;: \u0026#39;\\v\\.(exe|so|dll|bak|gds|lib|suo|exp)$\u0026#39;, \\ \u0026#39;link\u0026#39;: \u0026#39;SOME_BAD_SYMBOLIC_LINKS\u0026#39;, \\ } \u0026#34;} \u0026#34;调用ag进行搜索提升速度，同时不使用缓存文件 if executable(\u0026#39;ag\u0026#39;) set grepprg=ag\\ --nogroup\\ --nocolor let g:ctrlp_user_command = \u0026#39;ag %s -l --nocolor -g \u0026#34;\u0026#34;\u0026#39; let g:ctrlp_use_caching = 0 endif \u0026#34;ctags{ set tags=tags; \u0026#34;set autochdir nnoremap \u0026lt;silent\u0026gt; \u0026lt;F12\u0026gt; :A\u0026lt;CR\u0026gt; \u0026#34;:set grepprg=grep\\ -nri \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34; Tag list (ctags) \u0026#34; \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; let Tlist_Ctags_Cmd = \u0026#39;/usr/bin/ctags\u0026#39; \u0026#34;Tagbar let g:tagbar_ctags_bin = \u0026#39;/usr/bin/ctags\u0026#39; let Tlist_Show_One_File = 1 \u0026#34;不同时显示多个文件的tag，只显示当前文件的 \u0026#34;let Tlist_Exit_OnlyWindow = 1 \u0026#34;如果taglist窗口是最后一个窗口，则退出vim let Tlist_Use_Right_Window = 1 \u0026#34;在右侧窗口中显示taglist窗口 let Tlist_File_Fold_Auto_Close=1 \u0026#34;让不被编辑的文件的方法列表自动折叠起来 let Tlist_Show_Menu=1 \u0026#34;显示taglist菜单 let Tlist_Auto_Open=0 \u0026#34;启动vim自动启动TagList let g:NERDTreeWinSize = 30 let g:tagbar_width = 20 let g:tagbar_type_lua = { \\ \u0026#39;ctagstype\u0026#39; : \u0026#39;lua\u0026#39;, \\ \u0026#39;kinds\u0026#39; : [ \\ \u0026#39;m:modules:0:0\u0026#39;, \\ \u0026#39;f:functions:0:1\u0026#39;, \\ \u0026#39;v:locals:0:0\u0026#39; \\ ], \\ \u0026#39;sort\u0026#39; : 0 \\ } let g:lua_inspect_events = \u0026#39;\u0026#39; let mapleader=\u0026#34; \u0026#34; \u0026#34; tips plug \u0026#34;let g:pmenu_scheme = \u0026#39;dark\u0026#39; \u0026#34;let g:pmenu_scheme = \u0026#39;macos\u0026#39; \u0026#34;map \u0026lt;Tab\u0026gt; \u0026lt;Plug\u0026gt;EasyCompTabTrigger \u0026#34;imap \u0026lt;S-Tab\u0026gt; \u0026lt;Plug\u0026gt;EasyCompShiftTabTrigger \u0026#34; easycompelte end============ \u0026#34; neocomplcache let g:neocomplcache_enable_at_startup = 1 let g:neocomplcache_enable_auto_select = 1 \u0026#34;let g:neocomplcache_enable_quick_match = 1 let g:ag_prg=\u0026#39;ag --column\u0026#39; let g:ag_working_path_mode=\u0026#39;r\u0026#39; \u0026#34;git gutter nmap ]c \u0026lt;Plug\u0026gt;GitGutterNextHunk nmap [c \u0026lt;Plug\u0026gt;GitGutterPrevHunk \u0026#34; syntastic \u0026#34;set statusline+=%-10.3n set statusline+=%#warningmsg# set statusline+=%{SyntasticStatuslineFlag()} set statusline+=%* let g:syntastic_always_populate_loc_list = 1 let g:syntastic_auto_loc_list = 1 let g:syntastic_check_on_open = 1 let g:syntastic_check_on_wq = 0 \u0026#34;设置error和warning的标志 let g:syntastic_enable_signs = 1 let g:syntastic_error_symbol=\u0026#39;✗\u0026#39; let g:syntastic_warning_symbol=\u0026#39;►\u0026#39; \u0026#34;no-unused-args 忽略不使用的参数 \u0026#34;no-redefined 忽略重定义 \u0026#34;no-max-line-length 忽略每行最长的检测 \u0026#34;ignore 542 551 忽略if条件的body为空(如...elseif ret == nil then end，then和end中间没有语句)；忽略空语句(如;)，如果用了;则成对出现该语法检测warning \u0026#34;有语法错误的一行左侧栏会有S\u0026amp;gt;标识，光标移动到改行，vim下发会给出提示。修改正确后保存，则该\u0026#39;S\u0026amp;gt;\u0026#39;会消失。 \u0026#34;let g:syntastic_lua_checkers = [\u0026#34;luac\u0026#34;, \u0026#34;luacheck\u0026#34;] let g:syntastic_lua_checkers = [\u0026#34;/use/bin/luac5.4.3\u0026#34;, \u0026#34;luacheck\u0026#34;] \u0026#34;let g:syntastic_lua_luacheck_args = \u0026#34;--codes --no-max-comment-line-length --ignore 542 551\u0026#34; let g:syntastic_lua_luacheck_args = \u0026#34;--codes\u0026#34; \u0026#34;go checker let g:syntastic_go_checkers = [\u0026#34;govet\u0026#34;, \u0026#34;errcheck\u0026#34;,\u0026#34;go\u0026#34;] \u0026#34;c \u0026#34;let g:syntastic_c_compiler =[\u0026#39;gcc\u0026#39;, \u0026#39;clang\u0026#39;, \u0026#39;make\u0026#39;] \u0026#34;let g:syntastic_c_compiler_options =\u0026#39;-Wpedantic -g\u0026#39; let g:syntastic_c_compiler_options =\u0026#39;-std=gnu99\u0026#39; let g:syntastic_c_include_dirs=[\u0026#39;/usr/include/\u0026#39;] let g:syntastic_c_config_file=\u0026#39;.syntastic_c_config_file\u0026#39; \u0026#34;cpp let g:syntastic_cpp_include_dirs = [\u0026#39;/usr/include/\u0026#39;] let g:syntastic_cpp_remove_include_errors = 1 let g:syntastic_cpp_check_header = 1 let g:syntastic_cpp_compiler = \u0026#39;clang++\u0026#39; let g:syntastic_cpp_compiler_options = \u0026#39;-std=c++11 -stdlib=libstdc++\u0026#39; \u0026#34; syntastic end \u0026#34;F3自动格式化代码并保存 noremap \u0026lt;F3\u0026gt; :Autoformat\u0026lt;CR\u0026gt;:w\u0026lt;CR\u0026gt; let g:autoformat_verbosemode=1 \u0026#34;自动格式化lua代码，针对所有支持的文件 au BufWrite *.lua :Autoformat \u0026#34; autoformat 操作符2边加空格 let g:formatdef_allman = \u0026#39;\u0026#34;astyle --style=allman --pad-oper\u0026#34;\u0026#39; let g:autoformat_autoindent = 1 let g:autoformat_retab = 0 let g:autoformat_remove_trailing_spaces = 1 \u0026#34;指定lua格式化工具 let g:formatdef_my_lua= \u0026#39;\u0026#34;luafmt --stdin -l 80\u0026#34;\u0026#39; let g:formatters_lua= [\u0026#39;my_lua\u0026#39;] \u0026#34;map \u0026lt;C-F12\u0026gt; :!ctags -R --c++-kinds=+p --fields=+iaS --extra=+q.\u0026lt;CR\u0026gt; map \u0026lt;C-F12\u0026gt; :!ctags -R --fields=+iaS --extra=+q.\u0026lt;CR\u0026gt; \u0026#34;Press space twice to jump to the next \u0026#39;\u0026lt;++\u0026gt;\u0026#39; and edit it map \u0026lt;LEADER\u0026gt;\u0026lt;LEADER\u0026gt; \u0026lt;Esc\u0026gt;/\u0026lt;++\u0026gt;\u0026lt;CR\u0026gt;:nohlsearch\u0026lt;CR\u0026gt;c4l set tabstop=4 set softtabstop=4 set shiftwidth=4 set noexpandtab set expandtab set autoindent set cindent set cc=80 set list set listchars=tab:\u0026gt;-,trail:- set nocompatible set noswapfile set nobackup set nowritebackup set noundofile set fileencodings=ucs-bom,utf-8,cp936,gb18030,big5,euc-jp,euc-kr,latin1 \u0026#34; before vim 8.1 modellines bug set modelines=0 set nomodeline \u0026#34;inoremap :setl pastegi+:setl nopastegi \u0026#34; inoremap jk \u0026lt;ESC\u0026gt; \u0026#34; vimdiff begin { map silent\u0026lt;leader\u0026gt;1 :diffget 1\u0026lt;CR\u0026gt;:diffupdate\u0026lt;CR\u0026gt; map silent\u0026lt;leader\u0026gt;2 :diffget 2\u0026lt;CR\u0026gt;:diffupdate\u0026lt;CR\u0026gt; map silent\u0026lt;leader\u0026gt;3 :diffget 3\u0026lt;CR\u0026gt;:diffupdate\u0026lt;CR\u0026gt; map silent\u0026lt;leader\u0026gt;4 :diffget 4\u0026lt;CR\u0026gt;:diffupdate\u0026lt;CR\u0026gt; \u0026#34;} vimdiff end \u0026#34; fzf_begin{ map \u0026lt;leader\u0026gt;f :Rg\u0026lt;CR\u0026gt; map \u0026lt;leader\u0026gt;p :Files\u0026lt;CR\u0026gt; map \u0026lt;leader\u0026gt;b :Buffers\u0026lt;CR\u0026gt; \u0026#34; Empty value to disable preview window altogether \u0026#34; let g:fzf_preview_window = \u0026#39;\u0026#39; \u0026#34; \u0026#34; Always enable preview window on the right with 60% width let g:fzf_preview_window = \u0026#39;right:60%\u0026#39; command! -bang -nargs=* Ag \\ call fzf#vim#ag(\u0026lt;q-args\u0026gt;, \\ \u0026lt;bang\u0026gt;0 ? fzf#vim#with_preview(\u0026#39;up:60%\u0026#39;) \\ : fzf#vim#with_preview(\u0026#39;right:50%:hidden\u0026#39;, \u0026#39;?\u0026#39;), \\ \u0026lt;bang\u0026gt;0) let g:fzf_layout = {\u0026#39;down\u0026#39;:\u0026#39;40%\u0026#39;} map \u0026lt;leader\u0026gt;a :Ag\u0026lt;CR\u0026gt; nnoremap \u0026lt;silent\u0026gt; \u0026lt;Leader\u0026gt;A :Ag\u0026lt;CR\u0026gt; \u0026#34; fzf_end} \u0026#34;{ Leaderf_begin \u0026#34;let g:Lf_ShortcutF = \u0026#39;\u0026lt;C-P\u0026gt;\u0026#39; let g:Lf_ShortcutF = \u0026#39;\u0026lt;C-F\u0026gt;\u0026#39; map \u0026lt;leader\u0026gt;F :Leaderf! rg\u0026lt;CR\u0026gt; \u0026#34;{ Leaderf_end \u0026#34;{ rainbow_begin let g:rbpt_colorpairs = [ \\ [\u0026#39;brown\u0026#39;, \u0026#39;RoyalBlue3\u0026#39;], \\ [\u0026#39;Darkblue\u0026#39;, \u0026#39;SeaGreen3\u0026#39;], \\ [\u0026#39;darkgray\u0026#39;, \u0026#39;DarkOrchid3\u0026#39;], \\ [\u0026#39;darkgreen\u0026#39;, \u0026#39;firebrick3\u0026#39;], \\ [\u0026#39;darkcyan\u0026#39;, \u0026#39;RoyalBlue3\u0026#39;], \\ [\u0026#39;darkred\u0026#39;, \u0026#39;SeaGreen3\u0026#39;], \\ [\u0026#39;darkmagenta\u0026#39;, \u0026#39;DarkOrchid3\u0026#39;], \\ [\u0026#39;brown\u0026#39;, \u0026#39;firebrick3\u0026#39;], \\ [\u0026#39;gray\u0026#39;, \u0026#39;RoyalBlue3\u0026#39;], \\ [\u0026#39;darkmagenta\u0026#39;, \u0026#39;DarkOrchid3\u0026#39;], \\ [\u0026#39;Darkblue\u0026#39;, \u0026#39;firebrick3\u0026#39;], \\ [\u0026#39;darkgreen\u0026#39;, \u0026#39;RoyalBlue3\u0026#39;], \\ [\u0026#39;darkcyan\u0026#39;, \u0026#39;SeaGreen3\u0026#39;], \\ [\u0026#39;darkred\u0026#39;, \u0026#39;DarkOrchid3\u0026#39;], \\ [\u0026#39;red\u0026#39;, \u0026#39;firebrick3\u0026#39;], \\ ] let g:rbpt_max = 16 let g:rbpt_loadcmd_toggle = 0 au VimEnter * RainbowParenthesesToggle au Syntax * RainbowParenthesesLoadRound au Syntax * RainbowParenthesesLoadSquare au Syntax * RainbowParenthesesLoadBraces \u0026#34;{ rainbow_end \u0026#34;ale begin \u0026#34;https://github.com/tvatter/ale#faq-quickfix \u0026#34; Write this in your vimrc file \u0026#34;let g:ale_set_loclist = 0 \u0026#34;let g:ale_set_quickfix = 1 \u0026#34; \u0026#34;let g:ale_open_list = 1 \u0026#34; Set this if you want to. \u0026#34; \u0026#34; This can be useful if you are combining ALE with \u0026#34; \u0026#34; some other plugin which sets quickfix errors, etc. \u0026#34;let g:ale_keep_list_window_open = 1 \u0026#34;nmap \u0026lt;silent\u0026gt; \u0026lt;C-k\u0026gt; \u0026lt;Plug\u0026gt;(ale_previous_wrap) \u0026#34;nmap \u0026lt;silent\u0026gt; \u0026lt;C-j\u0026gt; \u0026lt;Plug\u0026gt;(ale_next_wrap) \u0026#34;ale end \u0026#34; 关闭json隐藏引号 let g:vim_json_conceal = 0 \u0026#34;path指定查找的路径，详情help path \u0026#34; includeexpr是尝试替换路径名中的.为/，详情help includeexpr set includeexpr=substitute(v:fname,\u0026#39;\\\\.\u0026#39;,\u0026#39;/\u0026#39;,\u0026#39;g\u0026#39;) \u0026#34; suffixesadd为尝试路径后缀，详情help suffixesadd set suffixesadd=.lua set suffixesadd+=.proto if filereadable(\u0026#34;./.workspace.vim\u0026#34;) source ./.workspace.vim endif \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;NerdTree setting \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; set encoding=utf-8 set termencoding=utf-8 set fileencoding=chinese set fileencodings=ucs-bom,utf-8,chinese set langmenu=zh_CN.utf-8 \u0026#34;language messages zh_cn.utf-8 \u0026#34;Show line number. let g:NERDTreeShowlineNumber=1 \u0026#34;Show hide file. let g:NERDTreeHidden=1 \u0026#34;Show Node model. let NERDTreeDirArrows=0 \u0026#34;Delete help information at the top let NERDTreeMinimalUI=1 let g:NERDTreeDirArrowExpandable = \u0026#39;|\u0026#39; let g:NERDTreeDirArrowCollapsible = \u0026#39;/\u0026#39; \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;end NerdTree setting \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;nerdtree-git-plugin setting \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; let g:NERDTreeGitStatusIndicatorMapCustom = { \\ \u0026#34;Modified\u0026#34; : \u0026#34;✹\u0026#34;, \\ \u0026#34;Staged\u0026#34; : \u0026#34;✚\u0026#34;, \\ \u0026#34;Untracked\u0026#34; : \u0026#34;✭\u0026#34;, \\ \u0026#34;Renamed\u0026#34; : \u0026#34;➜\u0026#34;, \\ \u0026#34;Unmerged\u0026#34; : \u0026#34;═\u0026#34;, \\ \u0026#34;Deleted\u0026#34; : \u0026#34;✖\u0026#34;, \\ \u0026#34;Dirty\u0026#34; : \u0026#34;✗\u0026#34;, \\ \u0026#34;Clean\u0026#34; : \u0026#34;✔︎\u0026#34;, \\ \u0026#34;Unknown\u0026#34; : \u0026#34;?\u0026#34; \\ } \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;end nerdtree-git-plugin setting \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;vim-nerdtree-syntax-highlight settings \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;Highlight full name (not only icons). You need to add this if you don\u0026#39;t have vim-devicons and want highlight. let g:NERDTreeFileExtensionHighlightFullName = 1 let g:NERDTreeExactMatchHighlightFullName = 1 let g:NERDTreePatternMatchHighlightFullName = 1 \u0026#34;Highlight full name (not only icons). You need to add this if you don\u0026#39;t have vim-devicons and want highlight. let g:NERDTreeHighlightFolders = 1 \u0026#34;highlights the folder name let g:NERDTreeHighlightFoldersFullName = 1 \u0026#34;you can add these colors to your .vimrc to help customizing let s:brown = \u0026#34;905532\u0026#34; let s:aqua = \u0026#34;3AFFDB\u0026#34; let s:blue = \u0026#34;689FB6\u0026#34; let s:darkBlue = \u0026#34;44788E\u0026#34; let s:purple = \u0026#34;834F79\u0026#34; let s:lightPurple = \u0026#34;834F79\u0026#34; let s:red = \u0026#34;AE403F\u0026#34; let s:beige = \u0026#34;F5C06F\u0026#34; let s:yellow = \u0026#34;F09F17\u0026#34; let s:orange = \u0026#34;D4843E\u0026#34; let s:darkOrange = \u0026#34;F16529\u0026#34; let s:pink = \u0026#34;CB6F6F\u0026#34; let s:salmon = \u0026#34;EE6E73\u0026#34; let s:green = \u0026#34;8FAA54\u0026#34; let s:Turquoise = \u0026#34;40E0D0\u0026#34; let s:lightGreen = \u0026#34;31B53E\u0026#34; let s:white = \u0026#34;FFFFFF\u0026#34; let s:rspec_red = \u0026#34;FE405F\u0026#34; let s:git_orange = \u0026#34;F54D27\u0026#34; let s:gray = \u0026#34;808A87\u0026#34; let g:NERDTreeExtensionHighlightColor = {} \u0026#34; this line is needed to avoid error let g:NERDTreeExtensionHighlightColor[\u0026#39;o\u0026#39;] = s:gray \u0026#34; sets the color of o files to blue let g:NERDTreeExtensionHighlightColor[\u0026#39;h\u0026#39;] = s:blue \u0026#34; sets the color of h files to blue let g:NERDTreeExtensionHighlightColor[\u0026#39;c\u0026#39;] = s:green \u0026#34; sets the color of c files to blue let g:NERDTreeExtensionHighlightColor[\u0026#39;cpp\u0026#39;] = s:green \u0026#34; sets the color of cpp files to blue let g:NERDTreeExtensionHighlightColor[\u0026#39;c++\u0026#39;] = s:green \u0026#34; sets the color of c++ files to blue \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;end vim-nerdtree-syntax-highlight settings \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;vim-devicons settings \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;` set encoding=UTF-8 \u0026#34;Can be enabled or disabled let g:webdevicons_enable_nerdtree = 1 \u0026#34;whether or not to show the nerdtree brackets around flags let g:webdevicons_conceal_nerdtree_brackets = 1 \u0026#34;adding to vim-airline\u0026#39;s tabline let g:webdevicons_enable_airline_tabline = 1 \u0026#34;adding to vim-airline\u0026#39;s statusline let g:webdevicons_enable_airline_statusline = 1 \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34; \u0026#34;end vim-devicons settings \u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;\u0026#34;` \u0026#34; 开启搜索预览 set incsearch ","permalink":"https://cfanzp.com/config-vimrc/","tags":["vim","config"],"title":"vim配置文件.vimrc"},{"categories":["redis"],"contents":"redis基础入门 redis是什么? Redis 是一个高性能的 key-value 数据库。 Redis 是完全开源的，遵守 BSD 协议。 Redis支持数据的持久化，即写入文件保存。 Redis 支持简单的key-value类型的数据，提供list，set，zset，hash等数据结构的存储。 Redis 支持数据的备份，即master-slave模式的数据备份。 如何下载？ 例如:下载版本5.0.4 1 wget http://download.redis.io/releases/redis-5.0.4.tar.gz 其它版本下载，访问下面地址获取: 1 http://download.redis.io/releases/ redis相关资源地址有哪些？ 官网:https://redis.io/ 官方文档:https://redis.io/documentation 中文官方网站:http://redis.cn/ github地址:https://github.com/redis/redis 如何安装？ 1 2 3 tar -xzvf redis-5.0.4.tar.gz cd redis-5.0.4 make \u0026amp;\u0026amp; make test \u0026amp;\u0026amp; make install 如何配置开机启动？ 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 [root@dev127 redis-5.0.4]# cd utils/ [root@dev127 utils]# ls build-static-symbols.tcl corrupt_rdb.c generate-command-help.rb hashtable install_server.sh redis-copy.rb redis_init_script.tpl releasetools whatisdoing.sh cluster_fail_time.tcl create-cluster graphs hyperloglog lru redis_init_script redis-sha1.rb speed-regression.tcl [root@dev127 utils]# ./install_server.sh Welcome to the redis service installer This script will help you easily set up a running redis server Please select the redis port for this instance: [6379] 8001 Please select the redis config file name [/etc/redis/8001.conf] Selected default - /etc/redis/8001.conf Please select the redis log file name [/var/log/redis_8001.log] Selected default - /var/log/redis_8001.log Please select the data directory for this instance [/var/lib/redis/8001] Selected default - /var/lib/redis/8001 Please select the redis executable path [/usr/local/bin/redis-server] Selected config: Port : 8001 Config file : /etc/redis/8001.conf Log file : /var/log/redis_8001.log Data dir : /var/lib/redis/8001 Executable : /usr/local/bin/redis-server Cli Executable : /usr/local/bin/redis-cli Is this ok? Then press ENTER to go on or Ctrl-C to abort. Copied /tmp/8001.conf =\u0026gt; /etc/init.d/redis_8001 Installing service... Successfully added to chkconfig! Successfully added to runlevels 345! Starting Redis server... Installation successful! [root@dev127 utils]# chkconfig Note: This output shows SysV services only and does not include native systemd services. SysV configuration data might be overridden by native systemd configuration. If you want to list systemd services use \u0026#39;systemctl list-unit-files\u0026#39;. To see services enabled on particular target use \u0026#39;systemctl list-dependencies [target]\u0026#39;. jenkins 0:off 1:off 2:off 3:on 4:off 5:on 6:off netconsole 0:off 1:off 2:off 3:off 4:off 5:off 6:off network 0:off 1:off 2:on 3:on 4:on 5:on 6:off redis_8001 0:off 1:off 2:on 3:on 4:on 5:on 6:off [root@dev127 utils]# 修改配置文件/etc/redis/8001.conf 1 2 #把daemonize no改成daemonize yes daemonize yes 启动 1 service redis_8001 start 关闭 1 service redis_8001 stop 成功配置目录 1 2 3 4 5 6 7 Selected config: Port : 8001 Config file : /etc/redis/8001.conf Log file : /var/log/redis_8001.log Data dir : /var/lib/redis/8001 Executable : /usr/local/bin/redis-server Cli Executable : /usr/local/bin/redis-cli 常用配置 参数 作用 daemonize no 默认不以守护进程的方式运行，yes：启用守护进程 pidfile /var/run/redis_8001.pid redis pid写入的对应文件 port 8001 指定端口 8001 bind 127.0.0.1 绑定主机地址 timeout 300 客户端闲置读少秒后关闭连接，设置为0则关闭该功能 loglevel notice 日志级别,可选值:debug,verbose,notice,warning logfile /var/log/redis_8001.log 日志文件目录 databases 16 数据库数量，默认数据库为0，可以使用SELECT 命令在连接上指定数据库 save 900 1 900秒内有1次更新就写入文件，可以多个条件配合 rdbcompression yes 数据本地存储是否压缩数据库，yes文件小,消耗cpu，no文件大 dbfilename dump.rdb 指定数据库名为dump.rdb dir /var/lib/redis/8001 指定数据库目录 requirepass foobared123456 redis密码 maxclients 10000 同一时间redis最大客户端连接个数 maxmemory 同一时间最大客户端连接数，默认无限制，同时打开的客户端连接数为 Redis 进程可以打开的最大文件描述符数，设置0，表示不限制。连接数到达限制时，Redis 会关闭新的连接并向客户端返回 max number of clients reached appendonly no 是否在每次更新操作后记录日志，默认情况下是异步的把数据写入磁盘，不开启，可能会在断电时导致一段时间内的数据丢失。因为 redis 本身同步数据文件是按上面 save 条件来同步的，所以有的数据会在一段时间内只存在于内存中。默认为 no。 appendfilename \u0026ldquo;appendonly.aof\u0026rdquo; 指定更新日志文件名 appendfsync everysec 更新日志条件:always,everysec,no vm-enabled no 是否启用vm机制 vm-swap-file /tmp/redis.swap 虚拟内存文件路径 vm-pages 134217728 swap 文件page数 vm-max-threads 4 访问额swap文件线程数 glueoutputbuf yes 给客户端发包，是否将较小的包合并为一个包发送 activerehashing yes 是否激活重置哈希 #include /path/to/local.conf 指定包含其它配置文件，可以在同一主机上多个Redis实例之间使用同一份配置文件，而同时各个实例又拥有自己的特定配置文件,没有注释即可。 redis 如何配置开机启动 https://blog.csdn.net/yexiaomodemo/article/details/94626231 参考 https://blog.csdn.net/qq_35949344/article/details/109012039?utm_source=app\u0026app_version=5.0.1\u0026code=app_1562916241\u0026uLinkId=usr1mkqgl919blen https://blog.csdn.net/weixin_33709590/article/details/91849380 https://www.cnblogs.com/Sungeek/p/11691231.html ","permalink":"https://cfanzp.com/redis/","tags":["redis"],"title":"redis基础入门"},{"categories":["linux"],"contents":"linux查看哪个进程占用了端口? 方法1:使用lsof命令 1 2 3 [root@dev127 paoshang]# lsof -i:8201 COMMAND PID USER FD TYPE DEVICE SIZE/OFF NODE NAME skynet 110379 root 6u IPv4 7563011 0t0 TCP localhost:trivnet2 (LISTEN) 方法2:使用netstat命令 1 2 [root@dev127 paoshang]# netstat -tunlp | grep 8201 tcp 0 0 127.0.0.1:8201 0.0.0.0:* LISTEN 110379/skynet ","permalink":"https://cfanzp.com/linux-process-port/","tags":["linux"],"title":"linux查看哪个进程占用了端口?"},{"categories":["lua"],"contents":"lua第三方开源库学习整理 skynet框架:https://github.com/cloudwu/skynet lua的protobuf工具-pbc:https://github.com/cloudwu/pbc lua-cjson库:https://github.com/mpx/lua-cjson 一个lua写的websocket库https://github.com/flaribbit/love2d-lua-websocket lua-protobuf库https://github.com/starwing/lua-protobuf/blob/master/README.zh.md ","permalink":"https://cfanzp.com/lua-3rd/","tags":["lua"],"title":"lua第三方开源库学习整理"},{"categories":["lua"],"contents":"lua中string.pack,string.unpack的用法 lua string.pack的用法,查看lua5.4的官方帮助手册不难找到下面的解释: string.pack (fmt, v1, v2, ···) Returns a binary string containing the values v1, v2, etc. serialized in binary form (packed) according to the format string fmt (see §6.4.2). 最近一个新项目要将brotobuf协议包裹在http协议内进行传输，刚好用到了这个函数,在pb数据包封包后，协议按3部分拼接: 1 数据包长度(msgid + pb_data) + 协议ID + pb数据包体 封包过程如下: 1 2 3 local pb_data = pb_helper.pb_encode(msgname, msg) local buf = string.pack(\u0026#34;\u0026gt;I4c\u0026#34; .. #pb_data, msgid, pb_data) local send_buf = string.pack(\u0026#34;\u0026gt;s2\u0026#34;, buf) 解包过程如下: 1 2 3 local buf = msg --des_decode(secret, msg) local len = string.unpack(\u0026#34;\u0026gt;I2\u0026#34;, buf) -- 取长度 local msgid = string.unpack(\u0026#34;\u0026gt;I4\u0026#34;, buf, 3) -- 取消息号,3是标记buf从哪里开始读 其中的\u0026quot;\u0026gt;,s2,I2,I4,c..$pb_buf\u0026quot;含义在手册上也能清楚查到: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 \u0026lt;: sets little endian \u0026gt;: sets big endian =: sets native endian ![n]: sets maximum alignment to n (default is native alignment) b: a signed byte (char) B: an unsigned byte (char) h: a signed short (native size) H: an unsigned short (native size) l: a signed long (native size) L: an unsigned long (native size) j: a lua_Integer J: a lua_Unsigned T: a size_t (native size) i[n]: a signed int with n bytes (default is native size) I[n]: an unsigned int with n bytes (default is native size) f: a float (native size) d: a double (native size) n: a lua_Number cn: a fixed-sized string with n bytes z: a zero-terminated string s[n]: a string preceded by its length coded as an unsigned integer with n bytes (default is a size_t) x: one byte of padding Xop: an empty item that aligns according to option op (which is otherwise ignored) \u0026#39; \u0026#39;: (space) ignored 参考 lua5.4手册英文版 ","permalink":"https://cfanzp.com/lua-string-pack/","tags":["lua"],"title":"lua中string.pack,string.unpack的用法"},{"categories":["linux","nginx"],"contents":"nginx配置https转发 下载nginx http://nginx.org/en/download.html 1 wget http://nginx.org/download/nginx-1.20.2.tar.gz 安装nginx 参考: https://www.cnblogs.com/-wei/p/15219624.html 1 2 3 4 tar -xzvf nginx-1.20.2.tar.gz cd nginx-1.20.2 ./configure --prefix=/opt/nginx --with-http_ssl_module make \u0026amp;\u0026amp; make install aliyun申请免费证书 这里以www.cfanzp.com为例子，具体申请流程这里就不赘述了。 申请成功后得到ngnix配置需要的证书和证书秘钥 1 2 3 4 #证书 5837690_www.cfanzp.com.pem #证书秘钥 5837690_www.cfanzp.com.key 将证书秘钥放到配置目录 1 2 3 4 #证书位置 etc/nginx/cert/5837690_www.cfanzp.com.pem #证书秘钥位置 /etc/nginx/cert/5837690_www.cfanzp.com.key nginx.conf demo: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 #user nobody; worker_processes 1; #error_log logs/error.log; #error_log logs/error.log notice; #error_log logs/error.log info; #pid logs/nginx.pid; events { worker_connections 1024; } http { include mime.types; default_type application/octet-stream; #log_format main \u0026#39;$remote_addr - $remote_user [$time_local] \u0026#34;$request\u0026#34; \u0026#39; # \u0026#39;$status $body_bytes_sent \u0026#34;$http_referer\u0026#34; \u0026#39; # \u0026#39;\u0026#34;$http_user_agent\u0026#34; \u0026#34;$http_x_forwarded_for\u0026#34;\u0026#39;; #access_log logs/access.log main; sendfile on; #tcp_nopush on; #keepalive_timeout 0; keepalive_timeout 65; #gzip on; # HTTPS server # server { listen 443 ssl; #监听的端口 server_name localhost; #开启ssl验证 #ssl on; root html; index index.html index.htm; #证书位置 ssl_certificate /etc/nginx/cert/5837690_www.cfanzp.com.pem; #证书秘钥位置 ssl_certificate_key /etc/nginx/cert/5837690_www.cfanzp.com.key; #ssl会话超时时间 ssl_session_timeout 5m; ssl_ciphers ECDHE-RSA-AES128-GCM-SHA256:ECDHE:ECDH:AES:HIGH:!NULL:!aNULL:!MD5:!ADH:!RC4; ssl_protocols TLSv1 TLSv1.1 TLSv1.2; ssl_prefer_server_ciphers on; #根据项目名称代理跳转具体的项目 location / { #代理跳转地址 proxy_pass http://127.0.0.1:9000; #设置代理的host信息（websocket时因为后面少加了端口，导致wss一直连不上，花了很长时间） proxy_set_header Host $host:$server_port; proxy_http_version 1.1; #设置可以代理websocket proxy_set_header Upgrade $http_upgrade; proxy_set_header Connection \u0026#34;upgrade\u0026#34;; proxy_set_header X-real-ip $remote_addr; proxy_set_header X-Forwarded-For $remote_addr; } } } ","permalink":"https://cfanzp.com/nginx-https/","tags":["linux","nginx"],"title":"nginx配置https转发"},{"categories":["nginx"],"contents":"nginx web负载均衡配置 下载nginx http://nginx.org/en/download.html 1 wget http://nginx.org/download/nginx-1.20.2.tar.gz 安装nginx 参考: https://www.cnblogs.com/-wei/p/15219624.html 1 2 3 4 5 ./configure --prefix=/opt/nginx 或 ./configure --prefix=/opt/nginx --with-http_ssl_module make make install 报错 ./configure: error: the HTTP rewrite module requires the PCRE library 1 yum -y install pcre-devel ./configure: error: the HTTP gzip module requires the zlib library. 1 yum -y install zlib-devel ./configure: error: SSL modules require the OpenSSL library. 1 yum -y install openssl openssl-devel nginx限制请求数据包大小 1 client_max_body_size 1000m; 负载均衡配置 参考: https://www.cnblogs.com/telwanggs/p/14977290.html 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 upstream test_group { # If there is no specific strategy, round-robin # would be the default strategy. # least_conn; # ip_hash; server 172.16.217.109:8501 weight=1 max_fails=2 fail_timeout=30s; server 172.16.217.109:8502 weight=1 max_fails=2 fail_timeout=30s; } location / { #root html; #index index.html index.htm; client_max_body_size 3m; proxy_pass http://test_group; } nginx负载均衡策略 轮询：将客户端发起的请求，平均分配给每一台服务器 权重：将客户的的请求，根据服务器的权重值不同，分配不同的数量 ip_hash：基于发起请求的客户端的ip地址不同，他始终会将请求发送到指定的服务器上，客户端ip地址不变，就会一直发送到一个服务器上。 轮询 1 2 3 4 5 6 7 8 9 10 11 12 13 upstream my_server{ server IP:8080; server IP:8081; } server { listen 80; listen [::]:80; server_name localhost; location / { proxy_pass http://my_server/; #Tomcat首页 } } 权重 1 2 3 4 5 6 7 8 9 10 11 12 13 upstream my_server{ server IP:8080 weight=10; server IP:8081 weight=2; } server { listen 80; listen [::]:80; server_name localhost; location / { proxy_pass http://my_server/; #Tomcat首页 } } ip_hash 1 2 3 4 5 6 7 8 9 10 11 12 13 14 upstream my_server{ ip_hash; server IP:8080 weight=10; server IP:8081 weight=2; } server { listen 80; listen [::]:80; server_name localhost; location / { proxy_pass http://my_server/; } } ","permalink":"https://cfanzp.com/nginx-web-balance/","tags":["nginx"],"title":"nginx web负载均衡配置"},{"categories":["nginx"],"contents":"nginx配置笔记 基本概念 惊群现象：一个网路连接到来，多个睡眠的进程被同时叫醒，但只有一个进程能获得链接，这样会影响系统性能。 全局块 nginx服务器用户组 nginx进程pid 日志存放路径 配置文件引入 允许生成worker process数 event块 配置影响nginx服务器或与用户的网络连接。包括: 每个进程的最大连接数 选取那种事件驱动模型处理连接请求 是否允许同时接受多个网路连接 开启多个网络连接序列化等。 http块 可以嵌套多个server 配置代理，缓存，日志定义等绝大多数功能和第三方模块的配置。 文件引入 mime-type定义 日志定义 是否使用sendfile传输文件 连接超时时间 单连接请求数 server块 配置虚拟主机的相关参数，一个http中可以有多个server块 location 块 配置请求的路由，以及各种页面的请求情况 nginx文件结构 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 ... #全局块 events { #events块 ... } http #http块 { ... #http全局块 server #server块 { ... #server全局块 location [PATTERN] #location块 { ... } location [PATTERN] { ... } } server { ... } ... #http全局块 } 一个nginx 配置文件的拆解分析 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 ########### 每个指令必须有分号结束。################# #user administrator administrators; #配置用户或者组，默认为nobody nobody。 #worker_processes 2; #允许生成的进程数，默认为1 #pid /nginx/pid/nginx.pid; #指定nginx进程运行文件存放地址 error_log log/error.log debug; #制定日志路径，级别。这个设置可以放入全局块，http块，server块，级别以此为：debug|info|notice|warn|error|crit|alert|emerg events { accept_mutex on; #设置网路连接序列化，防止惊群现象发生，默认为on multi_accept on; #设置一个进程是否同时接受多个网络连接，默认为off #use epoll; #事件驱动模型，select|poll|kqueue|epoll|resig|/dev/poll|eventport worker_connections 1024; #最大连接数，默认为512 } http { include mime.types; #文件扩展名与文件类型映射表 default_type application/octet-stream; #默认文件类型，默认为text/plain #access_log off; #取消服务日志 log_format myFormat \u0026#39;$remote_addr–$remote_user [$time_local] $request $status $body_bytes_sent $http_referer $http_user_agent $http_x_forwarded_for\u0026#39;; #自定义格式 access_log log/access.log myFormat; #combined为日志格式的默认值 sendfile on; #允许sendfile方式传输文件，默认为off，可以在http块，server块，location块。 sendfile_max_chunk 100k; #每个进程每次调用传输数量不能大于设定的值，默认为0，即不设上限。 keepalive_timeout 65; #连接超时时间，默认为75s，可以在http，server，location块。 upstream mysvr { server 127.0.0.1:7878; server 192.168.10.121:3333 backup; #热备 } error_page 404 https://www.baidu.com; #错误页 server { keepalive_requests 120; #单连接请求上限次数。 listen 4545; #监听端口 server_name 127.0.0.1; #监听地址 location ~*^.+$ { #请求的url过滤，正则匹配，~为区分大小写，~*为不区分大小写。 #root path; #根目录 #index vv.txt; #设置默认页 proxy_pass http://mysvr; #请求转向mysvr 定义的服务器列表 deny 127.0.0.1; #拒绝的ip allow 172.18.5.54; #允许的ip } } } 参考 https://www.runoob.com/w3cnote/nginx-setup-intro.html https://www.jianshu.com/p/96d3b1fba09b https://www.jianshu.com/p/96d3b1fba09b ","permalink":"https://cfanzp.com/nginx-config/","tags":["nginx"],"title":"nginx基本用法与配置笔记"},{"categories":["skynet"],"contents":"skynet中使用uuid库 最近在使用之前一位同学写的uuid库时发现了uuid在不通的skynet虚拟机中可能会产生相同的值的现象，这里记录一下。产生的原因是，这2个虚拟机是在服务启动的时候创建的，间隔时间很短，随机种子估计是一样的。后面产生的随机序列都是一样的。 uuid库初始化种子 相同时间初始化种子，后续产生的随机数是相同的,随机种子初始化代码如下: 1 2 local uuid = require \u0026#34;uuid\u0026#34; uuid.seed() -- 初始化uuid种子 不同lua虚拟机中使用uuid可能生成相同的uuid,下面就是2个skynet服务在相同时间创建并初始化uuid种子的例子,不难看出，2个服务轮询接受请求，依次产生的uuid是相同的。 1 2 3 4 [:0000001a] [2022-07-29 11:36:36.561] [W] [login_web_agent1] service/login/platform/account_login.lua:111: req: 40a1bbf6-2e44-4b4a-cb9d-7a383472184b [:0000001b] [2022-07-29 11:36:44.059] [W] [login_web_agent2] service/login/platform/account_login.lua:111: req: 40a1bbf6-2e44-4b4a-cb9d-7a383472184b [:0000001a] [2022-07-29 11:36:55.069] [W] [login_web_agent1] service/login/platform/account_login.lua:111: req: bc96f82f-c94c-4398-c346-e956a92dcc11 [:0000001b] [2022-07-29 11:41:13.213] [W] [login_web_agent2] service/login/platform/account_login.lua:111: req: bc96f82f-c94c-4398-c346-e956a92dcc11 总结 这个uuid库的使用需要保证uuid的使用是在一个虚拟机内。如果想uuid不重复，又要保证唯一性，可以创建一个专有的skynet虚拟机来提供uuid的分配工作。 ","permalink":"https://cfanzp.com/skynet-uuid/","tags":["skynet"],"title":"skynet中使用uuid库"},{"categories":["lua"],"contents":"luacheck luacheck 是一个lua代码的静态检查工具，可以用来发现lua代码中的一些缺陷，规范lua代码的书写。lua是一们解释型语言，很多错误只有在运行时才会暴露出来。借助静态检查工具能够方便我们在前期就发现一些低级错误并及时修正。 安装 ubuntu 1 sudo apt install lua-check centos 1 yum install luarocks 这里使用luarocks来安装luacheck,安装过程中可能遇到报错的问题。 安装报错信息: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 root@mybonline1 mybonline]# luarocks install luacheck Installing https://luarocks.org/luacheck-0.25.0-1.src.rock... Using https://luarocks.org/luacheck-0.25.0-1.src.rock... switching to \u0026#39;build\u0026#39; mode Missing dependencies for luacheck: luafilesystem \u0026gt;= 1.6.3 argparse \u0026gt;= 0.6.0 Using https://luarocks.org/luafilesystem-1.8.0-1.src.rock... switching to \u0026#39;build\u0026#39; mode gcc -O2 -fPIC -I/usr/include -c src/lfs.c -o src/lfs.o src/lfs.c:84:10: fatal error: lua.h: No such file or directory 84 | #include \u0026lt;lua.h\u0026gt; | ^~~~~~~ compilation terminated. Error: Failed installing dependency: https://luarocks.org/luafilesystem-1.8.0-1.src.rock - Build error: Failed compiling object src/lfs.o centos 安装luarocks 1 2 3 4 5 6 7 -$ wget https://luarocks.org/releases/luarocks-3.8.0.tar.gz -$ tar zxpf luarocks-3.8.0.tar.gz -$ cd luarocks-3.8.0 ./configure --with-lua-include=/usr/local/include make make install /usr/local/bin/luarocks install luacheck 使用luarocks 安装 1 2 sudo apt install luarocks luarocks install luacheck github安装帮助 https://github.com/luarocks/luarocks/wiki/Installation-instructions-for-Unix 配置文件 .luacheckrc 配置参数 1 2 3 4 ignore = { \u0026#34;631\u0026#34;, -- max_line_length \u0026#34;212/_.*\u0026#34;, -- unused argument, for vars with \u0026#34;_\u0026#34; prefix } 使用 忽略注释长度超过限制 1 luacheck --no-max-comment-line-length inject_test.lua 查看错误代码codes 1 luacheck --codes inject_test.lua vim中配置luacheck 1 2 3 4 5 6 7 8 9 10 \u0026#34;no-unused-args 忽略不使用的参数 \u0026#34;no-redefined 忽略重定义 \u0026#34;no-max-line-length 忽略每行最长的检测 \u0026#34;ignore 542 551 忽略if条件的body为空(如...elseif ret == nil then end，then和end中间没有语句)；忽略空语句(如;)，如果用了;则成对出现该语法检测warning \u0026#34;有语法错误的一行左侧栏会有S\u0026amp;gt;标识，光标移动到改行，vim下发会给出提示。修改正确后保存，则该\u0026#39;S\u0026amp;gt;\u0026#39;会消失。 \u0026#34;let g:syntastic_lua_checkers = [\u0026#34;luac\u0026#34;, \u0026#34;luacheck\u0026#34;] let g:syntastic_lua_checkers = [\u0026#34;/use/bin/luac5.4.3\u0026#34;, \u0026#34;luacheck\u0026#34;] \u0026#34;let g:syntastic_lua_luacheck_args = \u0026#34;--codes --no-max-comment-line-length --ignore 542 551\u0026#34; let g:syntastic_lua_luacheck_args = \u0026#34;--codes\u0026#34; ","permalink":"https://cfanzp.com/lua-luacheck/","tags":["linux","luacheck"],"title":"lua-luacheck"},{"categories":["linux"],"contents":"linux-计算器命令bc 基本用法 查看版本 1 2 3 $ bc -v bc 1.07.1 Copyright 1991-1994, 1997, 1998, 2000, 2004, 2006, 2008, 2012-2017 Free Software Foundation, Inc. 查看帮助 1 2 3 4 5 6 7 8 9 $ bc -h usage: bc [options] [file ...] -h --help print this usage and exit -i --interactive force interactive mode -l --mathlib use the predefined math routines -q --quiet don\u0026#39;t print initial banner -s --standard non-standard bc constructs are errors -w --warn warn about non-standard bc constructs -v --version print version information and exit 支持的运算 +:加 -:减 *:乘 /:除 ^:指数 %:求余数 sqrt:开方 ibase:输入进制 obase:输出进制 ;要计算多个结果用分号分隔 scale:小数部分位数 1. 使用 echo 命令来传递运算式或命令 3除以2保留3位小数:echo \u0026lsquo;scale=3; 3/2\u0026rsquo; | bc 1 2 3 4 5 [root@dev127 myb]# echo \u0026#39;scale=3; 3/2\u0026#39; scale=3; 3/2 [root@dev127 myb]# echo \u0026#39;scale=3; 3/2\u0026#39; | bc 1.500 [root@dev127 myb]# 2. 交换模式 输入bc进入交互模式 1 2 3 4 5 6 7 8 9 10 11 12 [root@dev127 myb]# bc bc 1.06.95 Copyright 1991-1994, 1997, 1998, 2000, 2004, 2006 Free Software Foundation, Inc. This is free software with ABSOLUTELY NO WARRANTY. For details type `warranty\u0026#39;. 5/3 1 scale=5;5/3 1.66666 exit 0 ^C 进制转换 10进制的3转换为2进制:echo \u0026ldquo;obase=2;3\u0026rdquo; |bc 1 2 [root@dev127 myb]# echo \u0026#34;obase=2;3\u0026#34; |bc 11 10进制的11转换为16进制:echo \u0026ldquo;obase=16;11\u0026rdquo; |bc 1 2 [root@dev127 myb]# echo \u0026#34;obase=16;11\u0026#34; |bc B 2进制转16进制:echo \u0026ldquo;obase=16;ibase=2;11\u0026rdquo; |bc 1 2 [root@dev127 myb]# echo \u0026#34;obase=16;ibase=2;11\u0026#34; |bc F 2进制转10进制:echo \u0026ldquo;obase=10;ibase=2;11\u0026rdquo; |bc 1 2 3 4 5 [root@dev127 myb]# echo \u0026#34;obase=10;ibase=2;11\u0026#34; |bc 3 [root@dev127 myb]# echo \u0026#34;obase=10;ibase=2;1111\u0026#34; |bc 15 计算平方根:100是10的平方 1 2 [root@dev127 myb]# echo \u0026#34;sqrt(100)\u0026#34; |bc 10 计算m的n次方:10的3次方,10的2次方,3的5次方: 1 2 3 4 [root@dev127 myb]# echo \u0026#34;10^3;10^2;3^5\u0026#34; |bc 1000 100 243 注意事项 注意：obase 要尽量放在 ibase 前面，因为 ibase 设置后，后面的数字都是以 ibase 的进制来换算的。 参考 http://c.biancheng.net/view/2680.html ","permalink":"https://cfanzp.com/linux-bc/","tags":["bc"],"title":"linux-计算器命令bc"},{"categories":["linux"],"contents":"xfreerdp 使用举例 远程192.168.2.3这台机器并挂载/home/admin/share目录 1 xfreerdp +clipboard /w:1920 /h:1050 /u:Administrator /p:admin1234567890 /v:192.168.2.3:3389 /drive:share,/home/admin/share 使用帮助 xfreerdp \u0026ndash;help 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 59 60 61 62 63 64 65 66 67 68 69 70 71 72 73 74 75 76 77 78 79 80 81 82 83 84 85 86 87 88 89 90 91 92 93 94 95 96 97 98 99 100 101 102 103 104 105 106 107 108 109 110 111 112 113 114 115 116 117 118 119 120 121 122 123 124 125 126 127 128 129 130 131 132 133 134 135 136 137 138 139 140 141 142 143 144 145 146 147 148 149 150 151 152 153 154 155 156 157 158 159 160 161 162 163 164 165 166 167 168 169 170 171 172 173 174 175 176 177 178 179 180 181 182 183 184 185 186 187 188 189 190 191 192 193 194 195 196 197 198 199 200 201 202 203 204 205 206 207 208 209 210 211 212 213 214 215 216 217 218 219 220 221 222 223 224 225 226 227 228 229 230 231 232 233 234 235 236 237 238 239 240 241 242 243 244 245 246 247 248 249 250 251 252 253 254 255 256 257 258 259 260 261 262 263 264 265 266 267 268 269 270 271 272 273 274 275 276 277 278 279 280 281 282 283 284 285 286 287 288 289 290 291 292 293 294 295 296 297 298 299 300 301 302 303 [zp@zp-pc dev]$ xfreerdp --help FreeRDP - A Free Remote Desktop Protocol Implementation See www.freerdp.com for more information Usage: xfreerdp [file] [options] [/v:\u0026lt;server\u0026gt;[:port]] Syntax: /flag (enables flag) /option:\u0026lt;value\u0026gt; (specifies option with value) +toggle -toggle (enables or disables toggle, where \u0026#39;/\u0026#39; is a synonym of \u0026#39;+\u0026#39;) /a:\u0026lt;addin\u0026gt;[,\u0026lt;options\u0026gt;] Addin /action-script:\u0026lt;file-name\u0026gt; Action script /admin Admin (or console) session +aero Enable desktop composition /app:\u0026lt;path\u0026gt; or ||\u0026lt;alias\u0026gt; Remote application program /app-cmd:\u0026lt;parameters\u0026gt; Remote application command-line parameters /app-file:\u0026lt;file-name\u0026gt; File to open with remote application /app-guid:\u0026lt;app-guid\u0026gt; Remote application GUID /app-icon:\u0026lt;icon-path\u0026gt; Remote application icon for user interface /app-name:\u0026lt;app-name\u0026gt; Remote application name for user interface /app-workdir:\u0026lt;workspace path\u0026gt; Remote application workspace path /assistance:\u0026lt;password\u0026gt; Remote assistance password /auto-request-control Automatically request remote assistance input control +async-channels Enable Asynchronous channels (experimental) +async-input Enable Asynchronous input +async-update Enable Asynchronous update /audio-mode:\u0026lt;mode\u0026gt; Audio output mode +auth-only Enable Authenticate only -authentication Disable Authentication (experimental) +auto-reconnect Enable Automatic reconnection /auto-reconnect-max-retries:\u0026lt;retries\u0026gt; Automatic reconnection maximum retries, 0 for unlimited [0,1000] +bitmap-cache Enable bitmap cache /bpp:\u0026lt;depth\u0026gt; Session bpp (color depth) /buildconfig Print the build configuration /cert:[deny,ignore,name:\u0026lt;name\u0026gt;,tofu,fingerprint:\u0026lt;hash\u0026gt;:\u0026lt;hash as hex\u0026gt; [,fingerprint:\u0026lt;hash\u0026gt;:\u0026lt;another hash\u0026gt;]] Certificate accept options. Use with care! * deny ... Automatically abort connection if the certificate does not match, no user interaction. * ignore ... Ignore the certificate checks altogether (overrules all other options) * name ... Use the alternate \u0026lt;name\u0026gt; instead of the certificate subject to match locally stored certificates * tofu ... Accept certificate unconditionally on first connect and deny on subsequent connections if the certificate does not match * fingerprints ... A list of certificate hashes that are accepted unconditionally for a connection /cert-deny [deprecated, use /cert:deny] Automatically abort connection for any certificate that can not be validated. /cert-ignore [deprecated, use /cert:ignore] Ignore certificate /cert-name:\u0026lt;name\u0026gt; [deprecated, use /cert:name:\u0026lt;name\u0026gt;] Certificate name /cert-tofu [deprecated, use /cert:tofu] Automatically accept certificate on first connect /client-build-number:\u0026lt;number\u0026gt; Client Build Number sent to server (influences smartcard behaviour, see [MS-RDPESC]) /client-hostname:\u0026lt;name\u0026gt; Client Hostname to send to server -clipboard[:[use-selection:\u0026lt;atom\u0026gt;]] Disable Redirect clipboard. * use-selection:\u0026lt;atom\u0026gt; ... (X11) Specify which X selection to access. Default is CLIPBOARD. PRIMARY is the X-style middle-click selection. /codec-cache:[rfx|nsc|jpeg] Bitmap codec cache -compression Disable compression /compression-level:\u0026lt;level\u0026gt; Compression level (0,1,2) +credentials-delegation Enable credentials delegation /d:\u0026lt;domain\u0026gt; Domain -decorations Disable Window decorations /disp Display control /drive:\u0026lt;name\u0026gt;,\u0026lt;path\u0026gt; Redirect directory \u0026lt;path\u0026gt; as named share \u0026lt;name\u0026gt;. Hotplug support is enabled with /drive:hotplug,*. This argument provides the same function as \u0026#34;Drives that I plug in later\u0026#34; option in MSTSC. +drives Enable Redirect all mount points as shares /dvc:\u0026lt;channel\u0026gt;[,\u0026lt;options\u0026gt;] Dynamic virtual channel /dynamic-resolution Send resolution updates when the window is resized /echo Echo channel -encryption Disable Encryption (experimental) /encryption-methods:[40,][56,][128,][FIPS] RDP standard security encryption methods /f Fullscreen mode (\u0026lt;Ctrl\u0026gt;+\u0026lt;Alt\u0026gt;+\u0026lt;Enter\u0026gt; toggles fullscreen) -fast-path Disable fast-path input/output +fipsmode Enable FIPS mode /floatbar[:sticky:[on|off],default:[visible|hidden],show: [always|fullscreen||window]] floatbar is disabled by default (when enabled defaults to sticky in fullscreen mode) -fonts Disable smooth fonts (ClearType) /frame-ack:\u0026lt;number\u0026gt; Number of frame acknowledgement /from-stdin[:force] Read credentials from stdin. With \u0026lt;force\u0026gt; the prompt is done before connection, otherwise on server request. /g:\u0026lt;gateway\u0026gt;[:\u0026lt;port\u0026gt;] Gateway Hostname /gateway-usage-method:[direct|detect] Gateway usage method /gd:\u0026lt;domain\u0026gt; Gateway domain /gdi:sw|hw GDI rendering /geometry Geometry tracking channel +gestures Enable Consume multitouch input locally /gfx[:[[RFX|AVC420|AVC444],mask:\u0026lt;value\u0026gt;]] RDP8 graphics pipeline /gfx-h264[:[[AVC420|AVC444],mask:\u0026lt;value\u0026gt;] [DEPRECATED] use /gfx:avc420 instead] RDP8.1 graphics pipeline using H264 codec +gfx-progressive Enable RDP8 graphics pipeline using progressive codec +gfx-small-cache Enable RDP8 graphics pipeline using small cache mode +gfx-thin-client Enable RDP8 graphics pipeline using thin client mode +glyph-cache Enable Glyph cache (experimental) /gp:\u0026lt;password\u0026gt; Gateway password -grab-keyboard Disable Grab keyboard /gt:[rpc|http[,no-websockets]|auto[,no-websockets]] Gateway transport type /gu:[[\u0026lt;domain\u0026gt;\\]\u0026lt;user\u0026gt;|\u0026lt;user\u0026gt;[@\u0026lt;domain\u0026gt;]] Gateway username /gat:\u0026lt;access token\u0026gt; Gateway Access Token /h:\u0026lt;height\u0026gt; Height -heartbeat Disable Support heartbeat PDUs /help Print help +home-drive Enable Redirect user home as share /ipv6 Prefer IPv6 AAA record over IPv4 A record /jpeg JPEG codec support /jpeg-quality:\u0026lt;percentage\u0026gt; JPEG quality /kbd:0x\u0026lt;id\u0026gt; or \u0026lt;name\u0026gt; Keyboard layout /kbd-lang:0x\u0026lt;id\u0026gt; Keyboard active language identifier /kbd-fn-key:\u0026lt;value\u0026gt; Function key value /kbd-list List keyboard layouts /kbd-lang-list List keyboard languages /kbd-remap:List of \u0026lt;key\u0026gt;=\u0026lt;value\u0026gt;,... pairs to remap scancodes Keyboard scancode remapping /kbd-subtype:\u0026lt;id\u0026gt; Keyboard subtype /kbd-type:\u0026lt;id\u0026gt; Keyboard type /load-balance-info:\u0026lt;info-string\u0026gt; Load balance info /log-filters:\u0026lt;tag\u0026gt;:\u0026lt;level\u0026gt;[,\u0026lt;tag\u0026gt;:\u0026lt;level\u0026gt;[,...]] Set logger filters, see wLog(7) for details /log-level:[OFF|FATAL|ERROR|WARN|INFO|DEBUG|TRACE] Set the default log level, see wLog(7) for details /max-fast-path-size:\u0026lt;size\u0026gt; Specify maximum fast-path update size /max-loop-time:\u0026lt;time\u0026gt; Specify maximum time in milliseconds spend treating packets +menu-anims Enable menu animations /microphone[:[sys:\u0026lt;sys\u0026gt;,][dev:\u0026lt;dev\u0026gt;,][format:\u0026lt;format\u0026gt;,][rate:\u0026lt;rate\u0026gt;,] [channel:\u0026lt;channel\u0026gt;]] Audio input (microphone) /monitor-list List detected monitors /monitors:\u0026lt;id\u0026gt;[,\u0026lt;id\u0026gt;[,...]] Select monitors to use -mouse-motion Disable Send mouse motion /multimon[:force] Use multiple monitors +multitouch Enable Redirect multitouch input +multitransport Enable Support multitransport protocol -nego Disable protocol security negotiation /network:[modem|broadband|broadband-low|broadband-high|wan|lan|auto] Network connection type /nsc NSCodec support +offscreen-cache Enable offscreen bitmap cache /orientation:[0|90|180|270] Orientation of display in degrees +old-license Enable Use the old license workflow (no CAL and hwId set to 0) /p:\u0026lt;password\u0026gt; Password /parallel[:\u0026lt;name\u0026gt;[,\u0026lt;path\u0026gt;]] Redirect parallel device /parent-window:\u0026lt;window-id\u0026gt; Parent window id +password-is-pin Enable Use smart card authentication with password as smart card PIN /pcb:\u0026lt;blob\u0026gt; Preconnection Blob /pcid:\u0026lt;id\u0026gt; Preconnection Id /pheight:\u0026lt;height\u0026gt; Physical height of display (in millimeters) /play-rfx:\u0026lt;pcap-file\u0026gt; Replay rfx pcap file /port:\u0026lt;number\u0026gt; Server port -suppress-output Disable suppress output when minimized +print-reconnect-cookie Enable Print base64 reconnect cookie after connecting /printer[:\u0026lt;name\u0026gt;[,\u0026lt;driver\u0026gt;]] Redirect printer device /proxy:[\u0026lt;proto\u0026gt;://][\u0026lt;user\u0026gt;:\u0026lt;password\u0026gt;@]\u0026lt;host\u0026gt;:\u0026lt;port\u0026gt; Proxy settings: override env. var (see also environment variable below). Protocol \u0026#34;socks5\u0026#34; should be given explicitly where \u0026#34;http\u0026#34; is default. /pth:\u0026lt;password-hash\u0026gt; Pass the hash (restricted admin mode) /pwidth:\u0026lt;width\u0026gt; Physical width of display (in millimeters) /rdp2tcp:\u0026lt;executable path[:arg...]\u0026gt; TCP redirection /reconnect-cookie:\u0026lt;base64-cookie\u0026gt; Pass base64 reconnect cookie to the connection /redirect-prefer:\u0026lt;FQDN|IP|NETBIOS\u0026gt;,[...] Override the preferred redirection order /relax-order-checks Do not check if a RDP order was announced during capability exchange, only use when connecting to a buggy server /restricted-admin Restricted admin mode /rfx RemoteFX /rfx-mode:[image|video] RemoteFX mode /scale:[100|140|180] Scaling factor of the display /scale-desktop:\u0026lt;percentage\u0026gt; Scaling factor for desktop applications (value between 100 and 500) /scale-device:100|140|180 Scaling factor for app store applications /sec:[rdp|tls|nla|ext] Force specific protocol security +sec-ext Enable NLA extended protocol security -sec-nla Disable NLA protocol security -sec-rdp Disable RDP protocol security -sec-tls Disable TLS protocol security /serial[:\u0026lt;name\u0026gt;[,\u0026lt;path\u0026gt;[,\u0026lt;driver\u0026gt;[,permissive]]]] Redirect serial device /shell:\u0026lt;shell\u0026gt; Alternate shell /shell-dir:\u0026lt;dir\u0026gt; Shell working directory /size:\u0026lt;width\u0026gt;x\u0026lt;height\u0026gt; or \u0026lt;percent\u0026gt;%[wh] Screen size /smart-sizing[:\u0026lt;width\u0026gt;x\u0026lt;height\u0026gt;] Scale remote desktop to window size /smartcard[:\u0026lt;str\u0026gt;[,\u0026lt;str\u0026gt;...]] Redirect the smartcard devices containing any of the \u0026lt;str\u0026gt; in their names. /smartcard-logon Activates Smartcard Logon authentication. (EXPERIMENTAL: NLA not supported) /sound[:[sys:\u0026lt;sys\u0026gt;,][dev:\u0026lt;dev\u0026gt;,][format:\u0026lt;format\u0026gt;,][rate:\u0026lt;rate\u0026gt;,] [channel:\u0026lt;channel\u0026gt;,][latency:\u0026lt;latency\u0026gt;,][quality:\u0026lt;quality\u0026gt;]] Audio output (sound) /span Span screen over multiple monitors /spn-class:\u0026lt;service-class\u0026gt; SPN authentication service class /ssh-agent SSH Agent forwarding channel /t:\u0026lt;title\u0026gt; Window title -themes Disable themes /timeout:\u0026lt;time in ms\u0026gt; Advanced setting for high latency links: Adjust connection timeout, use if you encounter timeout failures with your connection /tls-ciphers:[netmon|ma|ciphers] Allowed TLS ciphers /tls-seclevel:\u0026lt;level\u0026gt; TLS security level - defaults to 1 -toggle-fullscreen Disable Alt+Ctrl+Enter to toggle fullscreen /tune:\u0026lt;setting:value\u0026gt;,\u0026lt;setting:value\u0026gt; [experimental] directly manipulate freerdp settings, use with extreme caution! /tune-list Print options allowed for /tune /u:[[\u0026lt;domain\u0026gt;\\]\u0026lt;user\u0026gt;|\u0026lt;user\u0026gt;[@\u0026lt;domain\u0026gt;]] Username +unmap-buttons Enable Let server see real physical pointer button /usb:[dbg,][id:\u0026lt;vid\u0026gt;:\u0026lt;pid\u0026gt;#...,][addr:\u0026lt;bus\u0026gt;:\u0026lt;addr\u0026gt;#...,][auto] Redirect USB device /v:\u0026lt;server\u0026gt;[:port] Server hostname /vc:\u0026lt;channel\u0026gt;[,\u0026lt;options\u0026gt;] Static virtual channel /version Print version /video Video optimized remoting channel /vmconnect[:\u0026lt;vmid\u0026gt;] Hyper-V console (use port 2179, disable negotiation) /w:\u0026lt;width\u0026gt; Width -wallpaper Disable wallpaper +window-drag Enable full window drag /window-position:\u0026lt;xpos\u0026gt;x\u0026lt;ypos\u0026gt; window position /wm-class:\u0026lt;class-name\u0026gt; Set the WM_CLASS hint for the window instance /workarea Use available work area Examples: xfreerdp connection.rdp /p:Pwd123! /f xfreerdp /u:CONTOSO\\JohnDoe /p:Pwd123! /v:rdp.contoso.com xfreerdp /u:JohnDoe /p:Pwd123! /w:1366 /h:768 /v:192.168.1.100:4489 xfreerdp /u:JohnDoe /p:Pwd123! /vmconnect:C824F53E-95D2-46C6-9A18-23A5BB403532 /v:192.168.1.100 Clipboard Redirection: +clipboard Drive Redirection: /drive:home,/home/user Smartcard Redirection: /smartcard:\u0026lt;device\u0026gt; Serial Port Redirection: /serial:\u0026lt;name\u0026gt;,\u0026lt;device\u0026gt;,[SerCx2|SerCx|Serial],[permissive] Serial Port Redirection: /serial:COM1,/dev/ttyS0 Parallel Port Redirection: /parallel:\u0026lt;name\u0026gt;,\u0026lt;device\u0026gt; Printer Redirection: /printer:\u0026lt;device\u0026gt;,\u0026lt;driver\u0026gt; TCP redirection: /rdp2tcp:/usr/bin/rdp2tcp Audio Output Redirection: /sound:sys:oss,dev:1,format:1 Audio Output Redirection: /sound:sys:alsa Audio Input Redirection: /microphone:sys:oss,dev:1,format:1 Audio Input Redirection: /microphone:sys:alsa Multimedia Redirection: /video USB Device Redirection: /usb:id:054c:0268#4669:6e6b,addr:04:0c For Gateways, the https_proxy environment variable is respected: export https_proxy=http://proxy.contoso.com:3128/ xfreerdp /g:rdp.contoso.com ... More documentation is coming, in the meantime consult source files ","permalink":"https://cfanzp.com/linux-xfreerdp/","tags":["xfreerdp"],"title":"linux-xfreerdp"},{"categories":["development-manual"],"contents":"开发手册汇总 mysql8.0中文参考手册: https://mysql.bookhub.tech/#/README mysql5.7: https://www.docs4dev.com/docs/zh/mysql/5.7/reference/ mysql5.6：https://dev.mysql.com/doc/refman/5.6/en/ redis命令手册: https://www.redis.net.cn/order/ nginx官网:https://nginx.org/en/docs/ 语言 golang:https://go.dev/doc/ 在线运行golang程序 lua5.3开发手册: https://cloud.tencent.com/developer/doc/1141 lua5.4 官网英文版: http://www.lua.org/manual/5.4/manual.html rust: https://github.com/rust-lang/reference 工具 neovim：https://neovim.io/ markdown-GFM: https://gfm.docschina.org/zh-hans/ 印记中文: https://docschina.org/ 正则表达式: https://github.com/any86/any-rule ","permalink":"https://cfanzp.com/dev-manual/","tags":["linux","manual"],"title":"开发手册汇总"},{"categories":["skynet"],"contents":"skynet升级到1.5.0 skynet升级到1.5.0 对应lua版本:lua5.4.3 skynet地址 https://github.com/cloudwu/skynet/releases/tag/v1.5.0 下载地址:https://github.com/cloudwu/skynet/archive/refs/tags/v1.5.0.tar.gz 加速地址:https://github.91chi.fun//https://github.com//cloudwu/skynet/archive/refs/tags/v1.5.0.tar.gz 升级步骤 创建分支skynet1.5 删除skynet目录的所有文件，解压或同步skynet1.5.0的代码到skynet目录 1 rm ./skynet/* -rf 初始化skynet 1 git submodule update --init jemalloc库若未初始化成功,可手动克隆到3rd/jemalloc目录中 1 git clone https://gitee.com/mirrors/jemalloc.git 编译报错 1 2 skynet-src/spinlock.h:50:23: fatal error: stdatomic.h: No such file or directory 升级Gcc值4.9及以上版本 gcc多版本共存。 devtoolset对应gcc版本 1 2 3 4 5 6 7 devtoolset-3对应gcc4.x.x版本 devtoolset-4对应gcc5.x.x版本 devtoolset-6对应gcc6.x.x版本 devtoolset-7对应gcc7.x.x版本 devtoolset-8对应gcc8.x.x版本 devtoolset-9对应gcc9.x.x版本 devtoolset-10对应gcc10.x.x版本 https://www.cnblogs.com/jixiaohua/p/11732225.html 1 sudo yum install centos-release-scl 安装devtoolset，注意，如果想安装11.版本的，就改成devtoolset-11-gcc 1 sudo yum install devtoolset-11-gcc* 激活对应的devtoolset，可以一次安装多个版本的devtoolset，需要的时候用下面这条命令切换到对应的版本 这仅仅在当前bash生效，如果需要永久生效，可以请自行添加环境变量。 1 2 3 scl enable devtoolset-11 bash #或 source /opt/rh/devtoolset-8/enable gcc版本永久生效 1 echo \u0026#34;source /opt/rh/devtoolset-11/enable\u0026#34; \u0026gt;\u0026gt;/etc/profile 查看gcc版本号 1 gcc -v gcc安装报错 报错问题: 1 2 3 4 Transaction check error: file /usr/lib/debug/usr/lib64/libitm.so.1.0.0.debug from install of devtoolset-8-gcc-debuginfo-8.3.1-3.2.el7.x86_64 conflicts with file from package gcc-base-debuginfo-4.8.5-39.el7.x86_64 file /usr/lib/debug/usr/lib64/libatomic.so.1.debug from install of devtoolset-8-gcc-debuginfo-8.3.1-3.2.el7.x86_64 conflicts with file from package gcc-debuginfo-4.8.5-39.el7.x86_64 file /usr/lib/debug/usr/lib64/libtsan.so.0.0.0.debug from install of devtoolset-8-gcc-debuginfo-8.3.1-3.2.el7.x86_64 conflicts with file from package gcc-debuginfo-4.8.5-39.el7.x86_64 解决方案 1 yum remove gcc-base-debuginfo-4.8.5-39.el7.x86_64 skynet服务启动报错 1 2 3 [root@dev127 myb_dev]# sh/test/debug_test.sh try open snlua failed : luaclib/snlua.so: cannot open shared object file: No such file or directory [:00000000] Bootstrap error : snlua bootstrap ./skynet example/config 报错 1 2 3 [root@dev127 skynet]# ./skynet examples/config try open snlua failed : ./cservice/snlua.so: undefined symbol: lua_resetthread [:00000000] Bootstrap error : snlua bootstrap 解决方案 1 2 make clean make all 源码安装gcc11.2.0 https://blog.csdn.net/qq_41054313/article/details/119453611 https://blog.csdn.net/skykingf/article/details/120701069 skynet升级改动文件 文件 修改 skynet/service-src/service_logger.c * 添加文件日志及转储功能。 skynet/lualib-src/lua-clientwebsocket.c + skynet/lualib-src/lua-mysqlaux.c + skynet/lualib-src/lua-profile.c + skynet/lualib-src/lua-websocketnetpack.c + skynet/lualib/snax/wsgateserver.lua + skynet/service/debug_console.lua * 添加ag等命令 skynet/service/wsgate.lua + skynet/Makefile * 添加 wsnetpack.so等库 ","permalink":"https://cfanzp.com/skynet-update-log/","tags":["skynet"],"title":"skynet 更新记录"},{"categories":["skynet"],"contents":"skynet热更新-clearcache的使用体会 skynet 热更新主要有2种方法 第一种：使用clearcache 第二种：使用console inject lua脚本 动态创建的服务的热更新 如果一个skynet服务是在业务流程中动态创建的，那么在修改代码后，使用clearcache就可以保证下次再创建的新的服务是使用的新的代码。 创建后长期不销毁重建的服务，如何热更新？ 如果是在进程启动时创建，或创建后就一直存在的服务需要热更新怎么办呢？ 方法1: 对于这种情况目前inject是首选。但是有时候需要修改的代码量比较大，inject 脚本的方式就非常复杂且容易出错。 方法2: 当然，还有一种方式就是采用轮服的机制解决。从进程级别解决问题。但是这个代价又太大了，比clearcache的成本还高。 这里我们还有一个思路就是可以在业务服前加一个管理调度服务。例如A1 skynet服务需要发消息给B1 skynet服务来实现某个功能。消息流为： 1 A1 ---\u0026gt; B1 我们可以在B1前加一个B_manager服务，A服务通过B_manager服来传递消息给B1服务， 消息流为： 1 A1 ---\u0026gt; B_Manager ---\u0026gt; B1 这个时候如果B1的业务有大量需要修改的。只需要clearcache一下，然后创建一个新的B1服务，这里称为B2,B_Manager再将A1的请求转发到B2即可，这个时候的消息流为: 1 A1 ---\u0026gt; B_Manager ---\u0026gt; B2 这个时候B1就不会接收到新的消息了。介意B1的存在可以销毁它，如果资源占用不大，也可以不销毁。 当然这里有几个必须要注意的问题: 如果B1服务是有状态的，那么这个方法是有很大限制的，需要把B1服务的数据通过消息或共享内存，缓存等方式转移到B2服务上。 如果B1服务上有定时器等可能会影响业务的逻辑时时，必须要关闭定时器或销毁B2服务。 如果B1是无状态的那就简单多了，创建新的服务B2后，B_mananger将所有需要转发给B1的请求全都转发给B2即可。 消息中间多了一层B_Manager会不会损失性能，这个需要视业务要求来具体分析，大部分情况，这点性能损失都可以忽略不计的；当然如果你很介意的话，还是建议业务刚上线时使用B_Manager，业务稳定后，可以在某次更新时将这层转发层去掉。 上面的方法也是一种折中的方法，个人感觉还是比较好用的，但也是不完美的。 总结 关于skynet的热更新，如果你有什么更好的方案，希望能够指点一二！ 个人的一点想法，分享给大家！如果你也在使用skynet，关注我，一起学习，交流一下！ ","permalink":"https://cfanzp.com/skynet-clearcache/","tags":["skynet"],"title":"skynet-clearcache"},{"categories":["skynet"],"contents":"skynet：debug console添加搜索功能 为什么要给skynet的debug console添加搜索功能? 使用skynet一段时间后，发现，在动态创建skynet service的情况下，如果service很多,有时很难找到我们想要找到我们要找的那个skynet服务，用skynet的list命令会罗列所有的服务，因此我们需要像grep,ag这样的命令功能来搜索skynet的服务。 实现搜索命令ag 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 local function get_all_list(key_string) local table_list={} local all_services = skynet.call(\u0026#34;.launcher\u0026#34;, \u0026#34;lua\u0026#34;, \u0026#34;LIST\u0026#34;) local count = 0 for k,v in pairs(all_services) do if string.match(k, key_string) or string.match(v, key_string) then table_list[k] = v count = count + 1 end end table_list[\u0026#34;total_count\u0026#34;] = count return table_list end function COMMAND.ag(key_string) if key_string == nil then skynet.error(\u0026#34;ag nil string:\u0026#34;) return nil end skynet.error(\u0026#34;ag:\u0026#34;,key_string) return get_all_list(key_string) end 查找包含vip字段的服务 1 2 3 4 5 ag vip :0000003b snlua vip_service :0000003c snlua vip_agent 1 total_count 2 \u0026lt;CMD OK\u0026gt; 查找包含3b的服务 1 2 3 4 ag 3b :0000003b snlua vip_service total_count 1 \u0026lt;CMD OK\u0026gt; ","permalink":"https://cfanzp.com/skynet-debug_console-ag/","tags":["skynet"],"title":"skynet-给debug_console添加ag搜索"},{"categories":["linux"],"contents":"git-ftp的使用 git-ftp有什么用？ git-ftp 能够方便的帮助我们将自己管理的git项目相关代码或资源提交到自己的ftp服务器上 git-ftp命令 1 2 git ftp init git ftp push 安装 首次使用需要下载安装git-ftp并进行配置 ubuntu安装 1 sudo apt-get install git-ftp mac 安装 1 brew install git-ftp mac安装过程中相关依赖可能会报错，我安装的时候遇到了报错问题，这里记录一下: 1 Error: No such file or directory @ rb_sysopen - /Users/zp/Library/Caches/Homebrew/downloads/8687c3e085e812f09d11aeca541ef9cdefbc8f971d9dd3c407c8b18bb3954957--libnghttp2-1.47.0.monterey.bottle.tar.gz 报错解决方案:安装相关库即可 1 2 3 4 5 6 brew install libnghttp2 brew install openldap brew install brotli brew install zstd brew install curl brew install git-ftp 配置 简单配置,修改.git/config添加如下配置 1 2 3 4 5 6 [git-ftp] url = your-ftp-url user = your-ftp-user password = your_ftp_url syncroot = your-local-upload-fullpath remote-root= your-ftp-upload-path(eg:htdocs) 参考 官方文档:https://github.com/git-ftp/git-ftp/blob/master/man/git-ftp.1.md ","permalink":"https://cfanzp.com/git-ftp/","tags":["linux","git","ftp"],"title":"git-ftp的使用"},{"categories":["devtools"],"contents":"github资源整理 本文主要用于收集整理平时发现的一些优秀的github资源，以便后续学习使用 工具类 WindTerm: 一个ssh远程工具 源码:https://github.com/kingToolbox/WindTerm 下载地址:https://github.com/kingToolbox/WindTerm/releases 服务端框架 skynet框架:https://github.com/cloudwu/skynet c + lua 服务端开发框架 ftp工具 git-ftp:https://github.com/git-ftp/git-ftp ","permalink":"https://cfanzp.com/code-github/","tags":["github"],"title":"github资源整理"},{"categories":["language","development-manual","lua"],"contents":"lua5.3开发手册 https://cloud.tencent.com/developer/doc/1141 云风翻译:http://cloudwu.github.io/lua53doc/manual.html lua5.4开发手册 官网英文版:http://www.lua.org/manual/5.4/manual.html lua匹配库Lpeg 官网: http://www.inf.puc-rio.br/~roberto/lpeg/ 帮助: https://www.jianshu.com/p/e8e1c5abfdbb tutorial: https://lua-users.org/wiki/LpegTutorial luasocket github: https://github.com/lunarmodules/luasocket 使用demo: https://blog.csdn.net/h1023417614/article/details/52297408 lua md5 github: https://github.com/keplerproject/md5 jemalloc http://jemalloc.net/ ","permalink":"https://cfanzp.com/lua-man/","tags":["lua"],"title":"Lua开发手册"},{"categories":["language"],"contents":"rust语言基础 rust语言的优点 c/c++ 性能好，但是类型系统和内存都不太安全。 java/c#, 有GC,内存安全有很多优秀的特性，但性能不行。 Rust:安全，无需GC,易于维护 rust的缺点 难学 Rust特别擅长的领域 高性能Web Service WebAssemble 命令行工具 网络编程 嵌入式设备 系统编程 Rust的用户和案例 Google:新操作系统Fuschia,Rust:30% Amazon：基于Linux开发的直接可以在裸机、虚拟机上运行容器的操作系统 System76：纯Rust开发了下一代安全操作系统Redox 蚂蚁金服:库操作系统Occlum 斯坦福和密歇根大学:嵌入式实时操作系统，应用于Google的加密产品。 微软:Rust重写Windows系统中的一些低级组件 微软:WinRT/Rust项目 Dropbox、Yelp、LINE、npm、百度、华为、Deno等 注意 Rust有很多独有的概念，他们和现在大多主流语言都不通。 学习Rust必须从基础概念一步一步学，否则会懵。 参考教材 Rust权威指南(The rust programming language) Rust安装 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 curl --proto \u0026#39;=https\u0026#39; --tlsv1.2 https://sh.rustup.rs -sSf | sh info: downloading installer Welcome to Rust! This will download and install the official compiler for the Rust programming language, and its package manager, Cargo. Rustup metadata and toolchains will be installed into the Rustup home directory, located at: /Users/zp/.rustup This can be modified with the RUSTUP_HOME environment variable. The Cargo home directory is located at: /Users/zp/.cargo This can be modified with the CARGO_HOME environment variable. The cargo, rustc, rustup and other commands will be added to Cargo\u0026#39;s bin directory, located at: /Users/zp/.cargo/bin This path will then be added to your PATH environment variable by modifying the profile files located at: /Users/zp/.profile /Users/zp/.bash_profile /Users/zp/.bashrc /Users/zp/.zshenv You can uninstall at any time with rustup self uninstall and these changes will be reverted. Current installation options: default host triple: x86_64-apple-darwin default toolchain: stable (default) profile: default modify PATH variable: yes 1) Proceed with installation (default) 2) Customize installation 3) Cancel installation \u0026gt; 选1，提示如下则安装成功 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 info: profile set to \u0026#39;default\u0026#39; info: default host triple is x86_64-apple-darwin info: syncing channel updates for \u0026#39;stable-x86_64-apple-darwin\u0026#39; 703.5 KiB / 703.5 KiB (100 %) 671.4 KiB/s in 1s ETA: 0s info: latest update on 2022-06-30, rust version 1.62.0 (a8314ef7d 2022-06-27) info: downloading component \u0026#39;cargo\u0026#39; 4.7 MiB / 4.7 MiB (100 %) 2.8 MiB/s in 1s ETA: 0s info: downloading component \u0026#39;clippy\u0026#39; info: downloading component \u0026#39;rust-docs\u0026#39; 18.3 MiB / 18.3 MiB (100 %) 5.3 MiB/s in 4s ETA: 0s info: downloading component \u0026#39;rust-std\u0026#39; 24.6 MiB / 24.6 MiB (100 %) 4.0 MiB/s in 6s ETA: 0s info: downloading component \u0026#39;rustc\u0026#39; 52.6 MiB / 52.6 MiB (100 %) 1.5 MiB/s in 20s ETA: 0s info: downloading component \u0026#39;rustfmt\u0026#39; 2.4 MiB / 2.4 MiB (100 %) 1.4 MiB/s in 2s ETA: 0s info: installing component \u0026#39;cargo\u0026#39; info: installing component \u0026#39;clippy\u0026#39; info: installing component \u0026#39;rust-docs\u0026#39; 18.3 MiB / 18.3 MiB (100 %) 1.7 MiB/s in 21s ETA: 0s info: installing component \u0026#39;rust-std\u0026#39; 24.6 MiB / 24.6 MiB (100 %) 8.9 MiB/s in 2s ETA: 0s info: installing component \u0026#39;rustc\u0026#39; 52.6 MiB / 52.6 MiB (100 %) 10.4 MiB/s in 5s ETA: 0s info: installing component \u0026#39;rustfmt\u0026#39; info: default toolchain set to \u0026#39;stable-x86_64-apple-darwin\u0026#39; stable-x86_64-apple-darwin installed - rustc 1.62.0 (a8314ef7d 2022-06-27) Rust is installed now. Great! To get started you may need to restart your current shell. This would reload your PATH environment variable to include Cargo\u0026#39;s bin directory ($HOME/.cargo/bin). To configure your current shell, run: source \u0026#34;$HOME/.cargo/env\u0026#34; 查看版本号 1 2 localhost:~ zp$ rustc --version rustc 1.62.0 (a8314ef7d 2022-06-27) 卸载 1 rustup self uninstall 总结 今天简单了解了一下rust语言，学习了rust语言的优点和缺点。 学习了rust的下载安装和基本配置。 rust是一门安全又高效的语言，这个足以秒杀现在的大部分语言了。 大厂都在用的语言，如果有时间还是有必要学习一下。 ","permalink":"https://cfanzp.com/language-rust/","tags":["rust"],"title":"rust语言基础"},{"categories":["devtools"],"contents":"flameshot 简介 flameshot 是一款跨平台的截图工具。 配置文件路经 1 2 3 4 linux: ~/.config/flameshot/flameshot.ini windows: C:\\Users\\{YOURNAME}\\AppData\\Roaming\\flameshot\\flameshot.ini github地址: 1 https://github.com/flameshot-org/flameshot 下载 1 https://github.com/flameshot-org/flameshot/releases/tag/v0.10.2 常见平台安装 MacOS 1 brew install --cask flameshot Manjaro 1 pacman -S flameshot Ubuntu 16.04 1 wget https://github.com/flameshot-org/flameshot/releases/download/v11.0.rc1/Flameshot-11.0.rc1.x86_64.AppImage Ubuntu 18.04+ 1 apt install flameshot Ubuntu 20.04+ 下载deb包安装 1 2 3 https://github.com/flameshot-org/flameshot/releases wget http://github.com/flameshot-org/flameshot/releases/download/v11.0.0/flameshot-11.0.0-1.ubuntu-20.04.amd64.deb sudo apt install ./flameshot-11.0.0-1.ubuntu-20.04.amd64.deb Debian 10+ 1 apt install flameshot windows 直接下载安装包,下载地址: 1 https://github.com/flameshot-org/flameshot/releases/tag/v0.10.2 常用快捷键 1 2 3 4 按PrintScreen键 激活 Ctrl + c 拷贝到剪贴版 Ctrl + s 保存到文件 Ctrl + z 撤销 常见问题 运行时提示 linux下提示/usr/lib64/libstdc++.so.6: version `GLIBCXX_3.4.14\u0026rsquo; not found 解决办法 1 2 sudo pacman -Ss gcc sudo pacman -S core/gcc ","permalink":"https://cfanzp.com/devtools-flameshot/","tags":["flameshot"],"title":"devtools-flameshot"},{"categories":["linux"],"contents":"mysql-使用mysqldump来备份数据库 导出单个表 1 mysqldump -u root -p123456 testdb t_user \u0026gt; t_user.sql 去掉注释 这个太重要了，方便保存后通过git等代码管理工具比较差异 1 --skip-comments 输出更少的信息 1 2 --compact 相当于 --skip-add-drop-table --skip-add-locks --skip-comments --skip-disable-keys 插入语句单行输出 这一点很重要，如果记录比较多的话，生成的sql没法看。 1 --extended-insert=FALSE 备份多个表 在all_base_table.txt中存放需要备份的表名 1 2 3 4 cat all_base_table.txt t_user_config t_login_config t_game_config 执行下面的脚本就可以批量备份表以及里面的数据 1 2 3 4 5 6 7 8 #!/bin/bash for tbname in $(cat all_base_table.txt) do echo tbname: $tbname mysqldump -h192.168.2.127 -P3306 -uroot -p123456 --opt testdb $tbname--skip-comments --extended-insert=FALSE \u0026gt;./base_table/$tbname.sql echo basetable: $tbname done 备份整个数据库的结构: 1 2 des_file=testdb_no_data_v0.0.1.sql mysqldump -h192.168.2.127 -P3306 -uroot -p123456 testdb --no-data --routines --skip-comments \u0026gt; $des_file 备份整个数据库的结构和数据并压缩 1 2 3 4 5 6 7 dt=$(date +%Y%m%d_%H%M%S) des_file=testdb_bak_$dt.sql bak_file=testdb_bak_$dt.tar.gz mysqldump -h192.168.2.127 -P3306 -uroot -p123456 testdb --routines \u0026gt; $des_file tar -czvf $bak_file $des_file mv $bak_file ./bak/ rm -f $des_file 备份数据恢复 1 2 3 mysql -uroot -p use testdb source /data/testdb.sql 不想导入备份中的某些大表怎么办？ 这里提供一个思路，如果你知道是那些表太大了，那就可以把这些表的insert语句删掉再进行导入。 例如：条record_round和表record_game太大了，不导入这2个表的记录那么可以用sed命令删除掉相关记录 1 sed \u0026#39;/INTO `record_round` VALUES/d;/INTO `record_game` VALUES/d\u0026#39; testdb.sql \u0026gt;testdb_min.sql 总结 上面只是列举了常用的几种用法 mysqldump的用法还很多，有需要的同学可以深入研究学习一下。 mysqldump的笔记先就记到这里，后面有更有价值的用法再行补充。 ","permalink":"https://cfanzp.com/linux-mysqldump/","tags":["linux","mysql"],"title":"mysql-使用mysqldump来备份数据库"},{"categories":["linux"],"contents":"ubuntu 远程连接windows的几种方法 1. 使用rdesktop 安装 1 sudo apt install rdesktop 使用举例 1 rdesktop -g 1024x768 -a 16 -u Administrator -p your_password -0 192.168.2.189:3389 常用使用参数 1 2 3 4 5 6 7 8 9 -f 全屏 -g 桌面大小 -a 16 16位色深 -u 用户名 -p 密码 -r clipboard 表示允许在远程主机和本机之间共享剪切板，可以复制粘贴 -r clipboard:PRIMARYCLIPBOARD 共享剪贴板，连接到window7 -r disk:share=/home 共享/home目录 ctrl+alt+enter 退出全屏 使用rdesktop常见问题 1. 连接失败,提示如下: 1 2 3 4 5 6 7 Connecting to server using NLA... Core(warning): Certificate received from server is NOT trusted by this system, an exception has been added by the user to trust this specific certificate. TLS Session info: (TLS1.2)-(RSA)-(AES-256-GCM) Failed to initialize NLA, do you have correct Kerberos TGT initialized ? Failed to connect using NLA, trying with SSL Failed to connect, CredSSP required by server (check if server has disabled old TLS versions, if yes use -V option). 解决方法是: 1 2 3 1.先通过其他方式远程连接服务器。 2.右键我的电脑--\u0026gt;属性--\u0026gt;远程设置--\u0026gt;远程 3.取消勾选 仅允许运行使用网络界别身份验证的远程桌面的计算机连接(建议)(N) 2. 如何共享磁盘？ 加上 -r disk:share_home=/home参数（Ubuntu 20.04.4 LTS 测试正常） 1 rdesktop -g 1024x768 -a 16 -u Administrator -p your_password -0 192.168.2.189:3389 -r clipboard:PRIMARYCLIPBOARD -r disk:share_home=/home 扩展使用 使用i3wm桌面管理器时，该方法同样可用 manjaro中可用 参考链接 https://blog.csdn.net/weixin_39895167/article/details/116716315 2. xfreerdp 3. Remmina 桌面共享客户端 1. 安装 1 sudo apt-get install remmina remmina-plugin-* 总结 目前就个人而言，如果是在终端里面我个人比较喜欢用的是rdesktop和xfreerdp。 GUI管理工具的话，Remmina目前也在用，感觉还是挺不错的，推荐给大家。 如果大家有更好的linux远程windows的工具，欢迎推荐。 ","permalink":"https://cfanzp.com/linux-ubuntu-remotedesktop/","tags":["linux","ubuntu"],"title":"ubuntu-远程连接windows的几种方法"},{"categories":["skynet"],"contents":"【skynet学习笔记】skynet的目录结构 skynet目录结构 学习skynet必须先了解一下skynet的目录结构。 skynet的目录结构十分清晰，一目了然。 下面来具体看看各个目录。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 [root@lzw skynet]# tree -f -L 1 . ├── ./3rd ├── ./cservice ├── ./examples ├── ./HISTORY.md ├── ./LICENSE ├── ./luaclib ├── ./lualib ├── ./lualib-src ├── ./Makefile ├── ./platform.mk ├── ./README.md ├── ./service ├── ./service-src ├── ./skynet ├── ./skynet-src └── ./test 目录结构分析 3rd目录 ./3rd：存放第三方库里面包括了:jemalloc,lpeg,lua,lua-md5 jemalloc:是个内存管理库，可以提高内存是利用率，减少内存碎片。skynet中可以通过编译选项来决定是否使用这个库。 lpeg:是一个模式匹配库。 lua:lua源代码，目前skynet1.5.0用的lua版本是5.4.4。 lua-md5:一个lua的md5库。 1 2 3 4 5 6 [root@lzw skynet]# tree -f -L 1 3rd/ 3rd ├── 3rd/jemalloc ├── 3rd/lpeg ├── 3rd/lua └── 3rd/lua-md5 cservice目录 cservice目录存放c语言实现的skynet服务 1 2 3 4 5 6 [root@lzw skynet]# tree -f -L 1 cservice/ cservice ├── cservice/gate.so ├── cservice/harbor.so ├── cservice/logger.so └── cservice/snlua.so examples：存放skynet的一些官方的例子，这里不展开介绍了，后面会逐个分析一下各个例子。 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 [root@lzw skynet]# tree -f -L 1 examples/ examples ├── examples/abort.lua ├── examples/agent.lua ├── examples/checkdeadloop.lua ├── examples/client.lua ├── examples/cluster1.lua ├── examples/cluster2.lua ├── examples/clustername.lua ├── examples/config ├── examples/config.c1 ├── examples/config.c2 ├── examples/config_log ├── examples/config.login ├── examples/config.mc ├── examples/config.mongodb ├── examples/config.mysql ├── examples/config.path ├── examples/config.userlog ├── examples/globallog.lua ├── examples/injectlaunch.lua ├── examples/login ├── examples/main_log.lua ├── examples/main.lua ├── examples/main_mongodb.lua ├── examples/main_mysql.lua ├── examples/preload.lua ├── examples/protoloader.lua ├── examples/proto.lua ├── examples/share.lua ├── examples/simpledb.lua ├── examples/simplemonitor.lua ├── examples/simpleweb.lua ├── examples/simplewebsocket.lua ├── examples/userlog.lua └── examples/watchdog.lua luaclib目录 luaclib目录存放.so库 1 2 3 4 5 6 7 8 9 10 11 12 [root@lzw skynet]# tree -f -L 1 luaclib/ luaclib ├── luaclib/bson.so ├── luaclib/client.so ├── luaclib/clientws.so ├── luaclib/lpeg.so ├── luaclib/ltls.so ├── luaclib/md5.so ├── luaclib/mysqlaux.so ├── luaclib/skynet.so ├── luaclib/sproto.so └── luaclib/wsnetpack.so lualib目录 存放skynet的lua库 1 2 3 4 5 6 7 8 9 10 11 12 [root@lzw skynet]# tree lualib -L 1 lualib ├── compat10 ├── http ├── loader.lua ├── md5.lua ├── skynet ├── skynet.lua ├── snax ├── sprotoloader.lua ├── sproto.lua └── sprotoparser.lua lualib-src目录 存放skynetlua库的源码 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 [root@lzw skynet]# tree -f -L 1 lualib-src lualib-src ├── lualib-src/lsha1.c ├── lualib-src/ltls.c ├── lualib-src/lua-bson.c ├── lualib-src/lua-clientsocket.c ├── lualib-src/lua-clientwebsocket.c ├── lualib-src/lua-cluster.c ├── lualib-src/lua-crypt.c ├── lualib-src/lua-datasheet.c ├── lualib-src/lua-debugchannel.c ├── lualib-src/lua-memory.c ├── lualib-src/lua-mongo.c ├── lualib-src/lua-multicast.c ├── lualib-src/lua-mysqlaux.c ├── lualib-src/lua-netpack.c ├── lualib-src/lua-profile.c ├── lualib-src/lua-seri.c ├── lualib-src/lua-seri.h ├── lualib-src/lua-sharedata.c ├── lualib-src/lua-sharetable.c ├── lualib-src/lua-skynet.c ├── lualib-src/lua-socket.c ├── lualib-src/lua-stm.c ├── lualib-src/lua-websocketnetpack.c └── lualib-src/sproto service目录 service目录存放一些lua实现的skynet服务 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 [root@lzw skynet]# tree -f -L 1 service service ├── service/bootstrap.lua ├── service/cdummy.lua ├── service/clusteragent.lua ├── service/clusterd.lua ├── service/clusterproxy.lua ├── service/clustersender.lua ├── service/cmaster.lua ├── service/cmemory.lua ├── service/console.lua ├── service/cslave.lua ├── service/datacenterd.lua ├── service/dbg.lua ├── service/debug_agent.lua ├── service/debug_console.lua ├── service/gate.lua ├── service/launcher.lua ├── service/multicastd.lua ├── service/service_cell.lua ├── service/service_mgr.lua ├── service/service_provider.lua ├── service/sharedatad.lua ├── service/snaxd.lua └── service/wsgate.lua service-src目录 service-src目录存放c语言写的服务的源码 1 2 3 4 5 6 7 8 [root@lzw skynet]# tree -f -L 1 service-src service-src ├── service-src/databuffer.h ├── service-src/hashid.h ├── service-src/service_gate.c ├── service-src/service_harbor.c ├── service-src/service_logger.c └── service-src/service_snlua.c skynet-src目录 skynet-src目录存放skynet的核心c语言源码 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 [root@lzw skynet]# tree -f -L 1 skynet-src skynet-src ├── skynet-src/atomic.h ├── skynet-src/malloc_hook.c ├── skynet-src/malloc_hook.h ├── skynet-src/rwlock.h ├── skynet-src/skynet_daemon.c ├── skynet-src/skynet_daemon.h ├── skynet-src/skynet_env.c ├── skynet-src/skynet_env.h ├── skynet-src/skynet_error.c ├── skynet-src/skynet.h ├── skynet-src/skynet_handle.c ├── skynet-src/skynet_handle.h ├── skynet-src/skynet_harbor.c ├── skynet-src/skynet_harbor.h ├── skynet-src/skynet_imp.h ├── skynet-src/skynet_log.c ├── skynet-src/skynet_log.h ├── skynet-src/skynet_main.c ├── skynet-src/skynet_malloc.h ├── skynet-src/skynet_module.c ├── skynet-src/skynet_module.h ├── skynet-src/skynet_monitor.c ├── skynet-src/skynet_monitor.h ├── skynet-src/skynet_mq.c ├── skynet-src/skynet_mq.h ├── skynet-src/skynet_server.c ├── skynet-src/skynet_server.h ├── skynet-src/skynet_socket.c ├── skynet-src/skynet_socket.h ├── skynet-src/skynet_start.c ├── skynet-src/skynet_timer.c ├── skynet-src/skynet_timer.h ├── skynet-src/socket_buffer.h ├── skynet-src/socket_epoll.h ├── skynet-src/socket_info.h ├── skynet-src/socket_kqueue.h ├── skynet-src/socket_poll.h ├── skynet-src/socket_server.c ├── skynet-src/socket_server.h └── skynet-src/spinlock.h test目录 test目录存放skynet的测试代码 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 [root@lzw skynet]# tree -f -L 1 test test ├── test/pingserver.lua ├── test/sharemap.sp ├── test/testbson.lua ├── test/testcoroutine.lua ├── test/testcrypt.lua ├── test/testdatacenter.lua ├── test/testdatasheet.lua ├── test/testdeadcall.lua ├── test/testdeadloop.lua ├── test/testdns.lua ├── test/testecho.lua ├── test/testendless.lua ├── test/testharborlink.lua ├── test/testhttp.lua ├── test/testmemlimit.lua ├── test/testmongodb.lua ├── test/testmulticast2.lua ├── test/testmulticast.lua ├── test/testmysql.lua ├── test/testoverload.lua ├── test/testping.lua ├── test/testpipeline.lua ├── test/testqueue.lua ├── test/testredis2.lua ├── test/testrediscluster.lua ├── test/testredis.lua ├── test/testresponse.lua ├── test/testselect.lua ├── test/testservice ├── test/testsha.lua ├── test/testsharetable.lua ├── test/testsm.lua ├── test/testsocket.lua ├── test/teststm.lua ├── test/testterm.lua ├── test/testtimeout.lua ├── test/testtimer.lua ├── test/testtobeclosed.lua ├── test/testudp.lua └── test/time.lua 总结 以上粗略地介绍了一下skynet的目录结构。后续会逐个分析一下每个目录里的文件以及作用。 在使用skynet进行开发的时候，我们最好不要在skynet这几个目录同级目录建立自己的项目，而是在他的上级目录去创建一个文件夹来包含skynet框架的代码，这样方便我们去更新和维护skynet的源代码。 在某些时候需要对skynet进行扩展时，最好不要直接修改代码，而是以新的模块的方式去扩展，这样更方便日后同步更新skynet框架。 ","permalink":"https://cfanzp.com/skynet_dir/","tags":["skynet"],"title":"skynet-skynet目录结构"},{"categories":["linux","i3wm"],"contents":"i3wm-i3wm状态栏i3status如何配置显示星期？ i3wm用的状态栏是i3status i3status配置状态栏的方法如下: 配置文件路径/etc/i3status.conf 1 vim /etc/i3status.conf tztime 结点中加入%A 1 2 3 tztime local { format = \u0026#34;%Y-%m-%d %H:%M:%S %A\u0026#34; } ","permalink":"https://cfanzp.com/i3wm-i3status-conf/","tags":["i3wm","i3status"],"title":"i3wm-i3wm状态栏i3status如何配置显示星期？"},{"categories":["mac"],"contents":"mac-如何让terminal中能够看到不同的颜色? 为什么要配置终端配色? 终端对不通类型的文件进行配色能够方便我们通过颜色区分文件夹，脚本文件，图片文件等，大大提高了寻找文件的效率。 如何配置？ 使用vim打开文件~/.bash_profile,在最后加入如下代码: 1 2 3 4 5 alias ll=\u0026#39;ls -la\u0026#39; # 命令别名 #export LS_OPTIONS=\u0026#39;--color=auto\u0026#39; # 如果没有指定，则自动选择颜色 export CLICOLOR=\u0026#39;Yes\u0026#39; # 是否输出颜色 export LSCOLORS=\u0026#39;ExGxFxdaCxDaDahbadacec\u0026#39; # 指定颜色 export PS1=\u0026#34;\\[\\033[01;31;01m\\][\\u@\\h \\W]\\$\\[\\033[01;00;00m\\] \u0026#34; # 指定命令行提示符的颜色为红色 加完后不会立即生效，立即生效请执行: 1 source ~/.bash_profile 参考 https://www.cnblogs.com/FengZeng666/p/16026268.html ","permalink":"https://cfanzp.com/mac-terminal-color/","tags":["mac","terminal"],"title":"mac-如何让terminal中能够看到不同的颜色?"},{"categories":["skynet"],"contents":"skynet debug_console 简介 skynet 自带了一个调试控制台服务。 1 skynet.newservice(\u0026#34;debug_console\u0026#34;,8000) 这里的示例是监听 8000 端口，你可以修改成别的端口。 出于安全考虑，调试控制台只能监听本地地址 127.0.0.1。 所以如果需要远程使用，需要先登录到本机，然后再连接。 可以用 telnet 或 nc 登录调试控制台。启动后会显示 Welcome to skynet console 表示连接成功。 由于 skynet 使用自己的 IO 库，所以很难把 libreadline 接入（不能在 readline 的 hook 中 yield）。 如果你希望在控制台中使用 readline 的 history 等特性，可以自己使用 rlwrap 。 输入 help 可以列出目前支持的所有指令。 这份文档可能落后于实际版本，所以应以 help 列出的指令为准。 命令的一般格式是 命令 地址 ，有些命令不带地址，会针对所有的服务。 当输入地址时，可以使用 :00000001 这样的格式指代一个服务地址. 服务地址：由冒号开头的8位16进制数字， 前面两个数字的 harbor id， 01000001 可以简写为 1 。 所有活动的服务可以输入 list 列出。 常用的针对所有 lua 服务的指令有： 命令 作用 list 列出所有服务，以及启动服务的命令参数。 gc 强制让所有 lua 服务都执行一次垃圾回收，并报告回收后的内存。 mem 让所有 lua 服务汇报自己占用的内存。（注：它只能获取 lua 服务的 lua vm 内存占用情况，如果需要 C 模块中内存使用报告，请参考 MemoryHook 。 stat 列出所有 lua 服务的消息队列长度，以及被挂起的请求数量，处理的消息总数。如果在 Config 里设置 profile 为 true ，还会报告服务使用的 cpu 时间。 service 列出所有的唯一 lua 服务。并显示出请求还不存在的服务被挂起的请求。 netstat 列出网络连接的概况。 注意，由于这些指令是挨个向每个服务发送消息并等待回应，所以当某个 lua 服务过载时，可能需要等待很长时间才有返回。 针对单个 lua 服务的指令有： 命令 作用 exit address 让一个 lua 服务退出。 kill address 强制中止一个 lua 服务。 info address 让一个 lua 服务汇报自己的内部信息，参见 Profile 。 signal address sig 向服务发送一个信号，sig 默认为 0 。 当一个服务陷入死循环时，默认信号会打断正在执行的 lua 字节码，并抛出 error 显示调用栈。这是针对 endless loop 的 log 的有效调试方法。注：这里的信号并非系统信号。 task address 显示一个服务中所有被挂起的请求的调用栈。 debug address 针对一个 lua 服务启动内置的单步调试器。http://blog.codingnow.com/2015/02/skynet_debugger.html logon/logoff address 记录一个服务所有的输入消息到文件。需要在 Config 里配置 logpath 。 inject address script 将 script 名字对应的脚本插入到指定服务中运行（通常可用于热更新补丁）。 call address 调用一个服务的lua类型接口，格式为: call address \u0026ldquo;foo\u0026rdquo;, arg1, \u0026hellip; 注意接口名和string型参数必须加引号,且以逗号隔开, address目前支持服务名方式。 使用举例 list 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 list :00000004 snlua cdummy :00000006 snlua datacenterd :00000007 snlua service_mgr :00000009 snlua clusterd :0000000a snlua clustersender centernode mybonline130153 192.168.0.40 7002 :0000000b snlua debug_console 7701 :0000000c snlua redis_mgr :0000000d snlua mysql_mgr :0000000e snlua mysql_agent 1 :0000000f snlua mysql_agent 2 :00000010 snlua mysql_agent 3 :00000011 snlua dbservice :00000012 snlua gate :00000013 snlua dbservice_agent 1 :00000014 snlua dbservice_agent 2 :00000015 snlua dbservice_agent 3 :00000016 snlua clusteragent 9 18 8 :00000017 snlua clusteragent 9 18 9 :00000018 snlua clusteragent 9 18 11 :00000019 snlua clustersender gate1node mybonline130153 192.168.0.40 7005 \u0026lt;CMD OK\u0026gt; stat 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 stat :00000004 cpu:0.000648 message:9 mqlen:0 task:0 :00000006 cpu:0.000417 message:7 mqlen:0 task:0 :00000007 cpu:0.001085 message:27 mqlen:0 task:0 :00000009 cpu:0.00093 message:27 mqlen:0 task:0 :0000000a cpu:0.001511 message:15 mqlen:0 task:1 :0000000b cpu:0.005971 message:36 mqlen:0 task:1 :0000000c cpu:0.002868 message:90 mqlen:0 task:1 :0000000d cpu:0.586735 message:32433 mqlen:0 task:0 :0000000e cpu:1.041848 message:16828 mqlen:0 task:2 :0000000f cpu:1.045539 message:16767 mqlen:0 task:2 :00000010 cpu:1.054712 message:17290 mqlen:0 task:2 :00000011 cpu:0.568066 message:32442 mqlen:0 task:0 :00000012 cpu:0.34314 message:20203 mqlen:0 task:0 :00000013 cpu:0.549106 message:10815 mqlen:0 task:0 :00000014 cpu:0.541082 message:10834 mqlen:0 task:0 :00000015 cpu:0.550082 message:10868 mqlen:0 task:0 :00000016 cpu:0.000717 message:9 mqlen:0 task:0 :00000017 cpu:0.677452 message:32350 mqlen:0 task:0 :00000018 cpu:0.002423 message:80 mqlen:0 task:0 :00000019 cpu:0.003337 message:81 mqlen:0 task:1 \u0026lt;CMD OK\u0026gt; info 1 2 3 4 5 6 7 info d { agent_index_ = 1, balance_ = {}, mysql_agent_count_ = 3 } \u0026lt;CMD OK\u0026gt; task 1 2 3 4 5 6 7 8 9 10 11 12 13 14 task e 22527 stack traceback: [C]: in function \u0026#39;skynet.profile.yield\u0026#39; skynet/lualib/skynet.lua:141: in function \u0026lt;skynet/lualib/skynet.lua:113\u0026gt; 22530 stack traceback: [C]: in function \u0026#39;skynet.profile.yield\u0026#39; skynet/lualib/skynet.lua:244: in upvalue \u0026#39;suspend_sleep\u0026#39; skynet/lualib/skynet.lua:270: in function \u0026#39;skynet.wait\u0026#39; skynet/lualib/skynet/socketchannel.lua:127: in upvalue \u0026#39;pop_response\u0026#39; skynet/lualib/skynet/socketchannel.lua:167: in function \u0026lt;skynet/lualib/skynet/socketchannel.lua:165\u0026gt; [C]: in function \u0026#39;pcall\u0026#39; skynet/lualib/skynet/socketchannel.lua:303: in upvalue \u0026#39;f\u0026#39; skynet/lualib/skynet.lua:141: in function \u0026lt;skynet/lualib/skynet.lua:113\u0026gt; \u0026lt;CMD OK\u0026gt; call 1 2 3 4 5 6 7 :0000002f snlua luckyshop_service :00000030 snlua luckyshop_agent 1 total_count 4 \u0026lt;CMD OK\u0026gt; call 30 \u0026#34;reload\u0026#34; n 0 \u0026lt;CMD OK\u0026gt; clearcache 1 2 clearcache \u0026lt;CMD OK\u0026gt; service 1 2 3 4 5 6 service clusterd :00000009 debug_console :0000000b mysql_mgr :0000000d redis_mgr :0000000c \u0026lt;CMD OK\u0026gt; exit 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 list :00000004 snlua cdummy :00000006 snlua datacenterd :00000007 snlua service_mgr :00000009 snlua clusterd :0000000a snlua clustersender centernode dev1273031 192.168.2.127 7002 :0000000b snlua debug_console 7310 :0000000c snlua gateservice :0000000d snlua forward_service :0000000e snlua wsgate :0000000f snlua node_service :00000010 snlua node_agent 1 :00000011 snlua gate :00000012 snlua clustersender loginnode dev1273031 192.168.2.127 7001 :00000013 snlua clusteragent 9 17 6 :00000014 snlua clustersender lobbynode dev1273031 192.168.2.127 7003 :00000017 snlua clustersender matchnode dev1273031 192.168.2.127 7201 :00000018 snlua clusteragent 9 17 11 :00000036 snlua clustersender recreationnode dev1273031 192.168.2.127 7401 :00000039 snlua clusteragent 9 17 30 :00000040 snlua clustersender paynode dev1273031 192.168.2.127 7008 :00000042 snlua clusteragent 9 17 41 :0000009a snlua clusteragent 9 17 69 \u0026lt;CMD OK\u0026gt; exit 10 \u0026lt;CMD OK\u0026gt; list :00000004 snlua cdummy :00000006 snlua datacenterd :00000007 snlua service_mgr :00000009 snlua clusterd :0000000a snlua clustersender centernode dev1273031 192.168.2.127 7002 :0000000b snlua debug_console 7310 :0000000c snlua gateservice :0000000d snlua forward_service :0000000e snlua wsgate :0000000f snlua node_service :00000011 snlua gate :00000012 snlua clustersender loginnode dev1273031 192.168.2.127 7001 :00000013 snlua clusteragent 9 17 6 :00000014 snlua clustersender lobbynode dev1273031 192.168.2.127 7003 :00000017 snlua clustersender matchnode dev1273031 192.168.2.127 7201 :00000018 snlua clusteragent 9 17 11 :00000036 snlua clustersender recreationnode dev1273031 192.168.2.127 7401 :00000039 snlua clusteragent 9 17 30 :00000040 snlua clustersender paynode dev1273031 192.168.2.127 7008 :00000042 snlua clusteragent 9 17 41 :0000009a snlua clusteragent 9 17 69 扫描下方二维码，关注我的公众号，获取更多技术方面的知识 ","permalink":"https://cfanzp.com/debug_console/","tags":["skynet"],"title":"skynet-debug_console 简介"},{"categories":null,"contents":"steps ","permalink":"https://cfanzp.com/record-data-info/ls/","tags":null,"title":"test1"},{"categories":null,"contents":"steps ","permalink":"https://cfanzp.com/record-data-info/tx/","tags":null,"title":"test2"},{"categories":null,"contents":"steps ","permalink":"https://cfanzp.com/record-data-info/dmd/","tags":null,"title":"test3"},{"categories":null,"contents":"TODO 2024年 养成多做笔记的习惯。通过读书笔记和博客的方式进行记录。 做技术实验，博客对自己的技术实验进行总结分享给大家。 阅读复习计算机网络这本书。 学习squid源码。 学习e2guardian源码。 学习嵌入式\u0026ndash;单片机。 嵌入式知识结构图。 2023年 学习golang:golang学习笔记 学习笔记13篇 学习acra:acra 学习笔记1篇 学习docker:docker 学习笔记10篇 复习计算机网络:计算机网络 学习笔记7篇 源码学习 squid e2guardian lua nginx redis skynet 3rd examples 其他 tars 游戏开发 Unity3d cocos creator 学习 《Vim实用技巧（第2版）》学习笔记 《计算网络（第5版）》学习笔记 golang学习笔记 ","permalink":"https://cfanzp.com/todo/","tags":null,"title":"TODO"},{"categories":null,"contents":"笔记列表 读书笔记 \u0026laquo;Vim实用技巧第2版\u0026raquo;学习笔记 \u0026laquo;计算机网络第5版\u0026raquo;学习笔记 学习笔记 neovim学习笔记 golang学习笔记 linux学习笔记 开发笔记 游戏开发笔记 ","permalink":"https://cfanzp.com/book/","tags":null,"title":"笔记列表"},{"categories":null,"contents":" 本站主要记录个人Linux开发相关笔记。 欢迎通过微信或者邮件等方式与本人交流相关技术问题。 有不正确的地方希望能够帮忙指正。 邮箱:cfanzp@qq.com 微信号:cfanzp 本站关注的方向包括并不限于如下列表 编程语言 c c++ lua golang rust python,java,c#,php 操作系统 linux centos ubuntu manjaro,debian 主流技术 docker,k8s,etcd,zk,elk 数据库 redis mysql mongodb,MS SQL,postgresql 游戏框架 skynet tars 客户端 cocos2d-x cocos-creator u3d 开发工具 vim git nginx svn jenkins,gitlab 学习 squid源码 lazy.vim 更多 公众号 加我微信 CSDN TODO TODO categories tags ","permalink":"https://cfanzp.com/about/","tags":null,"title":"关于"},{"categories":null,"contents":"开发工具 思维导图 freemind freeplane 在图工具 在线画图工具: iodraw drawio github 在线json格式化工具:sojson https://cloud.tencent.com/developer/article/2230844 转发 nginx 源码管理 git svn jenkins,gitlab 编辑器 vim 截图 flameshot 更多 公众号 CSDN email:cfanzp@qq.com ","permalink":"https://cfanzp.com/devtools/","tags":null,"title":"开发工具"},{"categories":null,"contents":"car 电池测试: 电压:12.96v 测试值:495 cca 额定值:585 cca 健康状态:4格/14格 电池十大品牌 ","permalink":"https://cfanzp.com/car/","tags":null,"title":"汽车"},{"categories":null,"contents":"客户端 cocos2d-x cocos-creator u3d 更多 公众号 CSDN ","permalink":"https://cfanzp.com/client/","tags":null,"title":"前端开发"},{"categories":null,"contents":"嵌入式开发 ","permalink":"https://cfanzp.com/main-embedded/","tags":null,"title":"嵌入式开发"},{"categories":null,"contents":"网络 软件定义广域网\u0026ndash;SDWAN 防火墙 安全访问服务边缘\u0026mdash;SASE 零信任网络访问\u0026ndash;ZTNA 云访问安全代理\u0026ndash;CASB 数据泄露防护\u0026ndash;DLP 软件即服务\u0026ndash;SaaS ","permalink":"https://cfanzp.com/network/","tags":null,"title":"网络"},{"categories":null,"contents":"项目 后端服务 python邮件发送服务 linux c消息队列 开源项目 ACRA squid ","permalink":"https://cfanzp.com/proj/","tags":null,"title":"项目"},{"categories":null,"contents":"游戏开发 本站关注的游戏开发技术包括并不限于如下列表 服务端 操作系统 linux centos ubuntu 数据库 redis mysql mongodb,MS SQL,postgresql 游戏框架 skynet tars 客户端 cocos2d-x cocos-creator u3d 更多 公众号 CSDN ","permalink":"https://cfanzp.com/game/","tags":null,"title":"游戏开发"},{"categories":["skynet"],"contents":"给项目日志加上traceid traceid是什么？ 这里所说的traceid是指在服务端收到客户端请求后到服务端返回给客户端结果的过程中给没一条日志添加一个相同的traceid来跟踪请求到返回的整个过程。 为什么要给服务的日志加上traceid? 最近准备给项目里的日志都加上traceid。这样方便服务端网关在收到请求后到返回给客户端之前追踪整个请求的链路。方便排查线上的bug以及统计查询请求的性能瓶颈。 添加一个traceid，对于一个新项目而言并不是什么难事，但是对于一个已经成熟上线的项目而言，还是有很多要注意的地方。 目前我们这个上线的项目采用的微服务的思想:项目里面把功能相对独立的部分单独成进程。方便服务的快速迭代，快速部署和部分更新。实际上这样的拆分作用相当明显，需要功能都不需要停服就可以一做到热更新，大大降低了维护成本，提高了用户的体验。 如何设计traceid? 这里把traceid分成4个部分: 用户相关的uid 消息相关的msgid 递增或唯一的tid 时间相关的时间戳timestamp 用户的uid不用说，方便识别这个业务和那个用户相关。 消息msgid就方便定位业务。 tid为了保证traceid的唯一性。 时间戳方便统计请求到返回消耗的时间，同时在每深入一步后可以计算出消耗的时间。 traceid是否可以做到对业务透传？ 目前对于线上业务结构，还做不到透传。只能通过在节点间、函数调用间传递参数traceid的方式来使用traceid,这是最简单也是最繁琐的方案了。不过还挺实用，能够解决问题。目前先让各节点支持traceid的链路追踪，后续再进行优化。 总结 traceid的添加还在进行中，目前已完成部分节点的链路日志打印。后续会添加链路时间消耗的统计。这里先行记录一下。后续会使用traceid来统计一下各个api的调用耗时。 ","permalink":"https://cfanzp.com/skynet-traceid/","tags":["skynet"],"title":"skynet-给项目日志添加traceid"},{"categories":["linux"],"contents":"xargs命令 为啥必须要学会xargs命令？ 主要原因是xargs的作用太大了，应用十分广泛，以下是平时工作中经常用到的一部分: 读取文件并重新格式化 配合wc统计文件行数 查找文件后批量删除文件 批量关闭进程 批量修改文件的权限 批量解压文件 其它用法可使用xargs \u0026ndash;help深入学习 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 [root@dev127 myb]# xargs --help Usage: xargs [OPTION]... COMMAND INITIAL-ARGS... Run COMMAND with arguments INITIAL-ARGS and more arguments read from input. Mandatory arguments to long options are mandatory for short options too. Non-mandatory arguments are indicated by [square brackets] -0, --null Items are separated by a null, not whitespace.使用 Disables quote and backslash processing -a, --arg-file=FILE Read arguments from FILE, not standard input -d, --delimiter=CHARACTER Input items are separated by CHARACTER, not by blank space. Disables quote and backslash processing -E END If END occurs as a line of input, the rest of the input is ignored. -e [END], --eof[=END] Equivalent to -E END if END is specified. Otherwise, there is no end-of-file string --help Print a summary of the options to xargs. -I R same as --replace=R (R must be specified) -i,--replace=[R] Replace R in initial arguments with names read from standard input. If R is unspecified, assume {} -L,-l, --max-lines=MAX-LINES Use at most MAX-LINES nonblank input lines per command line -l Use at most one nonblank input line per command line -n, --max-args=MAX-ARGS Use at most MAX-ARGS arguments per command line -P, --max-procs=MAX-PROCS Run up to max-procs processes at a time -p, --interactive Prompt before running commands --process-slot-var=VAR Set environment variable VAR in child processes -r, --no-run-if-empty If there are no arguments, run no command.使用 If this option is not given, COMMAND will be run at least once. -s, --max-chars=MAX-CHARS Limit commands to MAX-CHARS at most --show-limits Show limits on command-line length. -t, --verbose Print commands before executing them --version Print the version number -x, --exit Exit if the size (see -s) is exceeded Report bugs to \u0026lt;bug-findutils@gnu.org\u0026gt;. xargs的使用 读取文件并重新格式化 例如下面的命令把一个4行4个字母格式化为1行了: 1 2 3 4 5 6 7 8 $ cat c.txt a b c d # zp @ zp-pc in ~/temp [21:02:54] $ cat c.txt |xargs a b c d 格式化为每行2项: 1 2 3 $ cat c.txt |xargs -n2 a b c d 指定分割符号-d: 1 2 $ echo \u0026#34;a;b;c;d\u0026#34; | xargs -d \u0026#34;;\u0026#34; a b c d 统计文件行数 统计当前目录下所有文件的行数: 1 2 3 4 5 $ wc ./* -l 40 ./b.txt 4 ./c.txt 130 ./tmp.txt 174 total 等价于: 1 2 3 4 5 $ wc ./* -l 40 ./b.txt 4 ./c.txt 130 ./tmp.txt 174 total 查找a目录下的.txt结尾的文件并删除不询问 1 $ find ./a -name \u0026#34;*.txt\u0026#34; | xargs -i rm {} 查找并删除文件 查找a目录下的.log结尾的文件并询问是否删除: 1 2 3 4 5 6 7 8 9 10 11 12 13 14 [root@lzw lobby]# find ./a -name \u0026#34;*.log\u0026#34; | xargs -p -i rm {} rm ./a/lobby.20220118.log ?...y rm ./a/lobby.20220118-2.log ?...y rm ./a/lobby.20220117-3.log ?...y rm ./a/lobby.20220117-2.log ?...y rm ./a/lobby.20220118-3.log ?...y rm ./a/lobby.20220118-1.log ?...y rm ./a/lobby.20220115.log ?...y rm ./a/lobby.20220117-5.log ?...y rm ./a/lobby.20220117-1.log ?...y rm ./a/lobby.20220116.log ?...y rm ./a/lobby.20220117.log ?...y rm ./a/lobby.20220117-4.log ?...y rm ./a/lobby.20220117-6.log ?...y 批量修改文件的权限 批量修改当前目录下的lua文件把权限为755的改为644: 1 find ./ -name \u0026#34;*.lua\u0026#34; -perm 755 | xargs chmod 644 批量关闭进程 批量杀掉包含关键字\u0026quot;chrome\u0026quot;的进程: 1 2 3 ps -ef | grep chrome | grep \u0026#34;grep\u0026#34; -v |xargs kill 或 ps -ef | grep chrome | ag \u0026#34;ag\u0026#34; -v |xargs kill 批量解压文件 1 2 3 4 5 6 $ls gate.20220117*.log.gz | xargs -i tar -xzvf {} data/log/server/gate/gate.20220117-1.log data/log/server/gate/gate.20220117-2.log data/log/server/gate/gate.20220117-3.log data/log/server/gate/gate.20220117-4.log data/log/server/gate/gate.20220117.log ","permalink":"https://cfanzp.com/linux-xargs/","tags":["linux","xargs"],"title":"linux-xargs用法简介"},{"categories":["linux"],"contents":"ag命令 https://geoff.greer.fm/ag/ https://github.com/ggreer/the_silver_searcher ag的安装 macOS 1 2 3 brew install the_silver_searcher or port install the_silver_searcher Linux Ubuntu 1 apt-get install silversearcher-ag Arch 1 2 pacman -S the_silver_searcher zypper install the_silver_searcher CentOS 1 yum install the_silver_searcher Windows 1 2 3 4 5 Win32/64 Unofficial daily builds are available. winget winget install \u0026#34;The Silver Searcher\u0026#34; 下载地址:https://github.com/k-takata/the_silver_searcher-win32/releases 源码下载 1 git clone https://github.com/ggreer/the_silver_searcher.git ","permalink":"https://cfanzp.com/linux-ag/","tags":["linux","ag"],"title":"linux-ag命令"},{"categories":["linux"],"contents":"du命令 du命令简介 du命令是linux系统里的文件大小查看的命令。 du命令的应用场景十分广泛： 需要查看单个目录里面多个文件总大小。 需要查看目录中每个文件的大小以及每个子文件夹中文件的大小。 查看日志文件的大小。 查看文件大小并排序，找出最大的或最小的文件。 其它需要统计文件大小的场景。 ls,df也有类似的功能，但是du更侧重于文件大小，并且更灵活好用。是运维人员、服务端开发人员以及其他linux用户很好的工具。掌握du命令的用法十分有必要。 du命令的使用 查看帮助 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 54 55 56 57 58 用法：du [选项]... [文件]... 或：du [选项]... --files0-from=F 计算每个文件的磁盘用量，目录则取总用量。 必选参数对长短选项同时适用。 -0, --null 每行输出使用 NUL 空字符结尾而非使用换行符 -a, --all 输出所有文件的磁盘用量，不仅仅是目录 --apparent-size 显示表面用量，而并非是磁盘用量；虽然表面用量通常会 小一些，但有时它会因为稀疏文件间的“洞”、内部碎 片、非直接引用的块等原因显得更大一些。 -B, --block-size=大小 以指定大小为单位对块大小进行输出；例如， \u0026#39;BM\u0026#39; 以 1,048,576 字节为单位输出大小； 详情请参见下方的“SIZE 格式”部分 -b, --bytes 等效于 \u0026#39;--apparent-size --block-size=1\u0026#39; -c, --total 显示总计信息 -D, --dereference-args 只在符号链接显式在命令行列出时对其进行解引用 -d, --max-depth=N 仅当目录（或在 --all 选项启用时包括文件）层级不高于 命令行参数指定的 N 层时输出对应目录或文件的对应大小； --max-depth=0 等效于 --summarize --files0-from=F 统计由文件 F 给出的由 NUL 空字符结束的文件名列表 所对应各个文件的信息；如果 F 是 -，则从标准输入 读取文件名列表 -H 等效于 --dereference-args (-D) -h, --human-readable 以人类可读的格式输出大小（例如，1K 234M 2G） --inodes 列出 inode 使用信息而非块使用信息 -k 等效于 --block-size=1K -L, --dereference 解引用所有符号链接 -l, --count-links 如果是硬连接，则重复计算其尺寸 -m 等效于 --block-size=1M -P, --no-dereference 不跟随任何符号链接（默认行为） -S, --separate-dirs 不包括子目录的占用量 --si 类似 -h，但使用 1000 的倍数，而非 1024 -s, --summarize 只分别计算命令列中每个参数所占的总用量 -t, --threshold=大小 如果指定大小为正值，排除比该值更小的项， 或者在值为负时排除更大的项 --time 显示目录中或其子目录下所有文件的最后修改时间 --time=关键字 显示指定关键字对应的时间而非最后修改时间： atime, access, use, ctime 或 status --time-style=格式 使用指定格式显示时间，格式可以为： full-iso, long-iso, iso 或 +FORMAT； FORMAT 字符串以与 \u0026#39;date\u0026#39; 工具类似的方式解读 -X, --exclude-from=文件 排除所有与指定\u0026lt;文件\u0026gt;所提供模式匹配的文件 --exclude=模式 排除所有与所给\u0026lt;模式\u0026gt;匹配的文件 -x, --one-file-system 跳过位于不同文件系统上的目录 --help 显示此帮助信息并退出 --version 显示版本信息并退出 所显示的数值是来自 --block-size、DU_BLOCK_SIZE、BLOCK_SIZE 及 BLOCKSIZE 环境变量中第一个可用的 SIZE 单位。 否则，默认单位是 1024 字节(或是 512，若设定 POSIXLY_CORRECT 的话)。 The SIZE argument is an integer and optional unit (example: 10K is 10*1024). Units are K,M,G,T,P,E,Z,Y (powers of 1024) or KB,MB,... (powers of 1000). GNU coreutils 在线帮助：\u0026lt;https://www.gnu.org/software/coreutils/\u0026gt; 请向 \u0026lt;http://translationproject.org/team/zh_CN.html\u0026gt; 报告 du 的翻译错误 完整文档请见：\u0026lt;https://www.gnu.org/software/coreutils/du\u0026gt; 或者在本地使用：info \u0026#39;(coreutils) du invocation\u0026#39; du -h:查看当前目录各文件占用磁盘大小 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 $ du -h 8.0K ./.git/refs/heads 8.0K ./.git/refs/remotes/origin 12K ./.git/refs/remotes 4.0K ./.git/refs/tags 28K ./.git/refs 4.0K ./.git/branches 8.0K ./.git/info 2.0M ./.git/objects/pack 4.0K ./.git/objects/info 2.0M ./.git/objects 8.0K ./.git/logs/refs/heads 8.0K ./.git/logs/refs/remotes/origin 12K ./.git/logs/refs/remotes 24K ./.git/logs/refs 32K ./.git/logs 52K ./.git/hooks 2.1M ./.git 2.5M . du -s 查看文件夹总大小 1 2 $ du -s .git 2104 .git du -hd1 查看当前目录下各目录文件大小，层级深度为1 1 2 3 4 5 6 7 8 $ du -hd1 .git 28K .git/refs 4.0K .git/branches 8.0K .git/info 2.0M .git/objects 32K .git/logs 52K .git/hooks 2.1M .git du -ah1 查看所有文件大小，深度为1. 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 $ du -ahd1 4.0K ./arg.h 20K ./config.h 2.1M ./.git 4.0K ./win.h 4.0K ./Makefile 4.0K ./config.mk 4.0K ./README 56K ./st.c 20K ./config.def.h 4.0K ./TODO 48K ./x.c 52K ./x.o 4.0K ./LICENSE 12K ./FAQ 52K ./st.o 4.0K ./st.1 4.0K ./st.info 92K ./st 4.0K ./st.h 4.0K ./LEGACY 2.5M . 查看文件大小并按由大到小的顺序排序 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 $ du -ahd1 | sort -hr 2.5M . 2.1M ./.git 92K ./st 56K ./st.c 52K ./x.o 52K ./st.o 48K ./x.c 20K ./config.h 20K ./config.def.h 12K ./FAQ 4.0K ./win.h 4.0K ./TODO 4.0K ./st.info 4.0K ./st.h 4.0K ./st.1 4.0K ./README 4.0K ./Makefile 4.0K ./LICENSE 4.0K ./LEGACY 4.0K ./config.mk 4.0K ./arg.h ","permalink":"https://cfanzp.com/linux-du/","tags":["linux","du"],"title":"linux-du命令"},{"categories":["devtools"],"contents":"比gitbook更高效且简洁的markdown工具mdbook mdbook简介 mdbook是一个用rust语言编写的md文档转换为html文档的工具。 mdbook与gitbook功能十分相似。 使用后直观感觉是mdbook速度比gitbook快不少。 mdbook与gitbook相比功能要少很多，但是速度快就是最大的优势。 mdbook只有一个可执行文件。相比gitbook不用安装一大堆的依赖库。 github地址 https://github.com/rust-lang/mdBook mdbook安装 安装方法1 先安装rust 1 curl --proto \u0026#39;=https\u0026#39; --tlsv1.2 -sSf https://sh.rustup.rs | sh 1 cargo install mdbook 显示如下提示说明安装成功了 1 2 3 4 5 6 7 Compiling hyper v0.14.20 Compiling warp v0.3.2 Compiling ammonia v3.2.0 Compiling mdbook v0.4.20 Finished release [optimized] target(s) in 12m 24s Installing /Users/zp/.cargo/bin/mdbook Installed package `mdbook v0.4.20` (executable `mdbook`) 安装方法2 直接下载二进制:https://github.com/rust-lang/mdBook/releases 1 wget https://github.com/rust-lang/mdBook/releases/download/v0.4.20/mdbook-v0.4.20-x86_64-unknown-linux-gnu.tar.gz 使用 初始化一本书或一个笔记项目 1 mdbook init 初始化后会在当前目录生成src文件夹 启动mdbook 监听8000端口 1 mdbook serve --port 8000 后台启动mdbook 1 mdbook serve --port 8000 \u0026amp; 参考 文档: https://rust-lang.github.io/mdBook/ 文档2: https://www.wenjiangs.com/doc/5ljx1ugy 文档3: https://llever.com/mdBook-zh/README.zh.html 中文手册: https://hellowac.github.io/mdbook_doc/index.html ","permalink":"https://cfanzp.com/devtools-mdbook/","tags":["devtools","mdbook"],"title":"mdbook-比gitbook更高效且简洁的markdown工具mdbook"},{"categories":["vim"],"contents":"vim插件-对齐插件tabular 简单介绍 vim中怎么按\u0026quot;=\u0026quot;,\u0026quot;+\u0026quot; 等符号对齐代码呢？使用tabular插件可以轻松解决。 tabular英语单词，主要用作动词，意思是:列成表格的 安装 使用Plug管理插件的话，.vimrc中加入如下代码: 1 Plug \u0026#39;godlygeek/tabular\u0026#39; 使用其它管理工具的安装方法类似，这里就不介绍了。 不了解Plug管理插件的同学可以先了解一下相关方面的知识。 使用方法 例如按=号对齐代码 visual模式选中要对齐的行 进入底行模式输入Tabularize/= 单词太长记不住怎么办？按Tab键会有提示的。 1 :Tabularize/= 执行前 1 2 3 4 local a = 1 local hello = \u0026#34;hello\u0026#34; ```lua - 执行后 local a = 1 local hello = \u0026ldquo;hello\u0026rdquo; ","permalink":"https://cfanzp.com/vim-plug-tabular/","tags":["vim"],"title":"Vim插件:对齐插件-Tabular"},{"categories":["c++","ubuntu","mysql"],"contents":"mysql++的使用 download 1 2 3 4 5 wget https://tangentsoft.com/mysqlpp/releases/mysql++-3.3.0.tar.gz sudo apt-get install libmysqlclient15-dev #sudo apt-get install libmysqlclient-dev ./configure --prefix=/usr/local LDFLAGS=\u0026#39;-pthread\u0026#39; make \u0026amp;\u0026amp; make install 报错 1 Didn\u0026#39;t find mysqlclient_r library in \u0026#39;/usr/lib64 /usr/lib /usr/lib64/mysql doc https://tangentsoft.com/mysqlpp/doc/trunk/README-Linux.txt mysqlpp demo 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 52 53 #include \u0026lt;mysql++.h\u0026gt; #include \u0026lt;ssqls.h\u0026gt; // 定义数据表结构 sql_create_3(MyTable, 1, 3, mysqlpp::sql_int, id, mysqlpp::sql_varchar, name, mysqlpp::sql_int, age) int main() { // 创建一个MySQL对象并连接到数据库 mysqlpp::Connection conn(false); if (conn.connect(\u0026#34;database_name\u0026#34;, \u0026#34;localhost\u0026#34;, \u0026#34;username\u0026#34;, \u0026#34;password\u0026#34;)) { // 连接成功 // 创建一个查询对象 mysqlpp::Query query = conn.query(); // 执行查询操作 query \u0026lt;\u0026lt; \u0026#34;SELECT * FROM my_table\u0026#34;; mysqlpp::StoreQueryResult res = query.store(); if (res) { // 查询成功 // 遍历结果集 for (size_t i = 0; i \u0026lt; res.num_rows(); ++i) { const MyTable\u0026amp; row = res[i]; std::cout \u0026lt;\u0026lt; \u0026#34;ID: \u0026#34; \u0026lt;\u0026lt; row.id \u0026lt;\u0026lt; \u0026#34;, Name: \u0026#34; \u0026lt;\u0026lt; row.name \u0026lt;\u0026lt; \u0026#34;, Age: \u0026#34; \u0026lt;\u0026lt; row.age \u0026lt;\u0026lt; std::endl; } } else { // 查询失败 std::cerr \u0026lt;\u0026lt; \u0026#34;Query error: \u0026#34; \u0026lt;\u0026lt; query.error() \u0026lt;\u0026lt; std::endl; } // 插入数据 MyTable newRow(0, \u0026#34;John Doe\u0026#34;, 25); query.insert(newRow); if (mysqlpp::SimpleResult result = query.execute()) { // 插入成功 std::cout \u0026lt;\u0026lt; \u0026#34;Insert successful. Affected rows: \u0026#34; \u0026lt;\u0026lt; result.rows() \u0026lt;\u0026lt; std::endl; } else { // 插入失败 std::cerr \u0026lt;\u0026lt; \u0026#34;Insert error: \u0026#34; \u0026lt;\u0026lt; query.error() \u0026lt;\u0026lt; std::endl; } } else { // 连接失败 std::cerr \u0026lt;\u0026lt; \u0026#34;Connection error: \u0026#34; \u0026lt;\u0026lt; conn.error() \u0026lt;\u0026lt; std::endl; } return 0; } ","permalink":"https://cfanzp.com/mysql-/","tags":["c++","mysql"],"title":"mysql++的使用"},{"categories":["devtools"],"contents":"tmux基本配置 tmux是什么？ tmux是一个终端复用工具。对于服务端开发的程序员或运维人员而言用处十分大。大大提高了工作效率。 下载 1 wget http://cznic.dl.sourceforge.net/project/tmux/tmux/tmux-1.9/tmux-1.9a.tar.gz 安装 centos安装 1 2 3 4 5 6 yum install libevent-devel ncurses-devel tar -zxvf tmux-1.9.tar.gz cd tmux-1.9 ./configure make make install ubuntu 1 sudo apt install tmux 查看版本号 1 tmux -V 使用 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 tmux #开启tmux tmux ls #显示已有tmux列表（C-b s） tmux attach-session -t 数字 #选择tmux C-b c 创建一个新的窗口 C-b n 切换到下一个窗口 C-b p 切换到上一个窗口 C-b l 最后一个窗口,和上一个窗口的概念不一样哟,谁试谁知道 c-b w 通过上下键选择当前窗口中打开的会话 C-b 数字 直接跳到你按的数字所在的窗口 C-b \u0026amp; 退出当前窗口 C-b d 临时断开会话 断开以后,还可以连上的哟:) C-b \u0026#34; 分割出来一个窗口 C-b % 分割出来一个窗口 C-b o 在小窗口中切换 C-b (方向键) C-b ! 关闭所有小窗口 C-b x 关闭当前光标处的小窗口 C-b t 钟表 C-b pageup/pagedo 实用的tmux配置 一个实用的tmux配置文件分享 存放路径~/.tmux.conf 配置贴出来很简单： 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 set -g default-terminal \u0026#34;screen-256color\u0026#34; #-- base settings --# set -g mode-keys vi # prefix key (Ctrl+a) set -g prefix ^x unbind ^b bind x send-prefix #up bind-key k select-pane -U #down bind-key j select-pane -D #left bind-key h select-pane -L #right bind-key l select-pane -R tmux插件配置文件分享 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 root@vpps:~/.tmux/plugins# cat ~/.tmux.conf set -g default-terminal \u0026#34;screen-256color\u0026#34; #-- base settings --# set -g mode-keys vi set-environment -g EDITOR nvim # prefix key (Ctrl+a) set -g prefix ^a unbind ^b bind a send-prefix #up bind-key k select-pane -U #down bind-key j select-pane -D #left bind-key h select-pane -L #right bind-key l select-pane -R unbind-key -Troot Enter # List of plugins set -g @plugin \u0026#39;tmux-plugins/tpm\u0026#39; #set -g @plugin \u0026#39;tmux-plugins/tmux-sensible\u0026#39; set -g @plugin \u0026#39;tmux-plugins/tmux-open\u0026#39; set -g @plugin \u0026#39;tmux-plugins/tmux-urlview\u0026#39; set -g @plugin \u0026#39;tmux-plugins/tmux-yank\u0026#39; set -g @plugin \u0026#39;tmux-plugins/tmux-copycat\u0026#39; set-option -g @urlview-command \u0026#34;nvim {}\u0026#34; set -g @shell_mode \u0026#39;vi\u0026#39; # Other examples: # set -g @plugin \u0026#39;github_username/plugin_name\u0026#39; # set -g @plugin \u0026#39;github_username/plugin_name#branch\u0026#39; # set -g @plugin \u0026#39;git@github.com:user/plugin\u0026#39; # set -g @plugin \u0026#39;git@bitbucket.com:user/plugin\u0026#39; # Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf) run \u0026#39;~/.tmux/plugins/tpm/tpm\u0026#39; run-shell \u0026#39;~/.tmux/plugins/tmux-urlview/urlview.tmux\u0026#39; run-shell \u0026#39;~/.tmux/plugins/tmux-open/open.tmux\u0026#39; run-shell \u0026#39;~/.tmux/plugins/tmux-yank/yank.tmux\u0026#39; run-shell \u0026#39;~/.tmux/plugins/tmux-copycat/copycat.tmux\u0026#39; tmux无需过多配置，用vim的同学绑定hjkl就特别好用了。 更新配置文件 当修改了.tmux.conf后不想重启tmux,可以使用下面的命令更新配置 1 tmux source-file ~/.tmux.conf 解决vim在tmux中显示颜色异常 1 2 # vim ~/.bashrc alias tmux=\u0026#34;TERM=screen-256color-bce tmux\u0026#34; tmux中复制 tmux可以实现在终端中复制，方法很简单 1 2 3 4 Ctrl-a + [:进入复制模式 HJKL:选择需要复制的文本 Enter:复制并结束 Ctrl-a + ]:粘贴 tmux插件 tmux-yank tmux-copycat vim-tmux-navigator urlview tmux-open ","permalink":"https://cfanzp.com/devtools-tmux/","tags":["linux","tmux","terminal","vim"],"title":"tmux基本配置及vim适配"},{"categories":["devtools","git"],"contents":"git学习笔记 git 缩写配置 在home目录创建.gitconfig文件复制粘贴以下配置并保存退出 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 [user] name = xx email = xx@qq.com [color] interactive = auto diff = auto status = auto branch = auto ui = true repositoryformatversion = 0 filemode = true bare = false logallrefupdates = true ignorecase = true precomposeunicode = false [alias] co = checkout ci = commit st = status sh = stash sa = stash apply sp = stash pop ap = add -p br = branch cp = checkout -p cv = commit -v dc = diff --cached d = diff pr = pull --rebase ps = push l = log --graph --pretty=format:\u0026#39;%C(yellow)%h%Creset %C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u0026lt;%an\u0026gt;%Creset\u0026#39; --abbrev-commit --date=short --all lg = log --color --graph --pretty=format:\u0026#39;%Cred%h%Creset -%C(yellow)%d%Creset %s %Cgreen(%cr) %C(bold blue)\u0026lt;%an\u0026gt;%Creset\u0026#39; --abbrev-commit --all [hub] protocol = https [diff] tool = vimdiff [core] editor = vim 常用缩写 git co git br git st git lg 工作流 开发新功能a 1 2 3 4 5 sequenceDiagram participant proj1 participant a proj1-\u0026gt;\u0026gt;a:基于proj1分支创建一个a分支(step1) a-\u0026gt;\u0026gt;proj1:a分支开发完后合并入proj1分支,并删除a分支(step2) 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 step1: git br a proj1 git push origin a step2: git co proj1 git pull git co a git merge proj1 git push git co proj1 git merge a git push git br -D a 常用命令 删除远程分支a: 切换到本地其它分支,如master 1 git co master 删除远程分支 1 git push origin --delete a 修改远程分支地址 1 2 3 git remote -v git remote rm origin git remote add origin git@gitee.com:cfanzp/linux_note.git git添加多个远程分支地址 1 git remote add gitee git@gitee.com:cfanzp/linux_note.git git tag 命令 作用 git tag 查看标签列表 git tag -l \u0026ldquo;v1.0*\u0026rdquo; 模糊匹配查询 git tag \u0026ndash;list \u0026ldquo;v0.0*\u0026rdquo; 模糊匹配查询 git tag -a v1.0 -m \u0026ldquo;my version 1.0\u0026rdquo; 添加附注标签 git show v1.0 查看标签相关信息 git tag -lw 创建轻量标签，git show 不会看到额外标签信息 git tag -a v0.9 9fceb02 后期打标签 git push origin \u0026ndash;tags 将标签推送到远端 git tag -d v1.0 删除标签 git push origin \u0026ndash;delete 删除远端标签 git stash 当自己代码写了一半了，突然需要切换分支，去修改一下另外一个分支的某个问题的时候怎么办? 可以将当前分支放入暂存 1 git stash 当其它分支修改完后，想回到之前的状态怎么办?先checkout原来的分支，然后恢复暂存 1 git stash pop 当自己发现暂存的代码没用了如何删除? 1 git stash drop 清空暂存的所有内容 1 git stash clear 查看暂存 1 git stash list git diff 命令 作用 git diff 查看差异 git diff cached 查看工作版本和暂存的差异 git diff HEAD 查看工作版本和HEAD的差异 git diff HEAD^ HEAD 查看上上个版本和HEAD的差异 git diff \u0026ndash;stat 查看差异的文件列表 git diff \u0026ndash;stat ./client 查看client目录 差异的文件列表 git diff \u0026gt; patch 使用git diff 打补丁 git apply \u0026ndash;check patch 使用补丁,没有任何输出表示可以顺利接受这个补丁 git apply \u0026ndash;reject patch 使用补丁,冲突会生成.rej文件 git 回退到某个版本 git reset commit-id git push origin branch-name \u0026ndash;force 远程分支更新 git remote update origin \u0026ndash;prune 删除所有历史commit,创建一个新仓库 Checkout 1 git checkout --orphan latest_branch Add all the files 1 git add -A Commit the changes 1 git commit -am \u0026#34;commit message\u0026#34; Delete the branch 1 git branch -D master Rename the current branch to master 1 git branch -m master Finally, force update your repository 1 git push -f origin master ","permalink":"https://cfanzp.com/git-base/","tags":["git"],"title":"git学习笔记"},{"categories":["ubuntu","c++"],"contents":"ubuntu20.04配置gtest环境 写一个脚本安装gtest 方法1 cat ./install_gtest1.8.1.sh 1 2 3 4 5 6 7 8 cd /usr/local/src/ proxychains wget https://github.com/google/googletest/archive/release-1.8.1.tar.gz tar -xzvf release-1.8.1.tar.gz cd googletest-release-1.8.1/ mkdir build cd build cmake ../ make \u0026amp;\u0026amp; make install 方法2 1 2 3 4 5 6 7 sudo apt install libgtest-dev cd /usr/src/gtest/ mkdir build cd build sudo cmake .. sudo make cp ./lib/*.a /usr/local/lib/ 编写一个测试程序 cat demo.cpp 1 2 3 4 5 #include \u0026#34;demo.h\u0026#34; int add(int a, int b) { return (a + b); } cat demo.h 1 2 3 4 5 6 #ifndef C_DEMO_H_ #define C_DEMO_H_ int add(int a, int b); #endif // C_DEMO_H_ cat test_demo.cpp 1 2 3 4 5 6 7 8 9 10 11 12 13 14 #include \u0026lt;gtest/gtest.h\u0026gt; #include \u0026#34;demo.cpp\u0026#34; TEST(add, case1) { EXPECT_LT(2, add(0, 2)); EXPECT_EQ(7, add(5, 2)); ASSERT_LT(-2, add(1, 2)); ASSERT_EQ(3, add(1, 2)); } int main(int argc, char **argv) { testing::InitGoogleTest(\u0026amp;argc, argv); return RUN_ALL_TESTS(); } build 1 g++ -std=c++11 test.cpp -o test -lgtest -lpthread 运行效果 1 2 3 4 5 6 7 8 9 10 11 12 13 14 [==========] Running 1 test from 1 test suite. [----------] Global test environment set-up. [----------] 1 test from add [ RUN ] add.case1 test_demo.cpp:5: Failure Expected: (2) \u0026lt; (add(0, 2)), actual: 2 vs 2 [ FAILED ] add.case1 (0 ms) [----------] 1 test from add (0 ms total) [----------] Global test environment tear-down [==========] 1 test from 1 test suite ran. (0 ms total) [ PASSED ] 0 tests. [ FAILED ] 1 test, listed below: [ FAILED ] add.case1 ","permalink":"https://cfanzp.com/gtest/","tags":["ubuntu"],"title":"ubuntu20.04配置gtest环境"},{"categories":["golang"],"contents":"Golang库 日志库 https://github.com/sirupsen/logrus 网络安全 开源的数据库加密解决方案Acra 安全存储和访问机密数据的工具Vault 跨平台加密库themis http Hertz:应用在字节跳动自研 Golang HTTP 框 RPC Ginex KiteX:字节自有 RPC 框架 json库 sonic(字节优化版的json库): https://github.com/bytedance/sonic gjson: github.com/tidwall/gjson 算法 AES256算法 crypto ","permalink":"https://cfanzp.com/golang-lib/","tags":["go","golang"],"title":"Golang库"},{"categories":["linux","i3wm"],"contents":"i3wm-基础快捷键 多屏显示 1 xrandr --output HDMI2 --auto --right-of HDMI-3 mod 1 ctrl: $mod config 1 2 alt :Mod1 Win键:Mod4 打开一个虚拟终端 1 mod+enter 拆分 1 2 3 mod+enter mod+v ++ mod+enter;水平分割 mod+n ++ mod+enter;竖指分割 聚焦到父窗口 1 mod+a 进入工作区 1 mod+1,2,3... 移动窗口到其他工作区 1 mod+shift+1,2,3 全屏模式： 1 mod+f 三种模式： 1 2 splith/splitv: mod + e mod+h tacking: mod + s modhift+q 重启i3 1 mod+shift+r 退出i3 1 mod+shift+e 浮动i3 1 mod+shift+space 打开应用 1 mod+d ","permalink":"https://cfanzp.com/i3wm-shortkey/","tags":["linux","i3wm"],"title":"i3wm-基础快捷键"},{"categories":["c++","code"],"contents":"gdb 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 26 27 28 29 30 31 32 33 34 35 36 37 38 39 40 41 42 43 44 45 46 47 48 49 50 51 root@ecs-test:/data/linux_dev_blog# gdb --help This is the GNU debugger. Usage: gdb [options] [executable-file [core-file or process-id]] gdb [options] --args executable-file [inferior-arguments ...] Selection of debuggee and its files: --args Arguments after executable-file are passed to inferior --core=COREFILE Analyze the core dump COREFILE. --exec=EXECFILE Use EXECFILE as the executable. --pid=PID Attach to running process PID. --directory=DIR Search for source files in DIR. --se=FILE Use FILE as symbol file and executable file. --symbols=SYMFILE Read symbols from SYMFILE. --readnow Fully read symbol files on first access. --readnever Do not read symbol files. --write Set writing into executable and core files. Initial commands and command files: --command=FILE, -x Execute GDB commands from FILE. --init-command=FILE, -ix Like -x but execute commands before loading inferior. --eval-command=COMMAND, -ex Execute a single GDB command. May be used multiple times and in conjunction with --command. --init-eval-command=COMMAND, -iex Like -ex but before loading inferior. --nh Do not read ~/.gdbinit. --nx Do not read any .gdbinit files in any directory. Output and user interface control: --fullname Output information used by emacs-GDB interface. --interpreter=INTERP Select a specific interpreter / user interface --tty=TTY Use TTY for input/output by the program being debugged. -w Use the GUI interface. --nw Do not use the GUI interface. --tui Use a terminal user interface. --dbx DBX compatibility mode. -q, --quiet, --silent Do not print version number on startup. Operating modes: --batch Exit after processing options. --batch-silent Like --batch, but suppress all gdb stdout output. --return-child-result GDB exit code will be the child\u0026#39;s exit code. --configuration Print details about GDB configuration and then exit. --help Print this message and then exit. 添加调试信息-g 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15 16 17 18 19 20 21 22 23 24 25 命令名称\t命令缩写\t命令说明 run\tr\t运行一个待调试的程序 continue\tc\t让暂停的程序继续运行 next\tn\t运行到下一行 step\ts\t单步执行，遇到函数会进入 until\tu\t运行到指定行停下来 finish\tfi\t结束当前调用函数，回到上一层调用函数处 return\treturn\t结束当前调用函数并返回指定值，到上一层函数调用处 jump\tj\t将当前程序执行流跳转到指定行或地址 print\tp\t打印变量或寄存器值 backtrace\tbt\t查看当前线程的调用堆栈 frame\tf\t切换到当前调用线程的指定堆栈 thread\tthread\t切换到指定线程 break\tb\t添加断点 tbreak\ttb\t添加临时断点 delete\td\t删除断点 enable\tenable\t启用某个断点 disable\tdisable\t禁用某个断点 watch\twatch\t监视某一个变量或内存地址的值是否发生变化 list\tl\t显示源码 info\ti\t查看断点 / 线程等信息 ptype\tptype\t查看变量类型 disassemble\tdis\t查看汇编代码 set args\tset args\t设置程序启动命令行参数 show args\tshow args\t查看设置的命令行参数 设置断点 在gdb启动程序后可以使用b + 文件绝对路径+文件名:行号来设置断点 1 b /data/code/test.cpp:66 gdb调试core文件 1 gcc -c /tmp/core.server ./server 更多gdb调试技巧 https://www.yanbinghu.com/2019/04/20/41283.html gdb调试1000招 ","permalink":"https://cfanzp.com/gdb/","tags":["gdb","c++"],"title":"gdb"},{"categories":["c++"],"contents":"c++ 容易crash的点 一点感想 c++ 是一门让人又爱又不安的语言，爱的是它的运行高效，兼顾面向对象的特性。不安的是用不好的情况下很容易就crash了。这里收集一些比较典型的容易crash的点。 容易crash得点 数组越界 replace引起的crash 在做replcae操作前，需要先确定这个元素是存在的。 例如 1 2 string a = \u0026#34;abc\u0026#34;; a.replace(a.find(\u0026#34;_\u0026#34;),1,\u0026#34;,\u0026#34;); 安全写法 1 2 3 4 string a = \u0026#34;abc\u0026#34;; if (a.find(\u0026#34;_\u0026#34;) != string::npos) { a.replace(a.find(\u0026#34;_\u0026#34;),1,\u0026#34;,\u0026#34;); } char* 转string 引起的crash char* 为0或null赋值给string,或通过函数参数转为string都会引起crash. 1 2 char* a = 0; string b = a; ","permalink":"https://cfanzp.com/cpp_crash_summary/","tags":["c++"],"title":"c++ 容易crash的点"},{"categories":null,"contents":"","permalink":"https://cfanzp.com/search/","tags":null,"title":"Search"}]